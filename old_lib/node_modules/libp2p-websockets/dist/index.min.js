(function (root, factory) {(typeof module === 'object' && module.exports) ? module.exports = factory() : root.Libp2pWebsockets = factory()}(typeof self !== 'undefined' ? self : this, function () {
var Libp2pWebsockets=(()=>{var tc=Object.defineProperty;var St=(e,t)=>()=>(e&&(t=e(e=0)),t),x=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Ne=(e,t)=>{for(var r in t)tc(e,r,{get:t[r],enumerable:!0})};var Vn=x(()=>{});var Wn=x((_l,Gn)=>{Gn.exports=typeof WebSocket=="undefined"?Vn():WebSocket});var Hn=x($e=>{"use strict";$e.byteLength=ec;$e.toByteArray=rc;$e.fromByteArray=nc;var dt=[],st=[],ic=typeof Uint8Array!="undefined"?Uint8Array:Array,Ir="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Wt=0,sc=Ir.length;Wt<sc;++Wt)dt[Wt]=Ir[Wt],st[Ir.charCodeAt(Wt)]=Wt;st["-".charCodeAt(0)]=62;st["_".charCodeAt(0)]=63;function Zn(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function ec(e){var t=Zn(e),r=t[0],n=t[1];return(r+n)*3/4-n}function oc(e,t,r){return(t+r)*3/4-r}function rc(e){var t,r=Zn(e),n=r[0],i=r[1],o=new ic(oc(e,n,i)),u=0,h=i>0?n-4:n,d;for(d=0;d<h;d+=4)t=st[e.charCodeAt(d)]<<18|st[e.charCodeAt(d+1)]<<12|st[e.charCodeAt(d+2)]<<6|st[e.charCodeAt(d+3)],o[u++]=t>>16&255,o[u++]=t>>8&255,o[u++]=t&255;return i===2&&(t=st[e.charCodeAt(d)]<<2|st[e.charCodeAt(d+1)]>>4,o[u++]=t&255),i===1&&(t=st[e.charCodeAt(d)]<<10|st[e.charCodeAt(d+1)]<<4|st[e.charCodeAt(d+2)]>>2,o[u++]=t>>8&255,o[u++]=t&255),o}function ac(e){return dt[e>>18&63]+dt[e>>12&63]+dt[e>>6&63]+dt[e&63]}function uc(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(e[o+2]&255),i.push(ac(n));return i.join("")}function nc(e){for(var t,r=e.length,n=r%3,i=[],o=16383,u=0,h=r-n;u<h;u+=o)i.push(uc(e,u,u+o>h?h:u+o));return n===1?(t=e[r-1],i.push(dt[t>>2]+dt[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(dt[t>>10]+dt[t>>4&63]+dt[t<<2&63]+"=")),i.join("")}});var Qn=x(Cr=>{Cr.read=function(e,t,r,n,i){var o,u,h=i*8-n-1,d=(1<<h)-1,b=d>>1,p=-7,g=r?i-1:0,A=r?-1:1,m=e[t+g];for(g+=A,o=m&(1<<-p)-1,m>>=-p,p+=h;p>0;o=o*256+e[t+g],g+=A,p-=8);for(u=o&(1<<-p)-1,o>>=-p,p+=n;p>0;u=u*256+e[t+g],g+=A,p-=8);if(o===0)o=1-b;else{if(o===d)return u?NaN:(m?-1:1)*Infinity;u=u+Math.pow(2,n),o=o-b}return(m?-1:1)*u*Math.pow(2,o-n)};Cr.write=function(e,t,r,n,i,o){var u,h,d,b=o*8-i-1,p=(1<<b)-1,g=p>>1,A=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=n?0:o-1,v=n?1:-1,_=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===Infinity?(h=isNaN(t)?1:0,u=p):(u=Math.floor(Math.log(t)/Math.LN2),t*(d=Math.pow(2,-u))<1&&(u--,d*=2),u+g>=1?t+=A/d:t+=A*Math.pow(2,1-g),t*d>=2&&(u++,d/=2),u+g>=p?(h=0,u=p):u+g>=1?(h=(t*d-1)*Math.pow(2,i),u=u+g):(h=t*Math.pow(2,g-1)*Math.pow(2,i),u=0));i>=8;e[r+m]=h&255,m+=v,h/=256,i-=8);for(u=u<<i|h,b+=i;b>0;e[r+m]=u&255,m+=v,u/=256,b-=8);e[r+m-v]|=_*128}});var hi=x(Zt=>{"use strict";var _r=Hn(),Ht=Qn(),Yn=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Zt.Buffer=l;Zt.SlowBuffer=cc;Zt.INSPECT_MAX_BYTES=50;var Le=2147483647;Zt.kMaxLength=Le;l.TYPED_ARRAY_SUPPORT=fc();!l.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function fc(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),e.foo()===42}catch(e){return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(!!l.isBuffer(this))return this.buffer}});Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(!!l.isBuffer(this))return this.byteOffset}});function xt(e){if(e>Le)throw new RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,r){if(typeof e=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Rr(e)}return Jn(e,t,r)}l.poolSize=8192;function Jn(e,t,r){if(typeof e=="string")return pc(e,t);if(ArrayBuffer.isView(e))return hc(e);if(e==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(yt(e,ArrayBuffer)||e&&yt(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(yt(e,SharedArrayBuffer)||e&&yt(e.buffer,SharedArrayBuffer)))return Mr(e,t,r);if(typeof e=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=e.valueOf&&e.valueOf();if(n!=null&&n!==e)return l.from(n,t,r);let i=lc(e);if(i)return i;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]=="function")return l.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}l.from=function(e,t,r){return Jn(e,t,r)};Object.setPrototypeOf(l.prototype,Uint8Array.prototype);Object.setPrototypeOf(l,Uint8Array);function Xn(e){if(typeof e!="number")throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function dc(e,t,r){return Xn(e),e<=0?xt(e):t!==void 0?typeof r=="string"?xt(e).fill(t,r):xt(e).fill(t):xt(e)}l.alloc=function(e,t,r){return dc(e,t,r)};function Rr(e){return Xn(e),xt(e<0?0:Fr(e)|0)}l.allocUnsafe=function(e){return Rr(e)};l.allocUnsafeSlow=function(e){return Rr(e)};function pc(e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);let r=Kn(e,t)|0,n=xt(r),i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}function Dr(e){let t=e.length<0?0:Fr(e.length)|0,r=xt(t);for(let n=0;n<t;n+=1)r[n]=e[n]&255;return r}function hc(e){if(yt(e,Uint8Array)){let t=new Uint8Array(e);return Mr(t.buffer,t.byteOffset,t.byteLength)}return Dr(e)}function Mr(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return t===void 0&&r===void 0?n=new Uint8Array(e):r===void 0?n=new Uint8Array(e,t):n=new Uint8Array(e,t,r),Object.setPrototypeOf(n,l.prototype),n}function lc(e){if(l.isBuffer(e)){let t=Fr(e.length)|0,r=xt(t);return r.length===0||e.copy(r,0,0,t),r}if(e.length!==void 0)return typeof e.length!="number"||Ur(e.length)?xt(0):Dr(e);if(e.type==="Buffer"&&Array.isArray(e.data))return Dr(e.data)}function Fr(e){if(e>=Le)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Le.toString(16)+" bytes");return e|0}function cc(e){return+e!=e&&(e=0),l.alloc(+e)}l.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==l.prototype};l.compare=function(t,r){if(yt(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),yt(r,Uint8Array)&&(r=l.from(r,r.offset,r.byteLength)),!l.isBuffer(t)||!l.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===r)return 0;let n=t.length,i=r.length;for(let o=0,u=Math.min(n,i);o<u;++o)if(t[o]!==r[o]){n=t[o],i=r[o];break}return n<i?-1:i<n?1:0};l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};l.concat=function(t,r){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return l.alloc(0);let n;if(r===void 0)for(r=0,n=0;n<t.length;++n)r+=t[n].length;let i=l.allocUnsafe(r),o=0;for(n=0;n<t.length;++n){let u=t[n];if(yt(u,Uint8Array))o+u.length>i.length?(l.isBuffer(u)||(u=l.from(u)),u.copy(i,o)):Uint8Array.prototype.set.call(i,u,o);else if(l.isBuffer(u))u.copy(i,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=u.length}return i};function Kn(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||yt(e,ArrayBuffer))return e.byteLength;if(typeof e!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return Or(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return ti(e).length;default:if(i)return n?-1:Or(e).length;t=(""+t).toLowerCase(),i=!0}}l.byteLength=Kn;function vc(e,t,r){let n=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,t>>>=0,r<=t))return"";for(e||(e="utf8");;)switch(e){case"hex":return mc(this,t,r);case"utf8":case"utf-8":return ei(this,t,r);case"ascii":return gc(this,t,r);case"latin1":case"binary":return wc(this,t,r);case"base64":return yc(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return bc(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}l.prototype._isBuffer=!0;function Nt(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}l.prototype.swap16=function(){let t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<t;r+=2)Nt(this,r,r+1);return this};l.prototype.swap32=function(){let t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<t;r+=4)Nt(this,r,r+3),Nt(this,r+1,r+2);return this};l.prototype.swap64=function(){let t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<t;r+=8)Nt(this,r,r+7),Nt(this,r+1,r+6),Nt(this,r+2,r+5),Nt(this,r+3,r+4);return this};l.prototype.toString=function(){let t=this.length;return t===0?"":arguments.length===0?ei(this,0,t):vc.apply(this,arguments)};l.prototype.toLocaleString=l.prototype.toString;l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:l.compare(this,t)===0};l.prototype.inspect=function(){let t="",r=Zt.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"};Yn&&(l.prototype[Yn]=l.prototype.inspect);l.prototype.compare=function(t,r,n,i,o){if(yt(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(r===void 0&&(r=0),n===void 0&&(n=t?t.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),r<0||n>t.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&r>=n)return 0;if(i>=o)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,o>>>=0,this===t)return 0;let u=o-i,h=n-r,d=Math.min(u,h),b=this.slice(i,o),p=t.slice(r,n);for(let g=0;g<d;++g)if(b[g]!==p[g]){u=b[g],h=p[g];break}return u<h?-1:h<u?1:0};function ni(e,t,r,n,i){if(e.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,Ur(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof t=="string"&&(t=l.from(t,n)),l.isBuffer(t))return t.length===0?-1:ri(e,t,r,n,i);if(typeof t=="number")return t=t&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):ri(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function ri(e,t,r,n,i){let o=1,u=e.length,h=t.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(e.length<2||t.length<2)return-1;o=2,u/=2,h/=2,r/=2}function d(p,g){return o===1?p[g]:p.readUInt16BE(g*o)}let b;if(i){let p=-1;for(b=r;b<u;b++)if(d(e,b)===d(t,p===-1?0:b-p)){if(p===-1&&(p=b),b-p+1===h)return p*o}else p!==-1&&(b-=b-p),p=-1}else for(r+h>u&&(r=u-h),b=r;b>=0;b--){let p=!0;for(let g=0;g<h;g++)if(d(e,b+g)!==d(t,g)){p=!1;break}if(p)return b}return-1}l.prototype.includes=function(t,r,n){return this.indexOf(t,r,n)!==-1};l.prototype.indexOf=function(t,r,n){return ni(this,t,r,n,!0)};l.prototype.lastIndexOf=function(t,r,n){return ni(this,t,r,n,!1)};function Ec(e,t,r,n){r=Number(r)||0;let i=e.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;let o=t.length;n>o/2&&(n=o/2);let u;for(u=0;u<n;++u){let h=parseInt(t.substr(u*2,2),16);if(Ur(h))return u;e[r+u]=h}return u}function Sc(e,t,r,n){return ke(Or(t,e.length-r),e,r,n)}function Ac(e,t,r,n){return ke(xc(t),e,r,n)}function Bc(e,t,r,n){return ke(ti(t),e,r,n)}function Ic(e,t,r,n){return ke(Tc(t,e.length-r),e,r,n)}l.prototype.write=function(t,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let o=this.length-r;if((n===void 0||n>o)&&(n=o),t.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let u=!1;for(;;)switch(i){case"hex":return Ec(this,t,r,n);case"utf8":case"utf-8":return Sc(this,t,r,n);case"ascii":case"latin1":case"binary":return Ac(this,t,r,n);case"base64":return Bc(this,t,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ic(this,t,r,n);default:if(u)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),u=!0}};l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function yc(e,t,r){return t===0&&r===e.length?_r.fromByteArray(e):_r.fromByteArray(e.slice(t,r))}function ei(e,t,r){r=Math.min(e.length,r);let n=[],i=t;for(;i<r;){let o=e[i],u=null,h=o>239?4:o>223?3:o>191?2:1;if(i+h<=r){let d,b,p,g;switch(h){case 1:o<128&&(u=o);break;case 2:d=e[i+1],(d&192)==128&&(g=(o&31)<<6|d&63,g>127&&(u=g));break;case 3:d=e[i+1],b=e[i+2],(d&192)==128&&(b&192)==128&&(g=(o&15)<<12|(d&63)<<6|b&63,g>2047&&(g<55296||g>57343)&&(u=g));break;case 4:d=e[i+1],b=e[i+2],p=e[i+3],(d&192)==128&&(b&192)==128&&(p&192)==128&&(g=(o&15)<<18|(d&63)<<12|(b&63)<<6|p&63,g>65535&&g<1114112&&(u=g))}}u===null?(u=65533,h=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|u&1023),n.push(u),i+=h}return Cc(n)}var ii=4096;function Cc(e){let t=e.length;if(t<=ii)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=ii));return r}function gc(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]&127);return n}function wc(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function mc(e,t,r){let n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let o=t;o<r;++o)i+=_c[e[o]];return i}function bc(e,t,r){let n=e.slice(t,r),i="";for(let o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}l.prototype.slice=function(t,r){let n=this.length;t=~~t,r=r===void 0?n:~~r,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<t&&(r=t);let i=this.subarray(t,r);return Object.setPrototypeOf(i,l.prototype),i};function j(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(t,r,n){t=t>>>0,r=r>>>0,n||j(t,r,this.length);let i=this[t],o=1,u=0;for(;++u<r&&(o*=256);)i+=this[t+u]*o;return i};l.prototype.readUintBE=l.prototype.readUIntBE=function(t,r,n){t=t>>>0,r=r>>>0,n||j(t,r,this.length);let i=this[t+--r],o=1;for(;r>0&&(o*=256);)i+=this[t+--r]*o;return i};l.prototype.readUint8=l.prototype.readUInt8=function(t,r){return t=t>>>0,r||j(t,1,this.length),this[t]};l.prototype.readUint16LE=l.prototype.readUInt16LE=function(t,r){return t=t>>>0,r||j(t,2,this.length),this[t]|this[t+1]<<8};l.prototype.readUint16BE=l.prototype.readUInt16BE=function(t,r){return t=t>>>0,r||j(t,2,this.length),this[t]<<8|this[t+1]};l.prototype.readUint32LE=l.prototype.readUInt32LE=function(t,r){return t=t>>>0,r||j(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216};l.prototype.readUint32BE=l.prototype.readUInt32BE=function(t,r){return t=t>>>0,r||j(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])};l.prototype.readBigUInt64LE=_t(function(t){t=t>>>0,Qt(t,"offset");let r=this[t],n=this[t+7];(r===void 0||n===void 0)&&me(t,this.length-8);let i=r+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24,o=this[++t]+this[++t]*2**8+this[++t]*2**16+n*2**24;return BigInt(i)+(BigInt(o)<<BigInt(32))});l.prototype.readBigUInt64BE=_t(function(t){t=t>>>0,Qt(t,"offset");let r=this[t],n=this[t+7];(r===void 0||n===void 0)&&me(t,this.length-8);let i=r*2**24+this[++t]*2**16+this[++t]*2**8+this[++t],o=this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(o)});l.prototype.readIntLE=function(t,r,n){t=t>>>0,r=r>>>0,n||j(t,r,this.length);let i=this[t],o=1,u=0;for(;++u<r&&(o*=256);)i+=this[t+u]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*r)),i};l.prototype.readIntBE=function(t,r,n){t=t>>>0,r=r>>>0,n||j(t,r,this.length);let i=r,o=1,u=this[t+--i];for(;i>0&&(o*=256);)u+=this[t+--i]*o;return o*=128,u>=o&&(u-=Math.pow(2,8*r)),u};l.prototype.readInt8=function(t,r){return t=t>>>0,r||j(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]};l.prototype.readInt16LE=function(t,r){t=t>>>0,r||j(t,2,this.length);let n=this[t]|this[t+1]<<8;return n&32768?n|4294901760:n};l.prototype.readInt16BE=function(t,r){t=t>>>0,r||j(t,2,this.length);let n=this[t+1]|this[t]<<8;return n&32768?n|4294901760:n};l.prototype.readInt32LE=function(t,r){return t=t>>>0,r||j(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24};l.prototype.readInt32BE=function(t,r){return t=t>>>0,r||j(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]};l.prototype.readBigInt64LE=_t(function(t){t=t>>>0,Qt(t,"offset");let r=this[t],n=this[t+7];(r===void 0||n===void 0)&&me(t,this.length-8);let i=this[t+4]+this[t+5]*2**8+this[t+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(r+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24)});l.prototype.readBigInt64BE=_t(function(t){t=t>>>0,Qt(t,"offset");let r=this[t],n=this[t+7];(r===void 0||n===void 0)&&me(t,this.length-8);let i=(r<<24)+this[++t]*2**16+this[++t]*2**8+this[++t];return(BigInt(i)<<BigInt(32))+BigInt(this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+n)});l.prototype.readFloatLE=function(t,r){return t=t>>>0,r||j(t,4,this.length),Ht.read(this,t,!0,23,4)};l.prototype.readFloatBE=function(t,r){return t=t>>>0,r||j(t,4,this.length),Ht.read(this,t,!1,23,4)};l.prototype.readDoubleLE=function(t,r){return t=t>>>0,r||j(t,8,this.length),Ht.read(this,t,!0,52,8)};l.prototype.readDoubleBE=function(t,r){return t=t>>>0,r||j(t,8,this.length),Ht.read(this,t,!1,52,8)};function K(e,t,r,n,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(t,r,n,i){if(t=+t,r=r>>>0,n=n>>>0,!i){let h=Math.pow(2,8*n)-1;K(this,t,r,n,h,0)}let o=1,u=0;for(this[r]=t&255;++u<n&&(o*=256);)this[r+u]=t/o&255;return r+n};l.prototype.writeUintBE=l.prototype.writeUIntBE=function(t,r,n,i){if(t=+t,r=r>>>0,n=n>>>0,!i){let h=Math.pow(2,8*n)-1;K(this,t,r,n,h,0)}let o=n-1,u=1;for(this[r+o]=t&255;--o>=0&&(u*=256);)this[r+o]=t/u&255;return r+n};l.prototype.writeUint8=l.prototype.writeUInt8=function(t,r,n){return t=+t,r=r>>>0,n||K(this,t,r,1,255,0),this[r]=t&255,r+1};l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(t,r,n){return t=+t,r=r>>>0,n||K(this,t,r,2,65535,0),this[r]=t&255,this[r+1]=t>>>8,r+2};l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(t,r,n){return t=+t,r=r>>>0,n||K(this,t,r,2,65535,0),this[r]=t>>>8,this[r+1]=t&255,r+2};l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(t,r,n){return t=+t,r=r>>>0,n||K(this,t,r,4,4294967295,0),this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=t&255,r+4};l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(t,r,n){return t=+t,r=r>>>0,n||K(this,t,r,4,4294967295,0),this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=t&255,r+4};function oi(e,t,r,n,i){si(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o=o>>8,e[r++]=o,o=o>>8,e[r++]=o,o=o>>8,e[r++]=o;let u=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=u,u=u>>8,e[r++]=u,u=u>>8,e[r++]=u,u=u>>8,e[r++]=u,r}function ai(e,t,r,n,i){si(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o=o>>8,e[r+6]=o,o=o>>8,e[r+5]=o,o=o>>8,e[r+4]=o;let u=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=u,u=u>>8,e[r+2]=u,u=u>>8,e[r+1]=u,u=u>>8,e[r]=u,r+8}l.prototype.writeBigUInt64LE=_t(function(t,r=0){return oi(this,t,r,BigInt(0),BigInt("0xffffffffffffffff"))});l.prototype.writeBigUInt64BE=_t(function(t,r=0){return ai(this,t,r,BigInt(0),BigInt("0xffffffffffffffff"))});l.prototype.writeIntLE=function(t,r,n,i){if(t=+t,r=r>>>0,!i){let d=Math.pow(2,8*n-1);K(this,t,r,n,d-1,-d)}let o=0,u=1,h=0;for(this[r]=t&255;++o<n&&(u*=256);)t<0&&h===0&&this[r+o-1]!==0&&(h=1),this[r+o]=(t/u>>0)-h&255;return r+n};l.prototype.writeIntBE=function(t,r,n,i){if(t=+t,r=r>>>0,!i){let d=Math.pow(2,8*n-1);K(this,t,r,n,d-1,-d)}let o=n-1,u=1,h=0;for(this[r+o]=t&255;--o>=0&&(u*=256);)t<0&&h===0&&this[r+o+1]!==0&&(h=1),this[r+o]=(t/u>>0)-h&255;return r+n};l.prototype.writeInt8=function(t,r,n){return t=+t,r=r>>>0,n||K(this,t,r,1,127,-128),t<0&&(t=255+t+1),this[r]=t&255,r+1};l.prototype.writeInt16LE=function(t,r,n){return t=+t,r=r>>>0,n||K(this,t,r,2,32767,-32768),this[r]=t&255,this[r+1]=t>>>8,r+2};l.prototype.writeInt16BE=function(t,r,n){return t=+t,r=r>>>0,n||K(this,t,r,2,32767,-32768),this[r]=t>>>8,this[r+1]=t&255,r+2};l.prototype.writeInt32LE=function(t,r,n){return t=+t,r=r>>>0,n||K(this,t,r,4,2147483647,-2147483648),this[r]=t&255,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24,r+4};l.prototype.writeInt32BE=function(t,r,n){return t=+t,r=r>>>0,n||K(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=t&255,r+4};l.prototype.writeBigInt64LE=_t(function(t,r=0){return oi(this,t,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});l.prototype.writeBigInt64BE=_t(function(t,r=0){return ai(this,t,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ui(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function ci(e,t,r,n,i){return t=+t,r=r>>>0,i||ui(e,t,r,4,34028234663852886e22,-34028234663852886e22),Ht.write(e,t,r,n,23,4),r+4}l.prototype.writeFloatLE=function(t,r,n){return ci(this,t,r,!0,n)};l.prototype.writeFloatBE=function(t,r,n){return ci(this,t,r,!1,n)};function fi(e,t,r,n,i){return t=+t,r=r>>>0,i||ui(e,t,r,8,17976931348623157e292,-17976931348623157e292),Ht.write(e,t,r,n,52,8),r+8}l.prototype.writeDoubleLE=function(t,r,n){return fi(this,t,r,!0,n)};l.prototype.writeDoubleBE=function(t,r,n){return fi(this,t,r,!1,n)};l.prototype.copy=function(t,r,n,i){if(!l.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),r>=t.length&&(r=t.length),r||(r=0),i>0&&i<n&&(i=n),i===n||t.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-r<i-n&&(i=t.length-r+n);let o=i-n;return this===t&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,i):Uint8Array.prototype.set.call(t,this.subarray(n,i),r),o};l.prototype.fill=function(t,r,n,i){if(typeof t=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!l.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(t.length===1){let u=t.charCodeAt(0);(i==="utf8"&&u<128||i==="latin1")&&(t=u)}}else typeof t=="number"?t=t&255:typeof t=="boolean"&&(t=Number(t));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,t||(t=0);let o;if(typeof t=="number")for(o=r;o<n;++o)this[o]=t;else{let u=l.isBuffer(t)?t:l.from(t,i),h=u.length;if(h===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<n-r;++o)this[o+r]=u[o%h]}return this};var Yt={};function Pr(e,t,r){Yt[e]=class extends r{constructor(){super();Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}Pr("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);Pr("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError);Pr("ERR_OUT_OF_RANGE",function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=pi(String(r)):typeof r=="bigint"&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=pi(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n},RangeError);function pi(e){let t="",r=e.length,n=e[0]==="-"?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function Rc(e,t,r){Qt(t,"offset"),(e[t]===void 0||e[t+r]===void 0)&&me(t,e.length-(r+1))}function si(e,t,r,n,i,o){if(e>r||e<t){let u=typeof t=="bigint"?"n":"",h;throw o>3?t===0||t===BigInt(0)?h=`>= 0${u} and < 2${u} ** ${(o+1)*8}${u}`:h=`>= -(2${u} ** ${(o+1)*8-1}${u}) and < 2 ** ${(o+1)*8-1}${u}`:h=`>= ${t}${u} and <= ${r}${u}`,new Yt.ERR_OUT_OF_RANGE("value",h,e)}Rc(n,i,o)}function Qt(e,t){if(typeof e!="number")throw new Yt.ERR_INVALID_ARG_TYPE(t,"number",e)}function me(e,t,r){throw Math.floor(e)!==e?(Qt(e,r),new Yt.ERR_OUT_OF_RANGE(r||"offset","an integer",e)):t<0?new Yt.ERR_BUFFER_OUT_OF_BOUNDS:new Yt.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}var Mc=/[^+/0-9A-Za-z-_]/g;function Fc(e){if(e=e.split("=")[0],e=e.trim().replace(Mc,""),e.length<2)return"";for(;e.length%4!=0;)e=e+"=";return e}function Or(e,t){t=t||Infinity;let r,n=e.length,i=null,o=[];for(let u=0;u<n;++u){if(r=e.charCodeAt(u),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}else if(u+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return o}function xc(e){let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r)&255);return t}function Tc(e,t){let r,n,i,o=[];for(let u=0;u<e.length&&!((t-=2)<0);++u)r=e.charCodeAt(u),n=r>>8,i=r%256,o.push(i),o.push(n);return o}function ti(e){return _r.toByteArray(Fc(e))}function ke(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function yt(e,t){return e instanceof t||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===t.name}function Ur(e){return e!==e}var _c=function(){let e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){let n=r*16;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function _t(e){return typeof BigInt=="undefined"?Dc:e}function Dc(){throw new Error("BigInt not supported")}});var di=x(qe=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});var li=class{constructor(){this.pullQueue=[],this.pushQueue=[],this.eventHandlers={},this.isPaused=!1,this.isStopped=!1}push(t){if(this.isStopped)return;let r={value:t,done:!1};if(this.pullQueue.length){let n=this.pullQueue.shift();n&&n.resolve(r)}else this.pushQueue.push(Promise.resolve(r)),this.highWaterMark!==void 0&&this.pushQueue.length>=this.highWaterMark&&!this.isPaused&&(this.isPaused=!0,this.eventHandlers.highWater?this.eventHandlers.highWater():console&&console.warn(`EventIterator queue reached ${this.pushQueue.length} items`))}stop(){if(!this.isStopped){this.isStopped=!0,this.remove();for(let t of this.pullQueue)t.resolve({value:void 0,done:!0});this.pullQueue.length=0}}fail(t){if(!this.isStopped)if(this.isStopped=!0,this.remove(),this.pullQueue.length){for(let r of this.pullQueue)r.reject(t);this.pullQueue.length=0}else{let r=Promise.reject(t);r.catch(()=>{}),this.pushQueue.push(r)}}remove(){Promise.resolve().then(()=>{this.removeCallback&&this.removeCallback()})}[Symbol.asyncIterator](){return{next:t=>{let r=this.pushQueue.shift();return r?(this.lowWaterMark!==void 0&&this.pushQueue.length<=this.lowWaterMark&&this.isPaused&&(this.isPaused=!1,this.eventHandlers.lowWater&&this.eventHandlers.lowWater()),r):this.isStopped?Promise.resolve({value:void 0,done:!0}):new Promise((n,i)=>{this.pullQueue.push({resolve:n,reject:i})})},return:()=>(this.isStopped=!0,this.pushQueue.length=0,this.remove(),Promise.resolve({value:void 0,done:!0}))}}},Nr=class{constructor(t,{highWaterMark:r=100,lowWaterMark:n=1}={}){let i=new li;i.highWaterMark=r,i.lowWaterMark=n,i.removeCallback=t({push:o=>i.push(o),stop:()=>i.stop(),fail:o=>i.fail(o),on:(o,u)=>{i.eventHandlers[o]=u}})||(()=>{}),this[Symbol.asyncIterator]=()=>i[Symbol.asyncIterator](),Object.freeze(this)}};qe.EventIterator=Nr;qe.default=Nr});var yi=x(be=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});var $r=di();be.EventIterator=$r.EventIterator;function Uc(e,t,r){return new $r.EventIterator(({push:n})=>(this.addEventListener(e,n,t),()=>this.removeEventListener(e,n,t)),r)}be.subscribe=Uc;be.default=$r.EventIterator});var wi=x((Pl,gi)=>{var{Buffer:Oc}=hi(),{EventIterator:Pc}=yi();function Nc(e){return e instanceof ArrayBuffer||e!=null&&e.constructor!=null&&e.constructor.name==="ArrayBuffer"&&typeof e.byteLength=="number"}gi.exports=e=>{let t=e.removeEventListener||e.removeListener,r=async function*(){let o=new Pc(({push:u,stop:h,fail:d})=>(e.addEventListener("message",u),e.addEventListener("error",d),e.addEventListener("close",h),()=>{t.call(e,"message",u),t.call(e,"error",d),t.call(e,"close",h)}),{highWaterMark:Infinity});for await(let{data:u}of o)yield Nc(u)?Oc.from(u):u}(),n=e.readyState===1,i;return e.addEventListener("open",()=>{n=!0,i=null}),e.addEventListener("close",()=>{n=!1,i=null}),e.addEventListener("error",o=>{n||(i=o)}),r.connected=()=>new Promise((o,u)=>{if(n)return o();if(i)return u(i);let h=p=>{t.call(e,"open",d),t.call(e,"error",b),p()},d=()=>h(o),b=p=>h(()=>u(p));e.addEventListener("open",d),e.addEventListener("error",b)}),r}});var bi=x((Nl,mi)=>{mi.exports=async e=>{if(e.readyState>=2)throw new Error("socket closed");if(e.readyState!==1)return new Promise((t,r)=>{let n=e&&(e.removeEventListener||e.removeListener);function i(){typeof n=="function"&&(n.call(e,"open",o),n.call(e,"error",u))}function o(){i(),t()}function u(h){i(),r(h)}e.addEventListener("open",o),e.addEventListener("error",u)})}});var Ei=x(($l,vi)=>{var $c=bi();vi.exports=(e,t)=>(t=t||{},t.closeOnEnd=t.closeOnEnd!==!1,async r=>{for await(let n of r){try{await $c(e)}catch(i){if(i.message==="socket closed")break;throw i}e.send(n)}if(t.closeOnEnd&&e.readyState<=1)return new Promise((n,i)=>{e.addEventListener("close",o=>{if(o.wasClean||o.code===1006)n();else{let u=Object.assign(new Error("ws error"),{event:o});i(u)}}),setTimeout(()=>e.close())})})});var xi=x((Ll,Si)=>{var Lc=wi(),kc=Ei();Si.exports=(e,t)=>{t=t||{},t.binaryType?e.binaryType=t.binaryType:t.binary&&(e.binaryType="arraybuffer");let r={sink:kc(e,t),source:Lc(e,t),connected:()=>r.source.connected()};return r}});var Lr=x((kl,Ai)=>{"use strict";var qc=typeof navigator!="undefined"&&navigator.product==="ReactNative";function jc(){return qc?"http://localhost":self.location.protocol+"//"+self.location.host}var ve=self.URL,Bi=jc(),Ti=class{constructor(t="",r=Bi){this.super=new ve(t,r),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(t){this.super.hash=t}set host(t){this.super.host=t}set hostname(t){this.super.hostname=t}set href(t){this.super.href=t}set password(t){this.super.password=t}set pathname(t){this.super.pathname=t}set port(t){this.super.port=t}set protocol(t){this.super.protocol=t}set search(t){this.super.search=t}set username(t){this.super.username=t}static createObjectURL(t){return ve.createObjectURL(t)}static revokeObjectURL(t){ve.revokeObjectURL(t)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}};function zc(e){if(typeof e=="string")return new ve(e).toString();if(!(e instanceof ve)){let t=e.username&&e.password?`${e.username}:${e.password}@`:"",r=e.auth?e.auth+"@":"",n=e.port?":"+e.port:"",i=e.protocol?e.protocol+"//":"",o=e.host||"",u=e.hostname||"",h=e.search||(e.query?"?"+e.query:""),d=e.hash||"",b=e.pathname||"",p=e.path||b+h;return`${i}${t||r}${o||u+n}${p}${d}`}}Ai.exports={URLWithLegacySupport:Ti,URLSearchParams:self.URLSearchParams,defaultBase:Bi,format:zc}});var _i=x((ql,Ii)=>{"use strict";var{URLWithLegacySupport:Ci,format:Vc}=Lr();Ii.exports=(e,t={},r={},n)=>{let i=t.protocol?t.protocol.replace(":",""):"http";i=(r[i]||n||i)+":";let o;try{o=new Ci(e)}catch(h){o={}}let u=Object.assign({},t,{protocol:i||o.protocol,host:t.host||o.host});return new Ci(e,Vc(u)).toString()}});var Mi=x((jl,Ri)=>{"use strict";var{URLWithLegacySupport:Gc,format:Wc,URLSearchParams:Zc,defaultBase:Hc}=Lr(),Qc=_i();Ri.exports={URL:Gc,URLSearchParams:Zc,format:Wc,relative:Qc,defaultBase:Hc}});var Di=x((zl,Fi)=>{var{relative:Yc}=Mi(),Jc={http:"ws",https:"wss"},Xc="ws";Fi.exports=(e,t)=>Yc(e,t,Jc,Xc)});var Ui=x((Vl,je)=>{"use strict";var Kc=Wn(),tf=xi(),ef=Di();je.exports=function(e,t={}){let r=typeof window=="undefined"?{}:window.location,n=ef(e,r),i=new Kc(n,t.websocket),o=tf(i,t);return o.remoteAddress=n,o.close=()=>new Promise((u,h)=>{i.addEventListener("close",u),i.close()}),o.destroy=()=>{i.terminate?i.terminate():i.close()},o.socket=i,o};je.exports.connect=je.exports});var Oi=x((Gl,kr)=>{"use strict";function rf(e,{className:t,symbolName:r}){let n=Symbol.for(r),i={[t]:class extends e{constructor(...o){super(...o);Object.defineProperty(this,n,{value:!0})}get[Symbol.toStringTag](){return t}}}[t];return i[`is${t}`]=o=>!!(o&&o[n]),i}function nf(e,{className:t,symbolName:r,withoutNew:n}){let i=Symbol.for(r),o={[t]:function(...u){if(n&&!(this instanceof o))return new o(...u);let h=e.call(this,...u)||this;return h&&!h[i]&&Object.defineProperty(h,i,{value:!0}),h}}[t];return o.prototype=Object.create(e.prototype),o.prototype.constructor=o,Object.defineProperty(o.prototype,Symbol.toStringTag,{get(){return t}}),o[`is${t}`]=u=>!!(u&&u[i]),o}kr.exports=rf;kr.exports.proto=nf});var $i=x((Wl,Pi)=>{"use strict";var Ni="[a-fA-F\\d:]",Rt=e=>e&&e.includeBoundaries?`(?:(?<=\\s|^)(?=${Ni})|(?<=${Ni})(?=\\s|$))`:"",pt="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",L="[a-fA-F\\d]{1,4}",ze=`
(?:
(?:${L}:){7}(?:${L}|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:${L}:){6}(?:${pt}|:${L}|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:${L}:){5}(?::${pt}|(?::${L}){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:${L}:){4}(?:(?::${L}){0,1}:${pt}|(?::${L}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:${L}:){3}(?:(?::${L}){0,2}:${pt}|(?::${L}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:${L}:){2}(?:(?::${L}){0,3}:${pt}|(?::${L}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:${L}:){1}(?:(?::${L}){0,4}:${pt}|(?::${L}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::${L}){0,5}:${pt}|(?::${L}){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),sf=new RegExp(`(?:^${pt}$)|(?:^${ze}$)`),of=new RegExp(`^${pt}$`),af=new RegExp(`^${ze}$`),qr=e=>e&&e.exact?sf:new RegExp(`(?:${Rt(e)}${pt}${Rt(e)})|(?:${Rt(e)}${ze}${Rt(e)})`,"g");qr.v4=e=>e&&e.exact?of:new RegExp(`${Rt(e)}${pt}${Rt(e)}`,"g");qr.v6=e=>e&&e.exact?af:new RegExp(`${Rt(e)}${ze}${Rt(e)}`,"g");Pi.exports=qr});var ki=x((Zl,Li)=>{"use strict";var jr=$i(),Jt=e=>jr({exact:!0}).test(e);Jt.v4=e=>jr.v4({exact:!0}).test(e);Jt.v6=e=>jr.v6({exact:!0}).test(e);Jt.version=e=>Jt(e)?Jt.v4(e)?4:6:void 0;Li.exports=Jt});var ji=x((Hl,qi)=>{"use strict";function uf(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),o=i.charCodeAt(0);if(t[o]!==255)throw new TypeError(i+" is ambiguous");t[o]=n}var u=e.length,h=e.charAt(0),d=Math.log(u)/Math.log(256),b=Math.log(256)/Math.log(u);function p(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var v=0,_=0,T=0,M=m.length;T!==M&&m[T]===0;)T++,v++;for(var I=(M-T)*b+1>>>0,R=new Uint8Array(I);T!==M;){for(var D=m[T],$=0,F=I-1;(D!==0||$<_)&&F!==-1;F--,$++)D+=256*R[F]>>>0,R[F]=D%u>>>0,D=D/u>>>0;if(D!==0)throw new Error("Non-zero carry");_=$,T++}for(var P=I-_;P!==I&&R[P]===0;)P++;for(var X=h.repeat(v);P<I;++P)X+=e.charAt(R[P]);return X}function g(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;var v=0;if(m[v]!==" "){for(var _=0,T=0;m[v]===h;)_++,v++;for(var M=(m.length-v)*d+1>>>0,I=new Uint8Array(M);m[v];){var R=t[m.charCodeAt(v)];if(R===255)return;for(var D=0,$=M-1;(R!==0||D<T)&&$!==-1;$--,D++)R+=u*I[$]>>>0,I[$]=R%256>>>0,R=R/256>>>0;if(R!==0)throw new Error("Non-zero carry");T=D,v++}if(m[v]!==" "){for(var F=M-T;F!==M&&I[F]===0;)F++;for(var P=new Uint8Array(_+(M-F)),X=_;F!==M;)P[X++]=I[F++];return P}}}function A(m){var v=g(m);if(v)return v;throw new Error("Non-base"+u+" character")}return{encode:p,decodeUnsafe:g,decode:A}}qi.exports=uf});var Ve=x((Ql,zi)=>{"use strict";var cf=new TextDecoder,ff=e=>cf.decode(e),pf=new TextEncoder,hf=e=>pf.encode(e);function lf(e,t){let r=new Uint8Array(t),n=0;for(let i of e)r.set(i,n),n+=i.length;return r}zi.exports={decodeText:ff,encodeText:hf,concat:lf}});var Wi=x((Yl,Vi)=>{"use strict";var{encodeText:df}=Ve(),Gi=class{constructor(t,r,n,i){this.name=t,this.code=r,this.codeBuf=df(this.code),this.alphabet=i,this.codec=n(i)}encode(t){return this.codec.encode(t)}decode(t){for(let r of t)if(this.alphabet&&this.alphabet.indexOf(r)<0)throw new Error(`invalid character '${r}' in '${t}'`);return this.codec.decode(t)}};Vi.exports=Gi});var Hi=x((Jl,Zi)=>{"use strict";var yf=(e,t,r)=>{let n={};for(let b=0;b<t.length;++b)n[t[b]]=b;let i=e.length;for(;e[i-1]==="=";)--i;let o=new Uint8Array(i*r/8|0),u=0,h=0,d=0;for(let b=0;b<i;++b){let p=n[e[b]];if(p===void 0)throw new SyntaxError("Invalid character "+e[b]);h=h<<r|p,u+=r,u>=8&&(u-=8,o[d++]=255&h>>u)}if(u>=r||255&h<<8-u)throw new SyntaxError("Unexpected end of data");return o},gf=(e,t,r)=>{let n=t[t.length-1]==="=",i=(1<<r)-1,o="",u=0,h=0;for(let d=0;d<e.length;++d)for(h=h<<8|e[d],u+=8;u>r;)u-=r,o+=t[i&h>>u];if(u&&(o+=t[i&h<<r-u]),n)for(;o.length*r&7;)o+="=";return o},wf=e=>t=>({encode(r){return gf(r,t,e)},decode(r){return yf(r,t,e)}});Zi.exports={rfc4648:wf}});var Xi=x((Xl,Qi)=>{"use strict";var Ee=ji(),mf=Wi(),{rfc4648:V}=Hi(),{decodeText:bf,encodeText:vf}=Ve(),Ef=()=>({encode:bf,decode:vf}),Yi=[["identity","\0",Ef,""],["base2","0",V(1),"01"],["base8","7",V(3),"01234567"],["base10","9",Ee,"0123456789"],["base16","f",V(4),"0123456789abcdef"],["base16upper","F",V(4),"0123456789ABCDEF"],["base32hex","v",V(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",V(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",V(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",V(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",V(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",V(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",V(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",V(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",V(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",Ee,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",Ee,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",Ee,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",Ee,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",V(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",V(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",V(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",V(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],Ji=Yi.reduce((e,t)=>(e[t[0]]=new mf(t[0],t[1],t[2],t[3]),e),{}),Sf=Yi.reduce((e,t)=>(e[t[1]]=Ji[t[0]],e),{});Qi.exports={names:Ji,codes:Sf}});var zr=x((At,Ki)=>{"use strict";var Xt=Xi(),{encodeText:xf,decodeText:Ge,concat:ts}=Ve();function Bf(e,t){if(!t)throw new Error("requires an encoded Uint8Array");let{name:r,codeBuf:n}=$t(e);return Af(r,t),ts([n,t],n.length+t.length)}function Tf(e,t){let r=$t(e),n=xf(r.encode(t));return ts([r.codeBuf,n],r.codeBuf.length+n.length)}function If(e){e instanceof Uint8Array&&(e=Ge(e));let t=e[0];return["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(t)&&(e=e.toLowerCase()),$t(e[0]).decode(e.substring(1))}function Cf(e){if(e instanceof Uint8Array&&(e=Ge(e)),Object.prototype.toString.call(e)!=="[object String]")return!1;try{return $t(e[0]).name}catch(t){return!1}}function Af(e,t){$t(e).decode(Ge(t))}function $t(e){if(Object.prototype.hasOwnProperty.call(Xt.names,e))return Xt.names[e];if(Object.prototype.hasOwnProperty.call(Xt.codes,e))return Xt.codes[e];throw new Error(`Unsupported encoding: ${e}`)}function _f(e){return e instanceof Uint8Array&&(e=Ge(e)),$t(e[0])}At=Ki.exports=Bf;At.encode=Tf;At.decode=If;At.isEncoded=Cf;At.encoding=$t;At.encodingFromData=_f;var Rf=Object.freeze(Xt.names),Mf=Object.freeze(Xt.codes);At.names=Rf;At.codes=Mf});var Se=x((Kl,es)=>{"use strict";var{encoding:Ff}=zr(),Df=new TextDecoder("utf8");function Uf(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}function Of(e,t="utf8"){return t==="utf8"||t==="utf-8"?Df.decode(e):t==="ascii"?Uf(e):Ff(t).encode(e)}es.exports=Of});var os=x((td,rs)=>{"use strict";var Vr=ki(),ns=Se(),Pf=Vr,Gr=Vr.v4,is=Vr.v6,ss=function(e,t,r){r=~~r;let n;if(Gr(e))n=t||new Uint8Array(r+4),e.split(/\./g).map(function(i){n[r++]=parseInt(i,10)&255});else if(is(e)){let i=e.split(":",8),o;for(o=0;o<i.length;o++){let u=Gr(i[o]),h;u&&(h=ss(i[o]),i[o]=ns(h.slice(0,2),"base16")),h&&++o<8&&i.splice(o,0,ns(h.slice(2,4),"base16"))}if(i[0]==="")for(;i.length<8;)i.unshift("0");else if(i[i.length-1]==="")for(;i.length<8;)i.push("0");else if(i.length<8){for(o=0;o<i.length&&i[o]!=="";o++);let u=[o,"1"];for(o=9-i.length;o>0;o--)u.push("0");i.splice.apply(i,u)}for(n=t||new Uint8Array(r+16),o=0;o<i.length;o++){let u=parseInt(i[o],16);n[r++]=u>>8&255,n[r++]=u&255}}if(!n)throw Error("Invalid ip address: "+e);return n},Nf=function(e,t,r){t=~~t,r=r||e.length-t;let n=[],i,o=new DataView(e.buffer);if(r===4){for(let u=0;u<r;u++)n.push(e[t+u]);i=n.join(".")}else if(r===16){for(let u=0;u<r;u+=2)n.push(o.getUint16(t+u).toString(16));i=n.join(":"),i=i.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3"),i=i.replace(/:{3,4}/,"::")}return i};rs.exports={isIP:Pf,isV4:Gr,isV6:is,toBytes:ss,toString:Nf}});var We=x((ed,as)=>{"use strict";function tt(e){if(typeof e=="number"){if(tt.codes[e])return tt.codes[e];throw new Error("no protocol with code: "+e)}else if(typeof e=="string"){if(tt.names[e])return tt.names[e];throw new Error("no protocol with name: "+e)}throw new Error("invalid protocol id type: "+e)}var ot=-1;tt.lengthPrefixedVarSize=ot;tt.V=ot;tt.table=[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,ot,"ip6zone"],[53,ot,"dns","resolvable"],[54,ot,"dns4","resolvable"],[55,ot,"dns6","resolvable"],[56,ot,"dnsaddr","resolvable"],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,ot,"unix",!1,"path"],[421,ot,"ipfs"],[421,ot,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,ot,"garlic64"],[460,0,"quic"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[777,ot,"memory"]];tt.names={};tt.codes={};tt.table.map(e=>{let t=us.apply(null,e);return tt.codes[t.code]=t,tt.names[t.name]=t,null});tt.object=us;function us(e,t,r,n,i){return{code:e,size:t,name:r,resolvable:Boolean(n),path:Boolean(i)}}as.exports=tt});function cs(e,t,r){t=t||[],r=r||0;for(var n=r;e>=qf;)t[r++]=e&255|fs,e/=128;for(;e&kf;)t[r++]=e&255|fs,e>>>=7;return t[r]=e|0,cs.bytes=r-n+1,t}function Wr(e,t){var r=0,t=t||0,n=0,i=t,o,u=e.length;do{if(i>=u)throw Wr.bytes=0,new RangeError("Could not decode varint");o=e[i++],r+=n<28?(o&ps)<<n:(o&ps)*Math.pow(2,n),n+=7}while(o>=zf);return Wr.bytes=i-t,r}var $f,fs,Lf,kf,qf,jf,zf,ps,Vf,Gf,Wf,Zf,Hf,Qf,Yf,Jf,Xf,Kf,tp,ep,xe,hs=St(()=>{$f=cs,fs=128,Lf=127,kf=~Lf,qf=Math.pow(2,31);jf=Wr,zf=128,ps=127;Vf=Math.pow(2,7),Gf=Math.pow(2,14),Wf=Math.pow(2,21),Zf=Math.pow(2,28),Hf=Math.pow(2,35),Qf=Math.pow(2,42),Yf=Math.pow(2,49),Jf=Math.pow(2,56),Xf=Math.pow(2,63),Kf=function(e){return e<Vf?1:e<Gf?2:e<Wf?3:e<Zf?4:e<Hf?5:e<Qf?6:e<Yf?7:e<Jf?8:e<Xf?9:10},tp={encode:$f,decode:jf,encodingLength:Kf},ep=tp,xe=ep});var Ae,Kt,te,Zr=St(()=>{hs();Ae=e=>[xe.decode(e),xe.decode.bytes],Kt=(e,t,r=0)=>(xe.encode(e,t,r),t),te=e=>xe.encodingLength(e)});var od,ls,ee,Ze=St(()=>{od=new Uint8Array(0),ls=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},ee=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")}});var ds={};Ne(ds,{Digest:()=>re,create:()=>Hr,decode:()=>Qr,equals:()=>Yr});var Hr,Qr,Yr,re,Jr=St(()=>{Ze();Zr();Hr=(e,t)=>{let r=t.byteLength,n=te(e),i=n+te(r),o=new Uint8Array(i+r);return Kt(e,o,0),Kt(r,o,n),o.set(t,i),new re(e,r,t,o)},Qr=e=>{let t=ee(e),[r,n]=Ae(t),[i,o]=Ae(t.subarray(n)),u=t.subarray(n+o);if(u.byteLength!==i)throw new Error("Incorrect length");return new re(r,i,u,t)},Yr=(e,t)=>e===t?!0:e.code===t.code&&e.size===t.size&&ls(e.bytes,t.bytes),re=class{constructor(t,r,n,i){this.code=t,this.size=r,this.digest=n,this.bytes=i}}});function rp(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),o=i.charCodeAt(0);if(t[o]!==255)throw new TypeError(i+" is ambiguous");t[o]=n}var u=e.length,h=e.charAt(0),d=Math.log(u)/Math.log(256),b=Math.log(256)/Math.log(u);function p(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var v=0,_=0,T=0,M=m.length;T!==M&&m[T]===0;)T++,v++;for(var I=(M-T)*b+1>>>0,R=new Uint8Array(I);T!==M;){for(var D=m[T],$=0,F=I-1;(D!==0||$<_)&&F!==-1;F--,$++)D+=256*R[F]>>>0,R[F]=D%u>>>0,D=D/u>>>0;if(D!==0)throw new Error("Non-zero carry");_=$,T++}for(var P=I-_;P!==I&&R[P]===0;)P++;for(var X=h.repeat(v);P<I;++P)X+=e.charAt(R[P]);return X}function g(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;var v=0;if(m[v]!==" "){for(var _=0,T=0;m[v]===h;)_++,v++;for(var M=(m.length-v)*d+1>>>0,I=new Uint8Array(M);m[v];){var R=t[m.charCodeAt(v)];if(R===255)return;for(var D=0,$=M-1;(R!==0||D<T)&&$!==-1;$--,D++)R+=u*I[$]>>>0,I[$]=R%256>>>0,R=R/256>>>0;if(R!==0)throw new Error("Non-zero carry");T=D,v++}if(m[v]!==" "){for(var F=M-T;F!==M&&I[F]===0;)F++;for(var P=new Uint8Array(_+(M-F)),X=_;F!==M;)P[X++]=I[F++];return P}}}function A(m){var v=g(m);if(v)return v;throw new Error("Non-base"+u+" character")}return{encode:p,decodeUnsafe:g,decode:A}}var np,ip,ys,gs=St(()=>{np=rp,ip=np,ys=ip});var ws,ms,He,bs,gt,Qe,Xr=St(()=>{ws=class{constructor(t,r,n){this.name=t,this.prefix=r,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},ms=class{constructor(t,r,n){this.name=t,this.prefix=r,this.baseDecode=n}decode(t){if(typeof t=="string")switch(t[0]){case this.prefix:return this.baseDecode(t.slice(1));default:throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`)}else throw Error("Can only multibase decode strings")}or(t){let r={[this.prefix]:this,...t.decoders||{[t.prefix]:t}};return new He(r)}},He=class{constructor(t){this.decoders=t}or(t){let r=t.decoders||{[t.prefix]:t};return new He({...this.decoders,...r})}decode(t){let r=t[0],n=this.decoders[r];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},bs=class{constructor(t,r,n,i){this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new ws(t,r,n),this.decoder=new ms(t,r,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}},gt=({name:e,prefix:t,encode:r,decode:n,alphabet:i})=>Qe({name:e,prefix:t,encode:o=>r(o,i),decode:o=>{for(let u of o)if(i.indexOf(u)<0)throw new Error(`invalid ${e} character`);return n(o,i)}}),Qe=({name:e,prefix:t,encode:r,decode:n})=>new bs(e,t,r,n)});var Kr={};Ne(Kr,{base58btc:()=>wt,base58flickr:()=>sp});var vs,wt,sp,Ye=St(()=>{gs();Ze();Xr();vs=e=>{let{encode:t,decode:r}=ys(e);return{encode:t,decode:n=>ee(r(n))}},wt=Qe({name:"base58btc",prefix:"z",...vs("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")}),sp=Qe({name:"base58flickr",prefix:"Z",...vs("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ")})});var Es={};Ne(Es,{base32:()=>ne,base32hex:()=>cp,base32hexpad:()=>pp,base32hexpadupper:()=>hp,base32hexupper:()=>fp,base32pad:()=>ap,base32padupper:()=>up,base32upper:()=>op,base32z:()=>lp});function Bt(e,t){e=e.replace(/=/g,"");let r=e.length,n=0,i=0,o=0,u=new Uint8Array(r*5/8|0);for(let h=0;h<r;h++)i=i<<5|t.indexOf(e[h]),n+=5,n>=8&&(u[o++]=i>>>n-8&255,n-=8);return u}function Tt(e,t){let r=e.byteLength,n=new Uint8Array(e),i=t.indexOf("=")===t.length-1;i&&(t=t.substring(0,t.length-1));let o=0,u=0,h="";for(let d=0;d<r;d++)for(u=u<<8|n[d],o+=8;o>=5;)h+=t[u>>>o-5&31],o-=5;if(o>0&&(h+=t[u<<5-o&31]),i)for(;h.length%8!=0;)h+="=";return h}var ne,op,ap,up,cp,fp,pp,hp,lp,tn=St(()=>{Xr();ne=gt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",encode:Tt,decode:Bt}),op=gt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",encode:Tt,decode:Bt}),ap=gt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",encode:Tt,decode:Bt}),up=gt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",encode:Tt,decode:Bt}),cp=gt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",encode:Tt,decode:Bt}),fp=gt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",encode:Tt,decode:Bt}),pp=gt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",encode:Tt,decode:Bt}),hp=gt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",encode:Tt,decode:Bt}),lp=gt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",encode:Tt,decode:Bt})});var en={};Ne(en,{CID:()=>G});var G,dp,yp,gp,Be,wp,Ss,xs,Je,Xe,vp,mp,bp,rn=St(()=>{Zr();Jr();Ye();tn();Ze();G=class{constructor(t,r,n,i){this.code=r,this.version=t,this.multihash=n,this.bytes=i,this.byteOffset=i.byteOffset,this.byteLength=i.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:Xe,byteLength:Xe,code:Je,version:Je,multihash:Je,bytes:Je,_baseCache:Xe,asCID:Xe})}toV0(){switch(this.version){case 0:return this;default:{let{code:t,multihash:r}=this;if(t!==Be)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==wp)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return G.createV0(r)}}}toV1(){switch(this.version){case 0:{let{code:t,digest:r}=this.multihash,n=Hr(t,r);return G.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(t){return t&&this.code===t.code&&this.version===t.version&&Yr(this.multihash,t.multihash)}toString(t){let{bytes:r,version:n,_baseCache:i}=this;switch(n){case 0:return yp(r,i,t||wt.encoder);default:return gp(r,i,t||ne.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(t){return mp(/^0\.0/,bp),!!(t&&(t[xs]||t.asCID===t))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(t){if(t instanceof G)return t;if(t!=null&&t.asCID===t){let{version:r,code:n,multihash:i,bytes:o}=t;return new G(r,n,i,o||Ss(r,n,i.bytes))}else if(t!=null&&t[xs]===!0){let{version:r,multihash:n,code:i}=t,o=Qr(n);return G.create(r,i,o)}else return null}static create(t,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(t){case 0:{if(r!==Be)throw new Error(`Version 0 CID must use dag-pb (code: ${Be}) block encoding`);return new G(t,r,n,n.bytes)}case 1:{let i=Ss(t,r,n.bytes);return new G(t,r,n,i)}default:throw new Error("Invalid version")}}static createV0(t){return G.create(0,Be,t)}static createV1(t,r){return G.create(1,t,r)}static decode(t){let[r,n]=G.decodeFirst(t);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(t){let r=G.inspectBytes(t),n=r.size-r.multihashSize,i=ee(t.subarray(n,n+r.multihashSize));if(i.byteLength!==r.multihashSize)throw new Error("Incorrect length");let o=i.subarray(r.multihashSize-r.digestSize),u=new re(r.multihashCode,r.digestSize,o,i);return[r.version===0?G.createV0(u):G.createV1(r.codec,u),t.subarray(r.size)]}static inspectBytes(t){let r=0,n=()=>{let[g,A]=Ae(t.subarray(r));return r+=A,g},i=n(),o=Be;if(i===18?(i=0,r=0):i===1&&(o=n()),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);let u=r,h=n(),d=n(),b=r+d,p=b-u;return{version:i,codec:o,multihashCode:h,digestSize:d,multihashSize:p,size:b}}static parse(t,r){let[n,i]=dp(t,r),o=G.decode(i);return o._baseCache.set(n,t),o}},dp=(e,t)=>{switch(e[0]){case"Q":{let r=t||wt;return[wt.prefix,r.decode(`${wt.prefix}${e}`)]}case wt.prefix:{let r=t||wt;return[wt.prefix,r.decode(e)]}case ne.prefix:{let r=t||ne;return[ne.prefix,r.decode(e)]}default:{if(t==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}},yp=(e,t,r)=>{let{prefix:n}=r;if(n!==wt.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=t.get(n);if(i==null){let o=r.encode(e).slice(1);return t.set(n,o),o}else return i},gp=(e,t,r)=>{let{prefix:n}=r,i=t.get(n);if(i==null){let o=r.encode(e);return t.set(n,o),o}else return i},Be=112,wp=18,Ss=(e,t,r)=>{let n=te(e),i=n+te(t),o=new Uint8Array(i+r.byteLength);return Kt(e,o,0),Kt(t,o,n),o.set(r,i),o},xs=Symbol.for("@ipld/js-cid/CID"),Je={writable:!1,configurable:!1,enumerable:!0},Xe={writable:!1,enumerable:!1,configurable:!1},vp="0.0.0-dev",mp=(e,t)=>{if(e.test(vp))console.warn(t);else throw new Error(t)},bp=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`});var Ts=x((vd,As)=>{As.exports=nn;var Bs=128,Ep=127,Sp=~Ep,xp=Math.pow(2,31);function nn(e,t,r){if(Number.MAX_SAFE_INTEGER&&e>Number.MAX_SAFE_INTEGER)throw nn.bytes=0,new RangeError("Could not encode varint");t=t||[],r=r||0;for(var n=r;e>=xp;)t[r++]=e&255|Bs,e/=128;for(;e&Sp;)t[r++]=e&255|Bs,e>>>=7;return t[r]=e|0,nn.bytes=r-n+1,t}});var _s=x((Ed,Is)=>{Is.exports=sn;var Ap=128,Cs=127;function sn(e,t){var r=0,t=t||0,n=0,i=t,o,u=e.length;do{if(i>=u||n>49)throw sn.bytes=0,new RangeError("Could not decode varint");o=e[i++],r+=n<28?(o&Cs)<<n:(o&Cs)*Math.pow(2,n),n+=7}while(o>=Ap);return sn.bytes=i-t,r}});var Ms=x((Sd,Rs)=>{var Bp=Math.pow(2,7),Tp=Math.pow(2,14),Ip=Math.pow(2,21),Cp=Math.pow(2,28),_p=Math.pow(2,35),Rp=Math.pow(2,42),Mp=Math.pow(2,49),Fp=Math.pow(2,56),Dp=Math.pow(2,63);Rs.exports=function(e){return e<Bp?1:e<Tp?2:e<Ip?3:e<Cp?4:e<_p?5:e<Rp?6:e<Mp?7:e<Fp?8:e<Dp?9:10}});var Ke=x((xd,Fs)=>{Fs.exports={encode:Ts(),decode:_s(),encodingLength:Ms()}});var Us=x((Ad,Ds)=>{"use strict";var{encoding:Up}=zr(),Op=new TextEncoder;function Pp(e){let t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}function Np(e,t="utf8"){return t==="utf8"||t==="utf-8"?Op.encode(e):t==="ascii"?Pp(e):Up(t).decode(e)}Ds.exports=Np});var on=x((Bd,Os)=>{"use strict";function $p(e,t){t||(t=e.reduce((i,o)=>i+o.length,0));let r=new Uint8Array(t),n=0;for(let i of e)r.set(i,n),n+=i.length;return r}Os.exports=$p});var zs=x((Td,Ps)=>{"use strict";var tr=os(),Ns=We(),{CID:Lp}=(rn(),en),{base32:$s}=(tn(),Es),{base58btc:kp}=(Ye(),Kr),qp=(Jr(),ds),ie=Ke(),er=Se(),Ls=Us(),rr=on();Ps.exports=Te;function Te(e,t){return t instanceof Uint8Array?Te.toString(e,t):Te.toBytes(e,t)}Te.toString=function(t,r){switch(Ns(t).code){case 4:case 41:return jp(r);case 6:case 273:case 33:case 132:return ks(r).toString();case 53:case 54:case 55:case 56:case 400:case 777:return zp(r);case 421:return Vp(r);case 444:return qs(r);case 445:return qs(r);default:return er(r,"base16")}};Te.toBytes=function(t,r){switch(Ns(t).code){case 4:return js(r);case 41:return js(r);case 6:case 273:case 33:case 132:return an(parseInt(r,10));case 53:case 54:case 55:case 56:case 400:case 777:return Gp(r);case 421:return Wp(r);case 444:return Zp(r);case 445:return Hp(r);default:return Ls(r,"base16")}};function js(e){if(!tr.isIP(e))throw new Error("invalid ip address");return tr.toBytes(e)}function jp(e){let t=tr.toString(e);if(!t||!tr.isIP(t))throw new Error("invalid ip address");return t}function an(e){let t=new ArrayBuffer(2);return new DataView(t).setUint16(0,e),new Uint8Array(t)}function ks(e){return new DataView(e.buffer).getUint16(e.byteOffset)}function Gp(e){let t=Ls(e),r=Uint8Array.from(ie.encode(t.length));return rr([r,t],r.length+t.length)}function zp(e){let t=ie.decode(e);if(e=e.slice(ie.decode.bytes),e.length!==t)throw new Error("inconsistent lengths");return er(e)}function Wp(e){let t;e[0]==="Q"||e[0]==="1"?t=qp.decode(kp.decode(`z${e}`)).bytes:t=Lp.parse(e).multihash.bytes;let r=Uint8Array.from(ie.encode(t.length));return rr([r,t],r.length+t.length)}function Vp(e){let t=ie.decode(e),r=e.slice(ie.decode.bytes);if(r.length!==t)throw new Error("inconsistent lengths");return er(r,"base58btc")}function Zp(e){let t=e.split(":");if(t.length!==2)throw new Error("failed to parse onion addr: "+t+" does not contain a port number");if(t[0].length!==16)throw new Error("failed to parse onion addr: "+t[0]+" not a Tor onion address.");let r=$s.decode("b"+t[0]),n=parseInt(t[1],10);if(n<1||n>65536)throw new Error("Port number is not in range(1, 65536)");let i=an(n);return rr([r,i],r.length+i.length)}function Hp(e){let t=e.split(":");if(t.length!==2)throw new Error("failed to parse onion addr: "+t+" does not contain a port number");if(t[0].length!==56)throw new Error("failed to parse onion addr: "+t[0]+" not a Tor onion3 address.");let r=$s.decode("b"+t[0]),n=parseInt(t[1],10);if(n<1||n>65536)throw new Error("Port number is not in range(1, 65536)");let i=an(n);return rr([r,i],r.length+i.length)}function qs(e){let t=e.slice(0,e.length-2),r=e.slice(e.length-2),n=er(t,"base32"),i=ks(r);return n+":"+i}});var eo=x((Id,Vs)=>{"use strict";var Gs=zs(),un=We(),Ie=Ke(),Ws=on(),Qp=Se();Vs.exports={stringToStringTuples:Zs,stringTuplesToString:Hs,tuplesToStringTuples:Ys,stringTuplesToTuples:Qs,bytesToTuples:cn,tuplesToBytes:Js,bytesToString:Yp,stringToBytes:Ks,fromString:Jp,fromBytes:to,validateBytes:fn,isValidBytes:Xp,cleanPath:nr,ParseError:pn,protoFromTuple:Ce,sizeForAddr:Xs};function Zs(e){let t=[],r=e.split("/").slice(1);if(r.length===1&&r[0]==="")return[];for(let n=0;n<r.length;n++){let i=r[n],o=un(i);if(o.size===0){t.push([i]);continue}if(n++,n>=r.length)throw pn("invalid address: "+e);if(o.path){t.push([i,nr(r.slice(n).join("/"))]);break}t.push([i,r[n]])}return t}function Hs(e){let t=[];return e.map(r=>{let n=Ce(r);return t.push(n.name),r.length>1&&t.push(r[1]),null}),nr(t.join("/"))}function Qs(e){return e.map(t=>{Array.isArray(t)||(t=[t]);let r=Ce(t);return t.length>1?[r.code,Gs.toBytes(r.code,t[1])]:[r.code]})}function Ys(e){return e.map(t=>{let r=Ce(t);return t[1]?[r.code,Gs.toString(r.code,t[1])]:[r.code]})}function Js(e){return to(Ws(e.map(t=>{let r=Ce(t),n=Uint8Array.from(Ie.encode(r.code));return t.length>1&&(n=Ws([n,t[1]])),n})))}function Xs(e,t){return e.size>0?e.size/8:e.size===0?0:Ie.decode(t)+Ie.decode.bytes}function cn(e){let t=[],r=0;for(;r<e.length;){let n=Ie.decode(e,r),i=Ie.decode.bytes,o=un(n),u=Xs(o,e.slice(r+i));if(u===0){t.push([n]),r+=i;continue}let h=e.slice(r+i,r+i+u);if(r+=u+i,r>e.length)throw pn("Invalid address Uint8Array: "+Qp(e,"base16"));t.push([n,h])}return t}function Yp(e){let t=cn(e),r=Ys(t);return Hs(r)}function Ks(e){e=nr(e);let t=Zs(e),r=Qs(t);return Js(r)}function Jp(e){return Ks(e)}function to(e){let t=fn(e);if(t)throw t;return Uint8Array.from(e)}function fn(e){try{cn(e)}catch(t){return t}}function Xp(e){return fn(e)===void 0}function nr(e){return"/"+e.trim().split("/").filter(t=>t).join("/")}function pn(e){return new Error("Error parsing address: "+e)}function Ce(e){return un(e[0])}});var hn=x((Cd,ro)=>{"use strict";function no(e,t){for(let r in t)Object.defineProperty(e,r,{value:t[r],enumerable:!0,configurable:!0});return e}function Kp(e,t,r){if(!e||typeof e=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof t=="object"&&(r=t,t=""),t&&(r.code=t);try{return no(e,r)}catch(n){r.message=e.message,r.stack=e.stack;let i=function(){};return i.prototype=Object.create(Object.getPrototypeOf(e)),no(new i,r)}}ro.exports=Kp});var so=x((_d,io)=>{"use strict";function th(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}io.exports=th});var sr=x((Rd,oo)=>{"use strict";var ht=eo(),se=We(),ao=Ke(),{CID:eh}=(rn(),en),{base58btc:rh}=(Ye(),Kr),nh=hn(),ih=Symbol.for("nodejs.util.inspect.custom"),ir=Se(),sh=so(),ln=new Map,uo=Symbol.for("@multiformats/js-multiaddr/multiaddr"),Q=class{constructor(t){if(t==null&&(t=""),Object.defineProperty(this,uo,{value:!0}),t instanceof Uint8Array)this.bytes=ht.fromBytes(t);else if(typeof t=="string"){if(t.length>0&&t.charAt(0)!=="/")throw new Error(`multiaddr "${t}" must start with a "/"`);this.bytes=ht.fromString(t)}else if(Q.isMultiaddr(t))this.bytes=ht.fromBytes(t.bytes);else throw new Error("addr must be a string, Buffer, or another Multiaddr")}toString(){return ht.bytesToString(this.bytes)}toJSON(){return this.toString()}toOptions(){let t={},r=this.toString().split("/");return t.family=r[1]==="ip4"?4:6,t.host=r[2],t.transport=r[3],t.port=parseInt(r[4]),t}protos(){return this.protoCodes().map(t=>Object.assign({},se(t)))}protoCodes(){let t=[],r=this.bytes,n=0;for(;n<r.length;){let i=ao.decode(r,n),o=ao.decode.bytes,u=se(i);n+=ht.sizeForAddr(u,r.slice(n+o))+o,t.push(i)}return t}protoNames(){return this.protos().map(t=>t.name)}tuples(){return ht.bytesToTuples(this.bytes)}stringTuples(){let t=ht.bytesToTuples(this.bytes);return ht.tuplesToStringTuples(t)}encapsulate(t){return t=new Q(t),new Q(this.toString()+t.toString())}decapsulate(t){let r=t.toString(),n=this.toString(),i=n.lastIndexOf(r);if(i<0)throw new Error("Address "+this+" does not contain subaddress: "+t);return new Q(n.slice(0,i))}decapsulateCode(t){let r=this.tuples();for(let n=r.length-1;n>=0;n--)if(r[n][0]===t)return new Q(ht.tuplesToBytes(r.slice(0,n)));return this}getPeerId(){try{let r=this.stringTuples().filter(n=>n[0]===se.names.ipfs.code).pop();if(r&&r[1]){let n=r[1];return n[0]==="Q"||n[0]==="1"?ir(rh.decode(`z${n}`),"base58btc"):ir(eh.parse(n).multihash.bytes,"base58btc")}return null}catch(t){return null}}getPath(){let t=null;try{t=this.stringTuples().filter(r=>!!se(r[0]).path)[0][1],t||(t=null)}catch(r){t=null}return t}equals(t){return sh(this.bytes,t.bytes)}async resolve(){let t=this.protos().find(i=>i.resolvable);if(!t)return[this];let r=ln.get(t.name);if(!r)throw nh(new Error(`no available resolver for ${t.name}`),"ERR_NO_AVAILABLE_RESOLVER");return(await r(this)).map(i=>new Q(i))}nodeAddress(){let t=this.protoCodes(),r=this.protoNames(),n=this.toString().split("/").slice(1);if(n.length<4)throw new Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6}/{address}/{tcp, udp}/{port}".');if(t[0]!==4&&t[0]!==41&&t[0]!==54&&t[0]!==55)throw new Error(`no protocol with name: "'${r[0]}'". Must have a valid family name: "{ip4, ip6, dns4, dns6}".`);if(n[2]!=="tcp"&&n[2]!=="udp")throw new Error(`no protocol with name: "'${r[1]}'". Must have a valid transport protocol: "{tcp, udp}".`);return{family:t[0]===41||t[0]===55?6:4,address:n[1],port:parseInt(n[3])}}isThinWaistAddress(t){let r=(t||this).protos();return!(r.length!==2||r[0].code!==4&&r[0].code!==41||r[1].code!==6&&r[1].code!==273)}static fromNodeAddress(t,r){if(!t)throw new Error("requires node address object");if(!r)throw new Error("requires transport protocol");let n;switch(t.family){case 4:n="ip4";break;case 6:n="ip6";break;default:throw Error(`Invalid addr family. Got '${t.family}' instead of 4 or 6`)}return new Q("/"+[n,t.address,r,t.port].join("/"))}static isName(t){return Q.isMultiaddr(t)?t.protos().some(r=>r.resolvable):!1}static isMultiaddr(t){return t instanceof Q||Boolean(t&&t[uo])}[ih](){return"<Multiaddr "+ir(this.bytes,"base16")+" - "+ht.bytesToString(this.bytes)+">"}inspect(){return"<Multiaddr "+ir(this.bytes,"base16")+" - "+ht.bytesToString(this.bytes)+">"}};Q.protocols=se;Q.resolvers=ln;function oh(e){return new Q(e)}oo.exports={Multiaddr:Q,multiaddr:oh,protocols:se,resolvers:ln}});var fo=x((Md,co)=>{var{Multiaddr:ah}=sr(),or=(e,t)=>t,uh=(e,t,r,n)=>{if(n&&n.assumeHttp===!1)return`tcp://${e}:${t}`;let i="tcp",o=`:${t}`;return r[r.length-1].protocol==="tcp"&&(i=t==="443"?"https":"http",o=t==="443"||t==="80"?"":o),`${i}://${e}${o}`},ch={ip4:or,ip6:(e,t,r,n)=>n.length===1&&n[0].protocol==="ip6"?t:`[${t}]`,tcp:(e,t,r,n,i)=>n.some(o=>["http","https","ws","wss"].includes(o.protocol))?`${e}:${t}`:uh(e,t,n,i),udp:(e,t)=>`udp://${e}:${t}`,dnsaddr:or,dns4:or,dns6:or,ipfs:(e,t)=>`${e}/ipfs/${t}`,p2p:(e,t)=>`${e}/p2p/${t}`,http:e=>`http://${e}`,https:e=>`https://${e}`,ws:e=>`ws://${e}`,wss:e=>`wss://${e}`,"p2p-websocket-star":e=>`${e}/p2p-websocket-star`,"p2p-webrtc-star":e=>`${e}/p2p-webrtc-star`,"p2p-webrtc-direct":e=>`${e}/p2p-webrtc-direct`};co.exports=(e,t)=>{let r=new ah(e),n=e.toString().split("/").slice(1);return r.tuples().map(i=>({protocol:n.shift(),content:i[1]?n.shift():null})).reduce((i,o,u,h)=>{let d=ch[o.protocol];if(!d)throw new Error(`Unsupported protocol ${o.protocol}`);return d(i,o.content,u,h,t)},"")}});var ho=x((Fd,po)=>{po.exports=function(t){if(t){if(typeof t[Symbol.iterator]=="function")return t[Symbol.iterator]();if(typeof t[Symbol.asyncIterator]=="function")return t[Symbol.asyncIterator]();if(typeof t.next=="function")return t}throw new Error("argument is not an iterator or iterable")}});var yo=x((Ud,lo)=>{lo.exports=class extends Error{constructor(t,r){super(t||"The operation was aborted");this.type="aborted",this.code=r||"ABORT_ERR"}}});var gn=x((Od,Lt)=>{var fh=ho(),dn=yo(),go=(e,t,r)=>yn(e,Array.isArray(t)?t:[{signal:t,options:r}]),yn=(e,t)=>{e=fh(e),t=t.map(({signal:n,options:i})=>({signal:n,options:i||{}}));async function*r(){let n,i=()=>{n&&n()};for(let{signal:o}of t)o.addEventListener("abort",i);for(;;){let o;try{for(let{signal:h,options:d}of t)if(h.aborted){let{abortMessage:b,abortCode:p}=d;throw new dn(b,p)}let u=new Promise((h,d)=>{n=()=>{let{options:b}=t.find(({signal:A})=>A.aborted),{abortMessage:p,abortCode:g}=b;d(new dn(p,g))}});o=await Promise.race([u,e.next()]),n=null}catch(u){for(let{signal:b}of t)b.removeEventListener("abort",i);let h=t.find(({signal:b})=>b.aborted),d=u.type==="aborted"&&h;if(d&&h.options.onAbort&&await h.options.onAbort(e),typeof e.return=="function"&&await e.return(),d&&h.options.returnOnAbort)return;throw u}if(o.done)break;yield o.value}for(let{signal:o}of t)o.removeEventListener("abort",i)}return r()},mo=(e,t,r)=>wo(e,Array.isArray(t)?t:[{signal:t,options:r}]),wo=(e,t)=>r=>e(yn(r,t)),hh=(e,t,r)=>ph(e,Array.isArray(t)?t:[{signal:t,options:r}]),ph=(e,t)=>({sink:wo(e.sink,t),source:yn(e.source,t)});Lt.exports=go;Lt.exports.AbortError=dn;Lt.exports.source=go;Lt.exports.sink=mo;Lt.exports.transform=mo;Lt.exports.duplex=hh});var vo=x((Pd,bo)=>{"use strict";var lh=()=>{let e={};return e.promise=new Promise((t,r)=>{e.resolve=t,e.reject=r}),e};bo.exports=lh});var So=x((Nd,Eo)=>{var oe=1e3,ae=oe*60,ue=ae*60,kt=ue*24,dh=kt*7,yh=kt*365.25;Eo.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return gh(e);if(r==="number"&&isFinite(e))return t.long?mh(e):wh(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function gh(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!!t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*yh;case"weeks":case"week":case"w":return r*dh;case"days":case"day":case"d":return r*kt;case"hours":case"hour":case"hrs":case"hr":case"h":return r*ue;case"minutes":case"minute":case"mins":case"min":case"m":return r*ae;case"seconds":case"second":case"secs":case"sec":case"s":return r*oe;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function wh(e){var t=Math.abs(e);return t>=kt?Math.round(e/kt)+"d":t>=ue?Math.round(e/ue)+"h":t>=ae?Math.round(e/ae)+"m":t>=oe?Math.round(e/oe)+"s":e+"ms"}function mh(e){var t=Math.abs(e);return t>=kt?ar(e,t,kt,"day"):t>=ue?ar(e,t,ue,"hour"):t>=ae?ar(e,t,ae,"minute"):t>=oe?ar(e,t,oe,"second"):e+" ms"}function ar(e,t,r,n){var i=t>=r*1.5;return Math.round(e/r)+" "+n+(i?"s":"")}});var Ao=x(($d,xo)=>{function bh(e){r.debug=r,r.default=r,r.coerce=d,r.disable=o,r.enable=i,r.enabled=u,r.humanize=So(),r.destroy=b,Object.keys(e).forEach(p=>{r[p]=e[p]}),r.names=[],r.skips=[],r.formatters={};function t(p){let g=0;for(let A=0;A<p.length;A++)g=(g<<5)-g+p.charCodeAt(A),g|=0;return r.colors[Math.abs(g)%r.colors.length]}r.selectColor=t;function r(p){let g,A=null,m,v;function _(...T){if(!_.enabled)return;let M=_,I=Number(new Date),R=I-(g||I);M.diff=R,M.prev=g,M.curr=I,g=I,T[0]=r.coerce(T[0]),typeof T[0]!="string"&&T.unshift("%O");let D=0;T[0]=T[0].replace(/%([a-zA-Z%])/g,(F,P)=>{if(F==="%%")return"%";D++;let X=r.formatters[P];if(typeof X=="function"){let Gt=T[D];F=X.call(M,Gt),T.splice(D,1),D--}return F}),r.formatArgs.call(M,T),(M.log||r.log).apply(M,T)}return _.namespace=p,_.useColors=r.useColors(),_.color=r.selectColor(p),_.extend=n,_.destroy=r.destroy,Object.defineProperty(_,"enabled",{enumerable:!0,configurable:!1,get:()=>A!==null?A:(m!==r.namespaces&&(m=r.namespaces,v=r.enabled(p)),v),set:T=>{A=T}}),typeof r.init=="function"&&r.init(_),_}function n(p,g){let A=r(this.namespace+(typeof g=="undefined"?":":g)+p);return A.log=this.log,A}function i(p){r.save(p),r.namespaces=p,r.names=[],r.skips=[];let g,A=(typeof p=="string"?p:"").split(/[\s,]+/),m=A.length;for(g=0;g<m;g++)!A[g]||(p=A[g].replace(/\*/g,".*?"),p[0]==="-"?r.skips.push(new RegExp("^"+p.substr(1)+"$")):r.names.push(new RegExp("^"+p+"$")))}function o(){let p=[...r.names.map(h),...r.skips.map(h).map(g=>"-"+g)].join(",");return r.enable(""),p}function u(p){if(p[p.length-1]==="*")return!0;let g,A;for(g=0,A=r.skips.length;g<A;g++)if(r.skips[g].test(p))return!1;for(g=0,A=r.names.length;g<A;g++)if(r.names[g].test(p))return!0;return!1}function h(p){return p.toString().substring(2,p.toString().length-2).replace(/\.\*\?$/,"*")}function d(p){return p instanceof Error?p.stack||p.message:p}function b(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}xo.exports=bh});var cr=x((nt,ur)=>{nt.formatArgs=vh;nt.save=Eh;nt.load=Sh;nt.useColors=xh;nt.storage=Ah();nt.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();nt.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function xh(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function vh(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+ur.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),e.splice(n,0,t)}nt.log=console.debug||console.log||(()=>{});function Eh(e){try{e?nt.storage.setItem("debug",e):nt.storage.removeItem("debug")}catch(t){}}function Sh(){let e;try{e=nt.storage.getItem("debug")}catch(t){}return!e&&typeof process!="undefined"&&"env"in process&&(e=process.env.DEBUG),e}function Ah(){try{return localStorage}catch(e){}}ur.exports=Ao()(nt);var{formatters:Bh}=ur.exports;Bh.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var To=x((Ld,Bo)=>{function Th(){return typeof window!="undefined"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process!="undefined"&&typeof process.versions=="object"&&!!process.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0}Bo.exports=Th});var Co=x((kd,Io)=>{"use strict";var Ih=To(),fr=typeof window=="object"&&typeof document=="object"&&document.nodeType===9,_e=Ih(),Ch=fr&&!_e,_h=_e&&!fr,Rh=_e&&fr,Mh=typeof process!="undefined"&&typeof process.release!="undefined"&&process.release.name==="node"&&!_e,Fh=typeof importScripts=="function"&&typeof self!="undefined"&&typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope,Dh=typeof process!="undefined"&&typeof process.env!="undefined"&&!1,Uh=typeof navigator!="undefined"&&navigator.product==="ReactNative";Io.exports={isTest:Dh,isElectron:_e,isElectronMain:_h,isElectronRenderer:Rh,isNode:Mh,isBrowser:Ch,isWebWorker:Fh,isEnvWithDom:fr,isReactNative:Uh}});var Ro=x((qd,_o)=>{"use strict";_o.exports=function(){throw new Error("WebSocket Servers can not be created in the browser!")}});var wn=x(qt=>{"use strict";qt.CODE_P2P=421;qt.CODE_CIRCUIT=290;qt.CODE_TCP=6;qt.CODE_WS=477;qt.CODE_WSS=478;qt.CLOSE_TIMEOUT=2e3});var mn=x(ce=>{"use strict";Object.defineProperty(ce,"__esModule",{value:!0});ce.isCorrect=ce.isInSubnet=void 0;function Oh(e){return this.subnetMask<e.subnetMask?!1:this.mask(e.subnetMask)===e.mask()}ce.isInSubnet=Oh;function Ph(e){return function(){return this.addressMinusSuffix!==this.correctForm()?!1:this.subnetMask===e&&!this.parsedSubnet?!0:this.parsedSubnet===String(this.subnetMask)}}ce.isCorrect=Ph});var bn=x(mt=>{"use strict";Object.defineProperty(mt,"__esModule",{value:!0});mt.RE_SUBNET_STRING=mt.RE_ADDRESS=mt.GROUPS=mt.BITS=void 0;mt.BITS=32;mt.GROUPS=4;mt.RE_ADDRESS=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/g;mt.RE_SUBNET_STRING=/\/\d{1,2}$/});var pr=x(fe=>{"use strict";var Nh=fe&&fe.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(fe,"__esModule",{value:!0});fe.AddressError=void 0;var $h=function(e){Nh(t,e);function t(r,n){var i=e.call(this,r)||this;return i.name="AddressError",n!==null&&(i.parseMessage=n),i}return t}(Error);fe.AddressError=$h});var vn=x((hr,Mo)=>{(function(){var e,t=244837814094590,r=(t&16777215)==15715070;function n(s,a,c){s!=null&&(typeof s=="number"?this.fromNumber(s,a,c):a==null&&typeof s!="string"?this.fromString(s,256):this.fromString(s,a))}function i(){return new n(null)}function o(s,a,c,f,y,w){for(;--w>=0;){var E=a*this[s++]+c[f]+y;y=Math.floor(E/67108864),c[f++]=E&67108863}return y}function u(s,a,c,f,y,w){for(var E=a&32767,S=a>>15;--w>=0;){var O=this[s]&32767,q=this[s++]>>15,it=S*O+q*E;O=E*O+((it&32767)<<15)+c[f]+(y&1073741823),y=(O>>>30)+(it>>>15)+S*q+(y>>>30),c[f++]=O&1073741823}return y}function h(s,a,c,f,y,w){for(var E=a&16383,S=a>>14;--w>=0;){var O=this[s]&16383,q=this[s++]>>14,it=S*O+q*E;O=E*O+((it&16383)<<14)+c[f]+y,y=(O>>28)+(it>>14)+S*q,c[f++]=O&268435455}return y}var d=typeof navigator!="undefined";d&&r&&navigator.appName=="Microsoft Internet Explorer"?(n.prototype.am=u,e=30):d&&r&&navigator.appName!="Netscape"?(n.prototype.am=o,e=26):(n.prototype.am=h,e=28),n.prototype.DB=e,n.prototype.DM=(1<<e)-1,n.prototype.DV=1<<e;var b=52;n.prototype.FV=Math.pow(2,b),n.prototype.F1=b-e,n.prototype.F2=2*e-b;var p="0123456789abcdefghijklmnopqrstuvwxyz",g=new Array,A,m;for(A="0".charCodeAt(0),m=0;m<=9;++m)g[A++]=m;for(A="a".charCodeAt(0),m=10;m<36;++m)g[A++]=m;for(A="A".charCodeAt(0),m=10;m<36;++m)g[A++]=m;function v(s){return p.charAt(s)}function _(s,a){var c=g[s.charCodeAt(a)];return c??-1}function T(s){for(var a=this.t-1;a>=0;--a)s[a]=this[a];s.t=this.t,s.s=this.s}function M(s){this.t=1,this.s=s<0?-1:0,s>0?this[0]=s:s<-1?this[0]=s+this.DV:this.t=0}function I(s){var a=i();return a.fromInt(s),a}function R(s,a){var c;if(a==16)c=4;else if(a==8)c=3;else if(a==256)c=8;else if(a==2)c=1;else if(a==32)c=5;else if(a==4)c=2;else{this.fromRadix(s,a);return}this.t=0,this.s=0;for(var f=s.length,y=!1,w=0;--f>=0;){var E=c==8?s[f]&255:_(s,f);if(E<0){s.charAt(f)=="-"&&(y=!0);continue}y=!1,w==0?this[this.t++]=E:w+c>this.DB?(this[this.t-1]|=(E&(1<<this.DB-w)-1)<<w,this[this.t++]=E>>this.DB-w):this[this.t-1]|=E<<w,w+=c,w>=this.DB&&(w-=this.DB)}c==8&&(s[0]&128)!=0&&(this.s=-1,w>0&&(this[this.t-1]|=(1<<this.DB-w)-1<<w)),this.clamp(),y&&n.ZERO.subTo(this,this)}function D(){for(var s=this.s&this.DM;this.t>0&&this[this.t-1]==s;)--this.t}function $(s){if(this.s<0)return"-"+this.negate().toString(s);var a;if(s==16)a=4;else if(s==8)a=3;else if(s==2)a=1;else if(s==32)a=5;else if(s==4)a=2;else return this.toRadix(s);var c=(1<<a)-1,f,y=!1,w="",E=this.t,S=this.DB-E*this.DB%a;if(E-- >0)for(S<this.DB&&(f=this[E]>>S)>0&&(y=!0,w=v(f));E>=0;)S<a?(f=(this[E]&(1<<S)-1)<<a-S,f|=this[--E]>>(S+=this.DB-a)):(f=this[E]>>(S-=a)&c,S<=0&&(S+=this.DB,--E)),f>0&&(y=!0),y&&(w+=v(f));return y?w:"0"}function F(){var s=i();return n.ZERO.subTo(this,s),s}function P(){return this.s<0?this.negate():this}function X(s){var a=this.s-s.s;if(a!=0)return a;var c=this.t;if(a=c-s.t,a!=0)return this.s<0?-a:a;for(;--c>=0;)if((a=this[c]-s[c])!=0)return a;return 0}function Gt(s){var a=1,c;return(c=s>>>16)!=0&&(s=c,a+=16),(c=s>>8)!=0&&(s=c,a+=8),(c=s>>4)!=0&&(s=c,a+=4),(c=s>>2)!=0&&(s=c,a+=2),(c=s>>1)!=0&&(s=c,a+=1),a}function va(){return this.t<=0?0:this.DB*(this.t-1)+Gt(this[this.t-1]^this.s&this.DM)}function Ea(s,a){var c;for(c=this.t-1;c>=0;--c)a[c+s]=this[c];for(c=s-1;c>=0;--c)a[c]=0;a.t=this.t+s,a.s=this.s}function Sa(s,a){for(var c=s;c<this.t;++c)a[c-s]=this[c];a.t=Math.max(this.t-s,0),a.s=this.s}function xa(s,a){var c=s%this.DB,f=this.DB-c,y=(1<<f)-1,w=Math.floor(s/this.DB),E=this.s<<c&this.DM,S;for(S=this.t-1;S>=0;--S)a[S+w+1]=this[S]>>f|E,E=(this[S]&y)<<c;for(S=w-1;S>=0;--S)a[S]=0;a[w]=E,a.t=this.t+w+1,a.s=this.s,a.clamp()}function Aa(s,a){a.s=this.s;var c=Math.floor(s/this.DB);if(c>=this.t){a.t=0;return}var f=s%this.DB,y=this.DB-f,w=(1<<f)-1;a[0]=this[c]>>f;for(var E=c+1;E<this.t;++E)a[E-c-1]|=(this[E]&w)<<y,a[E-c]=this[E]>>f;f>0&&(a[this.t-c-1]|=(this.s&w)<<y),a.t=this.t-c,a.clamp()}function Ba(s,a){for(var c=0,f=0,y=Math.min(s.t,this.t);c<y;)f+=this[c]-s[c],a[c++]=f&this.DM,f>>=this.DB;if(s.t<this.t){for(f-=s.s;c<this.t;)f+=this[c],a[c++]=f&this.DM,f>>=this.DB;f+=this.s}else{for(f+=this.s;c<s.t;)f-=s[c],a[c++]=f&this.DM,f>>=this.DB;f-=s.s}a.s=f<0?-1:0,f<-1?a[c++]=this.DV+f:f>0&&(a[c++]=f),a.t=c,a.clamp()}function Ta(s,a){var c=this.abs(),f=s.abs(),y=c.t;for(a.t=y+f.t;--y>=0;)a[y]=0;for(y=0;y<f.t;++y)a[y+c.t]=c.am(0,f[y],a,y,0,c.t);a.s=0,a.clamp(),this.s!=s.s&&n.ZERO.subTo(a,a)}function Ia(s){for(var a=this.abs(),c=s.t=2*a.t;--c>=0;)s[c]=0;for(c=0;c<a.t-1;++c){var f=a.am(c,a[c],s,2*c,0,1);(s[c+a.t]+=a.am(c+1,2*a[c],s,2*c+1,f,a.t-c-1))>=a.DV&&(s[c+a.t]-=a.DV,s[c+a.t+1]=1)}s.t>0&&(s[s.t-1]+=a.am(c,a[c],s,2*c,0,1)),s.s=0,s.clamp()}function Ca(s,a,c){var f=s.abs();if(!(f.t<=0)){var y=this.abs();if(y.t<f.t){a!=null&&a.fromInt(0),c!=null&&this.copyTo(c);return}c==null&&(c=i());var w=i(),E=this.s,S=s.s,O=this.DB-Gt(f[f.t-1]);O>0?(f.lShiftTo(O,w),y.lShiftTo(O,c)):(f.copyTo(w),y.copyTo(c));var q=w.t,it=w[q-1];if(it!=0){var rt=it*(1<<this.F1)+(q>1?w[q-2]>>this.F2:0),Et=this.FV/rt,Oe=(1<<this.F1)/rt,ct=1<<this.F2,ft=c.t,Pe=ft-q,Ct=a??i();for(w.dlShiftTo(Pe,Ct),c.compareTo(Ct)>=0&&(c[c.t++]=1,c.subTo(Ct,c)),n.ONE.dlShiftTo(q,Ct),Ct.subTo(w,w);w.t<q;)w[w.t++]=0;for(;--Pe>=0;){var Tr=c[--ft]==it?this.DM:Math.floor(c[ft]*Et+(c[ft-1]+ct)*Oe);if((c[ft]+=w.am(0,Tr,c,Pe,0,q))<Tr)for(w.dlShiftTo(Pe,Ct),c.subTo(Ct,c);c[ft]<--Tr;)c.subTo(Ct,c)}a!=null&&(c.drShiftTo(q,a),E!=S&&n.ZERO.subTo(a,a)),c.t=q,c.clamp(),O>0&&c.rShiftTo(O,c),E<0&&n.ZERO.subTo(c,c)}}}function _a(s){var a=i();return this.abs().divRemTo(s,null,a),this.s<0&&a.compareTo(n.ZERO)>0&&s.subTo(a,a),a}function Ut(s){this.m=s}function Ra(s){return s.s<0||s.compareTo(this.m)>=0?s.mod(this.m):s}function Ma(s){return s}function Fa(s){s.divRemTo(this.m,null,s)}function Da(s,a,c){s.multiplyTo(a,c),this.reduce(c)}function Ua(s,a){s.squareTo(a),this.reduce(a)}Ut.prototype.convert=Ra,Ut.prototype.revert=Ma,Ut.prototype.reduce=Fa,Ut.prototype.mulTo=Da,Ut.prototype.sqrTo=Ua;function Oa(){if(this.t<1)return 0;var s=this[0];if((s&1)==0)return 0;var a=s&3;return a=a*(2-(s&15)*a)&15,a=a*(2-(s&255)*a)&255,a=a*(2-((s&65535)*a&65535))&65535,a=a*(2-s*a%this.DV)%this.DV,a>0?this.DV-a:-a}function Ot(s){this.m=s,this.mp=s.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<s.DB-15)-1,this.mt2=2*s.t}function Pa(s){var a=i();return s.abs().dlShiftTo(this.m.t,a),a.divRemTo(this.m,null,a),s.s<0&&a.compareTo(n.ZERO)>0&&this.m.subTo(a,a),a}function Na(s){var a=i();return s.copyTo(a),this.reduce(a),a}function $a(s){for(;s.t<=this.mt2;)s[s.t++]=0;for(var a=0;a<this.m.t;++a){var c=s[a]&32767,f=c*this.mpl+((c*this.mph+(s[a]>>15)*this.mpl&this.um)<<15)&s.DM;for(c=a+this.m.t,s[c]+=this.m.am(0,f,s,a,0,this.m.t);s[c]>=s.DV;)s[c]-=s.DV,s[++c]++}s.clamp(),s.drShiftTo(this.m.t,s),s.compareTo(this.m)>=0&&s.subTo(this.m,s)}function La(s,a){s.squareTo(a),this.reduce(a)}function ka(s,a,c){s.multiplyTo(a,c),this.reduce(c)}Ot.prototype.convert=Pa,Ot.prototype.revert=Na,Ot.prototype.reduce=$a,Ot.prototype.mulTo=ka,Ot.prototype.sqrTo=La;function qa(){return(this.t>0?this[0]&1:this.s)==0}function ja(s,a){if(s>4294967295||s<1)return n.ONE;var c=i(),f=i(),y=a.convert(this),w=Gt(s)-1;for(y.copyTo(c);--w>=0;)if(a.sqrTo(c,f),(s&1<<w)>0)a.mulTo(f,y,c);else{var E=c;c=f,f=E}return a.revert(c)}function za(s,a){var c;return s<256||a.isEven()?c=new Ut(a):c=new Ot(a),this.exp(s,c)}n.prototype.copyTo=T,n.prototype.fromInt=M,n.prototype.fromString=R,n.prototype.clamp=D,n.prototype.dlShiftTo=Ea,n.prototype.drShiftTo=Sa,n.prototype.lShiftTo=xa,n.prototype.rShiftTo=Aa,n.prototype.subTo=Ba,n.prototype.multiplyTo=Ta,n.prototype.squareTo=Ia,n.prototype.divRemTo=Ca,n.prototype.invDigit=Oa,n.prototype.isEven=qa,n.prototype.exp=ja,n.prototype.toString=$,n.prototype.negate=F,n.prototype.abs=P,n.prototype.compareTo=X,n.prototype.bitLength=va,n.prototype.mod=_a,n.prototype.modPowInt=za,n.ZERO=I(0),n.ONE=I(1);function Va(){var s=i();return this.copyTo(s),s}function Ga(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function Wa(){return this.t==0?this.s:this[0]<<24>>24}function Za(){return this.t==0?this.s:this[0]<<16>>16}function Ha(s){return Math.floor(Math.LN2*this.DB/Math.log(s))}function Qa(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1}function Ya(s){if(s==null&&(s=10),this.signum()==0||s<2||s>36)return"0";var a=this.chunkSize(s),c=Math.pow(s,a),f=I(c),y=i(),w=i(),E="";for(this.divRemTo(f,y,w);y.signum()>0;)E=(c+w.intValue()).toString(s).substr(1)+E,y.divRemTo(f,y,w);return w.intValue().toString(s)+E}function Ja(s,a){this.fromInt(0),a==null&&(a=10);for(var c=this.chunkSize(a),f=Math.pow(a,c),y=!1,w=0,E=0,S=0;S<s.length;++S){var O=_(s,S);if(O<0){s.charAt(S)=="-"&&this.signum()==0&&(y=!0);continue}E=a*E+O,++w>=c&&(this.dMultiply(f),this.dAddOffset(E,0),w=0,E=0)}w>0&&(this.dMultiply(Math.pow(a,w)),this.dAddOffset(E,0)),y&&n.ZERO.subTo(this,this)}function Xa(s,a,c){if(typeof a=="number")if(s<2)this.fromInt(1);else for(this.fromNumber(s,c),this.testBit(s-1)||this.bitwiseTo(n.ONE.shiftLeft(s-1),Sr,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(a);)this.dAddOffset(2,0),this.bitLength()>s&&this.subTo(n.ONE.shiftLeft(s-1),this);else{var f=new Array,y=s&7;f.length=(s>>3)+1,a.nextBytes(f),y>0?f[0]&=(1<<y)-1:f[0]=0,this.fromString(f,256)}}function Ka(){var s=this.t,a=new Array;a[0]=this.s;var c=this.DB-s*this.DB%8,f,y=0;if(s-- >0)for(c<this.DB&&(f=this[s]>>c)!=(this.s&this.DM)>>c&&(a[y++]=f|this.s<<this.DB-c);s>=0;)c<8?(f=(this[s]&(1<<c)-1)<<8-c,f|=this[--s]>>(c+=this.DB-8)):(f=this[s]>>(c-=8)&255,c<=0&&(c+=this.DB,--s)),(f&128)!=0&&(f|=-256),y==0&&(this.s&128)!=(f&128)&&++y,(y>0||f!=this.s)&&(a[y++]=f);return a}function tu(s){return this.compareTo(s)==0}function eu(s){return this.compareTo(s)<0?this:s}function ru(s){return this.compareTo(s)>0?this:s}function nu(s,a,c){var f,y,w=Math.min(s.t,this.t);for(f=0;f<w;++f)c[f]=a(this[f],s[f]);if(s.t<this.t){for(y=s.s&this.DM,f=w;f<this.t;++f)c[f]=a(this[f],y);c.t=this.t}else{for(y=this.s&this.DM,f=w;f<s.t;++f)c[f]=a(y,s[f]);c.t=s.t}c.s=a(this.s,s.s),c.clamp()}function iu(s,a){return s&a}function su(s){var a=i();return this.bitwiseTo(s,iu,a),a}function Sr(s,a){return s|a}function ou(s){var a=i();return this.bitwiseTo(s,Sr,a),a}function $n(s,a){return s^a}function au(s){var a=i();return this.bitwiseTo(s,$n,a),a}function Ln(s,a){return s&~a}function uu(s){var a=i();return this.bitwiseTo(s,Ln,a),a}function cu(){for(var s=i(),a=0;a<this.t;++a)s[a]=this.DM&~this[a];return s.t=this.t,s.s=~this.s,s}function fu(s){var a=i();return s<0?this.rShiftTo(-s,a):this.lShiftTo(s,a),a}function pu(s){var a=i();return s<0?this.lShiftTo(-s,a):this.rShiftTo(s,a),a}function hu(s){if(s==0)return-1;var a=0;return(s&65535)==0&&(s>>=16,a+=16),(s&255)==0&&(s>>=8,a+=8),(s&15)==0&&(s>>=4,a+=4),(s&3)==0&&(s>>=2,a+=2),(s&1)==0&&++a,a}function lu(){for(var s=0;s<this.t;++s)if(this[s]!=0)return s*this.DB+hu(this[s]);return this.s<0?this.t*this.DB:-1}function du(s){for(var a=0;s!=0;)s&=s-1,++a;return a}function yu(){for(var s=0,a=this.s&this.DM,c=0;c<this.t;++c)s+=du(this[c]^a);return s}function gu(s){var a=Math.floor(s/this.DB);return a>=this.t?this.s!=0:(this[a]&1<<s%this.DB)!=0}function wu(s,a){var c=n.ONE.shiftLeft(s);return this.bitwiseTo(c,a,c),c}function mu(s){return this.changeBit(s,Sr)}function bu(s){return this.changeBit(s,Ln)}function vu(s){return this.changeBit(s,$n)}function Eu(s,a){for(var c=0,f=0,y=Math.min(s.t,this.t);c<y;)f+=this[c]+s[c],a[c++]=f&this.DM,f>>=this.DB;if(s.t<this.t){for(f+=s.s;c<this.t;)f+=this[c],a[c++]=f&this.DM,f>>=this.DB;f+=this.s}else{for(f+=this.s;c<s.t;)f+=s[c],a[c++]=f&this.DM,f>>=this.DB;f+=s.s}a.s=f<0?-1:0,f>0?a[c++]=f:f<-1&&(a[c++]=this.DV+f),a.t=c,a.clamp()}function Su(s){var a=i();return this.addTo(s,a),a}function xu(s){var a=i();return this.subTo(s,a),a}function Au(s){var a=i();return this.multiplyTo(s,a),a}function Bu(){var s=i();return this.squareTo(s),s}function Tu(s){var a=i();return this.divRemTo(s,a,null),a}function Iu(s){var a=i();return this.divRemTo(s,null,a),a}function Cu(s){var a=i(),c=i();return this.divRemTo(s,a,c),new Array(a,c)}function _u(s){this[this.t]=this.am(0,s-1,this,0,0,this.t),++this.t,this.clamp()}function Ru(s,a){if(s!=0){for(;this.t<=a;)this[this.t++]=0;for(this[a]+=s;this[a]>=this.DV;)this[a]-=this.DV,++a>=this.t&&(this[this.t++]=0),++this[a]}}function we(){}function kn(s){return s}function Mu(s,a,c){s.multiplyTo(a,c)}function Fu(s,a){s.squareTo(a)}we.prototype.convert=kn,we.prototype.revert=kn,we.prototype.mulTo=Mu,we.prototype.sqrTo=Fu;function Du(s){return this.exp(s,new we)}function Uu(s,a,c){var f=Math.min(this.t+s.t,a);for(c.s=0,c.t=f;f>0;)c[--f]=0;var y;for(y=c.t-this.t;f<y;++f)c[f+this.t]=this.am(0,s[f],c,f,0,this.t);for(y=Math.min(s.t,a);f<y;++f)this.am(0,s[f],c,f,0,a-f);c.clamp()}function Ou(s,a,c){--a;var f=c.t=this.t+s.t-a;for(c.s=0;--f>=0;)c[f]=0;for(f=Math.max(a-this.t,0);f<s.t;++f)c[this.t+f-a]=this.am(a-f,s[f],c,0,0,this.t+f-a);c.clamp(),c.drShiftTo(1,c)}function Pt(s){this.r2=i(),this.q3=i(),n.ONE.dlShiftTo(2*s.t,this.r2),this.mu=this.r2.divide(s),this.m=s}function Pu(s){if(s.s<0||s.t>2*this.m.t)return s.mod(this.m);if(s.compareTo(this.m)<0)return s;var a=i();return s.copyTo(a),this.reduce(a),a}function Nu(s){return s}function $u(s){for(s.drShiftTo(this.m.t-1,this.r2),s.t>this.m.t+1&&(s.t=this.m.t+1,s.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);s.compareTo(this.r2)<0;)s.dAddOffset(1,this.m.t+1);for(s.subTo(this.r2,s);s.compareTo(this.m)>=0;)s.subTo(this.m,s)}function Lu(s,a){s.squareTo(a),this.reduce(a)}function ku(s,a,c){s.multiplyTo(a,c),this.reduce(c)}Pt.prototype.convert=Pu,Pt.prototype.revert=Nu,Pt.prototype.reduce=$u,Pt.prototype.mulTo=ku,Pt.prototype.sqrTo=Lu;function qu(s,a){var c=s.bitLength(),f,y=I(1),w;if(c<=0)return y;c<18?f=1:c<48?f=3:c<144?f=4:c<768?f=5:f=6,c<8?w=new Ut(a):a.isEven()?w=new Pt(a):w=new Ot(a);var E=new Array,S=3,O=f-1,q=(1<<f)-1;if(E[1]=w.convert(this),f>1){var it=i();for(w.sqrTo(E[1],it);S<=q;)E[S]=i(),w.mulTo(it,E[S-2],E[S]),S+=2}var rt=s.t-1,Et,Oe=!0,ct=i(),ft;for(c=Gt(s[rt])-1;rt>=0;){for(c>=O?Et=s[rt]>>c-O&q:(Et=(s[rt]&(1<<c+1)-1)<<O-c,rt>0&&(Et|=s[rt-1]>>this.DB+c-O)),S=f;(Et&1)==0;)Et>>=1,--S;if((c-=S)<0&&(c+=this.DB,--rt),Oe)E[Et].copyTo(y),Oe=!1;else{for(;S>1;)w.sqrTo(y,ct),w.sqrTo(ct,y),S-=2;S>0?w.sqrTo(y,ct):(ft=y,y=ct,ct=ft),w.mulTo(ct,E[Et],y)}for(;rt>=0&&(s[rt]&1<<c)==0;)w.sqrTo(y,ct),ft=y,y=ct,ct=ft,--c<0&&(c=this.DB-1,--rt)}return w.revert(y)}function ju(s){var a=this.s<0?this.negate():this.clone(),c=s.s<0?s.negate():s.clone();if(a.compareTo(c)<0){var f=a;a=c,c=f}var y=a.getLowestSetBit(),w=c.getLowestSetBit();if(w<0)return a;for(y<w&&(w=y),w>0&&(a.rShiftTo(w,a),c.rShiftTo(w,c));a.signum()>0;)(y=a.getLowestSetBit())>0&&a.rShiftTo(y,a),(y=c.getLowestSetBit())>0&&c.rShiftTo(y,c),a.compareTo(c)>=0?(a.subTo(c,a),a.rShiftTo(1,a)):(c.subTo(a,c),c.rShiftTo(1,c));return w>0&&c.lShiftTo(w,c),c}function zu(s){if(s<=0)return 0;var a=this.DV%s,c=this.s<0?s-1:0;if(this.t>0)if(a==0)c=this[0]%s;else for(var f=this.t-1;f>=0;--f)c=(a*c+this[f])%s;return c}function Vu(s){var a=s.isEven();if(this.isEven()&&a||s.signum()==0)return n.ZERO;for(var c=s.clone(),f=this.clone(),y=I(1),w=I(0),E=I(0),S=I(1);c.signum()!=0;){for(;c.isEven();)c.rShiftTo(1,c),a?((!y.isEven()||!w.isEven())&&(y.addTo(this,y),w.subTo(s,w)),y.rShiftTo(1,y)):w.isEven()||w.subTo(s,w),w.rShiftTo(1,w);for(;f.isEven();)f.rShiftTo(1,f),a?((!E.isEven()||!S.isEven())&&(E.addTo(this,E),S.subTo(s,S)),E.rShiftTo(1,E)):S.isEven()||S.subTo(s,S),S.rShiftTo(1,S);c.compareTo(f)>=0?(c.subTo(f,c),a&&y.subTo(E,y),w.subTo(S,w)):(f.subTo(c,f),a&&E.subTo(y,E),S.subTo(w,S))}if(f.compareTo(n.ONE)!=0)return n.ZERO;if(S.compareTo(s)>=0)return S.subtract(s);if(S.signum()<0)S.addTo(s,S);else return S;return S.signum()<0?S.add(s):S}var H=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],Gu=(1<<26)/H[H.length-1];function Wu(s){var a,c=this.abs();if(c.t==1&&c[0]<=H[H.length-1]){for(a=0;a<H.length;++a)if(c[0]==H[a])return!0;return!1}if(c.isEven())return!1;for(a=1;a<H.length;){for(var f=H[a],y=a+1;y<H.length&&f<Gu;)f*=H[y++];for(f=c.modInt(f);a<y;)if(f%H[a++]==0)return!1}return c.millerRabin(s)}function Zu(s){var a=this.subtract(n.ONE),c=a.getLowestSetBit();if(c<=0)return!1;var f=a.shiftRight(c);s=s+1>>1,s>H.length&&(s=H.length);for(var y=i(),w=0;w<s;++w){y.fromInt(H[Math.floor(Math.random()*H.length)]);var E=y.modPow(f,this);if(E.compareTo(n.ONE)!=0&&E.compareTo(a)!=0){for(var S=1;S++<c&&E.compareTo(a)!=0;)if(E=E.modPowInt(2,this),E.compareTo(n.ONE)==0)return!1;if(E.compareTo(a)!=0)return!1}}return!0}n.prototype.chunkSize=Ha,n.prototype.toRadix=Ya,n.prototype.fromRadix=Ja,n.prototype.fromNumber=Xa,n.prototype.bitwiseTo=nu,n.prototype.changeBit=wu,n.prototype.addTo=Eu,n.prototype.dMultiply=_u,n.prototype.dAddOffset=Ru,n.prototype.multiplyLowerTo=Uu,n.prototype.multiplyUpperTo=Ou,n.prototype.modInt=zu,n.prototype.millerRabin=Zu,n.prototype.clone=Va,n.prototype.intValue=Ga,n.prototype.byteValue=Wa,n.prototype.shortValue=Za,n.prototype.signum=Qa,n.prototype.toByteArray=Ka,n.prototype.equals=tu,n.prototype.min=eu,n.prototype.max=ru,n.prototype.and=su,n.prototype.or=ou,n.prototype.xor=au,n.prototype.andNot=uu,n.prototype.not=cu,n.prototype.shiftLeft=fu,n.prototype.shiftRight=pu,n.prototype.getLowestSetBit=lu,n.prototype.bitCount=yu,n.prototype.testBit=gu,n.prototype.setBit=mu,n.prototype.clearBit=bu,n.prototype.flipBit=vu,n.prototype.add=Su,n.prototype.subtract=xu,n.prototype.multiply=Au,n.prototype.divide=Tu,n.prototype.remainder=Iu,n.prototype.divideAndRemainder=Cu,n.prototype.modPow=qu,n.prototype.modInverse=Vu,n.prototype.pow=Du,n.prototype.gcd=ju,n.prototype.isProbablePrime=Wu,n.prototype.square=Bu,n.prototype.Barrett=Pt;var Ue,et,k;function Hu(s){et[k++]^=s&255,et[k++]^=s>>8&255,et[k++]^=s>>16&255,et[k++]^=s>>24&255,k>=Br&&(k-=Br)}function qn(){Hu(new Date().getTime())}if(et==null){et=new Array,k=0;var ut;if(typeof window!="undefined"&&window.crypto){if(window.crypto.getRandomValues){var jn=new Uint8Array(32);for(window.crypto.getRandomValues(jn),ut=0;ut<32;++ut)et[k++]=jn[ut]}else if(navigator.appName=="Netscape"&&navigator.appVersion<"5"){var zn=window.crypto.random(32);for(ut=0;ut<zn.length;++ut)et[k++]=zn.charCodeAt(ut)&255}}for(;k<Br;)ut=Math.floor(65536*Math.random()),et[k++]=ut>>>8,et[k++]=ut&255;k=0,qn()}function Qu(){if(Ue==null){for(qn(),Ue=Ku(),Ue.init(et),k=0;k<et.length;++k)et[k]=0;k=0}return Ue.next()}function Yu(s){var a;for(a=0;a<s.length;++a)s[a]=Qu()}function xr(){}xr.prototype.nextBytes=Yu;function Ar(){this.i=0,this.j=0,this.S=new Array}function Ju(s){var a,c,f;for(a=0;a<256;++a)this.S[a]=a;for(c=0,a=0;a<256;++a)c=c+this.S[a]+s[a%s.length]&255,f=this.S[a],this.S[a]=this.S[c],this.S[c]=f;this.i=0,this.j=0}function Xu(){var s;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,s=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=s,this.S[s+this.S[this.i]&255]}Ar.prototype.init=Ju,Ar.prototype.next=Xu;function Ku(){return new Ar}var Br=256;typeof hr!="undefined"?hr=Mo.exports={default:n,BigInteger:n,SecureRandom:xr}:this.jsbn={BigInteger:n,SecureRandom:xr}}).call(hr)});var Re=x(lr=>{(function(){"use strict";var e={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function t(u){return n(o(u),arguments)}function r(u,h){return t.apply(null,[u].concat(h||[]))}function n(u,h){var d=1,b=u.length,p,g="",A,m,v,_,T,M,I,R;for(A=0;A<b;A++)if(typeof u[A]=="string")g+=u[A];else if(typeof u[A]=="object"){if(v=u[A],v.keys)for(p=h[d],m=0;m<v.keys.length;m++){if(p==null)throw new Error(t('[sprintf] Cannot access property "%s" of undefined value "%s"',v.keys[m],v.keys[m-1]));p=p[v.keys[m]]}else v.param_no?p=h[v.param_no]:p=h[d++];if(e.not_type.test(v.type)&&e.not_primitive.test(v.type)&&p instanceof Function&&(p=p()),e.numeric_arg.test(v.type)&&typeof p!="number"&&isNaN(p))throw new TypeError(t("[sprintf] expecting number but found %T",p));switch(e.number.test(v.type)&&(I=p>=0),v.type){case"b":p=parseInt(p,10).toString(2);break;case"c":p=String.fromCharCode(parseInt(p,10));break;case"d":case"i":p=parseInt(p,10);break;case"j":p=JSON.stringify(p,null,v.width?parseInt(v.width):0);break;case"e":p=v.precision?parseFloat(p).toExponential(v.precision):parseFloat(p).toExponential();break;case"f":p=v.precision?parseFloat(p).toFixed(v.precision):parseFloat(p);break;case"g":p=v.precision?String(Number(p.toPrecision(v.precision))):parseFloat(p);break;case"o":p=(parseInt(p,10)>>>0).toString(8);break;case"s":p=String(p),p=v.precision?p.substring(0,v.precision):p;break;case"t":p=String(!!p),p=v.precision?p.substring(0,v.precision):p;break;case"T":p=Object.prototype.toString.call(p).slice(8,-1).toLowerCase(),p=v.precision?p.substring(0,v.precision):p;break;case"u":p=parseInt(p,10)>>>0;break;case"v":p=p.valueOf(),p=v.precision?p.substring(0,v.precision):p;break;case"x":p=(parseInt(p,10)>>>0).toString(16);break;case"X":p=(parseInt(p,10)>>>0).toString(16).toUpperCase();break}e.json.test(v.type)?g+=p:(e.number.test(v.type)&&(!I||v.sign)?(R=I?"+":"-",p=p.toString().replace(e.sign,"")):R="",T=v.pad_char?v.pad_char==="0"?"0":v.pad_char.charAt(1):" ",M=v.width-(R+p).length,_=v.width&&M>0?T.repeat(M):"",g+=v.align?R+p+_:T==="0"?R+_+p:_+R+p)}return g}var i=Object.create(null);function o(u){if(i[u])return i[u];for(var h=u,d,b=[],p=0;h;){if((d=e.text.exec(h))!==null)b.push(d[0]);else if((d=e.modulo.exec(h))!==null)b.push("%");else if((d=e.placeholder.exec(h))!==null){if(d[2]){p|=1;var g=[],A=d[2],m=[];if((m=e.key.exec(A))!==null)for(g.push(m[1]);(A=A.substring(m[0].length))!=="";)if((m=e.key_access.exec(A))!==null)g.push(m[1]);else if((m=e.index_access.exec(A))!==null)g.push(m[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");d[2]=g}else p|=2;if(p===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");b.push({placeholder:d[0],param_no:d[1],keys:d[2],sign:d[3],pad_char:d[4],align:d[5],width:d[6],precision:d[7],type:d[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");h=h.substring(d[0].length)}return i[u]=b}typeof lr!="undefined"&&(lr.sprintf=t,lr.vsprintf=r),typeof window!="undefined"&&(window.sprintf=t,window.vsprintf=r,typeof define=="function"&&define.amd&&define(function(){return{sprintf:t,vsprintf:r}}))})()});var En=x(bt=>{"use strict";var Lh=bt&&bt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),kh=bt&&bt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Fo=bt&&bt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Lh(t,e,r);return kh(t,e),t};Object.defineProperty(bt,"__esModule",{value:!0});bt.Address4=void 0;var Do=Fo(mn()),lt=Fo(bn()),Uo=pr(),Me=vn(),Fe=Re(),qh=function(){function e(t){this.groups=lt.GROUPS,this.parsedAddress=[],this.parsedSubnet="",this.subnet="/32",this.subnetMask=32,this.v4=!0,this.isCorrect=Do.isCorrect(lt.BITS),this.isInSubnet=Do.isInSubnet,this.address=t;var r=lt.RE_SUBNET_STRING.exec(t);if(r){if(this.parsedSubnet=r[0].replace("/",""),this.subnetMask=parseInt(this.parsedSubnet,10),this.subnet="/"+this.subnetMask,this.subnetMask<0||this.subnetMask>lt.BITS)throw new Uo.AddressError("Invalid subnet mask.");t=t.replace(lt.RE_SUBNET_STRING,"")}this.addressMinusSuffix=t,this.parsedAddress=this.parse(t)}return e.isValid=function(t){try{return new e(t),!0}catch(r){return!1}},e.prototype.parse=function(t){var r=t.split(".");if(!t.match(lt.RE_ADDRESS))throw new Uo.AddressError("Invalid IPv4 address.");return r},e.prototype.correctForm=function(){return this.parsedAddress.map(function(t){return parseInt(t,10)}).join(".")},e.fromHex=function(t){var r=t.replace(/:/g,"").padStart(8,"0"),n=[],i;for(i=0;i<8;i+=2){var o=r.slice(i,i+2);n.push(parseInt(o,16))}return new e(n.join("."))},e.fromInteger=function(t){return e.fromHex(t.toString(16))},e.prototype.toHex=function(){return this.parsedAddress.map(function(t){return Fe.sprintf("%02x",parseInt(t,10))}).join(":")},e.prototype.toArray=function(){return this.parsedAddress.map(function(t){return parseInt(t,10)})},e.prototype.toGroup6=function(){var t=[],r;for(r=0;r<lt.GROUPS;r+=2){var n=Fe.sprintf("%02x%02x",parseInt(this.parsedAddress[r],10),parseInt(this.parsedAddress[r+1],10));t.push(Fe.sprintf("%x",parseInt(n,16)))}return t.join(":")},e.prototype.bigInteger=function(){return new Me.BigInteger(this.parsedAddress.map(function(t){return Fe.sprintf("%02x",parseInt(t,10))}).join(""),16)},e.prototype._startAddress=function(){return new Me.BigInteger(this.mask()+"0".repeat(lt.BITS-this.subnetMask),2)},e.prototype.startAddress=function(){return e.fromBigInteger(this._startAddress())},e.prototype.startAddressExclusive=function(){var t=new Me.BigInteger("1");return e.fromBigInteger(this._startAddress().add(t))},e.prototype._endAddress=function(){return new Me.BigInteger(this.mask()+"1".repeat(lt.BITS-this.subnetMask),2)},e.prototype.endAddress=function(){return e.fromBigInteger(this._endAddress())},e.prototype.endAddressExclusive=function(){var t=new Me.BigInteger("1");return e.fromBigInteger(this._endAddress().subtract(t))},e.fromBigInteger=function(t){return e.fromInteger(parseInt(t.toString(),10))},e.prototype.mask=function(t){return t===void 0&&(t=this.subnetMask),this.getBitsBase2(0,t)},e.prototype.getBitsBase2=function(t,r){return this.binaryZeroPad().slice(t,r)},e.prototype.isMulticast=function(){return this.isInSubnet(new e("224.0.0.0/4"))},e.prototype.binaryZeroPad=function(){return this.bigInteger().toString(2).padStart(lt.BITS,"0")},e.prototype.groupForV6=function(){var t=this.parsedAddress;return this.address.replace(lt.RE_ADDRESS,Fe.sprintf('<span class="hover-group group-v4 group-6">%s</span>.<span class="hover-group group-v4 group-7">%s</span>',t.slice(0,2).join("."),t.slice(2,4).join(".")))},e}();bt.Address4=qh});var Sn=x(N=>{"use strict";Object.defineProperty(N,"__esModule",{value:!0});N.RE_URL_WITH_PORT=N.RE_URL=N.RE_ZONE_STRING=N.RE_SUBNET_STRING=N.RE_BAD_ADDRESS=N.RE_BAD_CHARACTERS=N.TYPES=N.SCOPES=N.GROUPS=N.BITS=void 0;N.BITS=128;N.GROUPS=8;N.SCOPES={0:"Reserved",1:"Interface local",2:"Link local",4:"Admin local",5:"Site local",8:"Organization local",14:"Global",15:"Reserved"};N.TYPES={"ff01::1/128":"Multicast (All nodes on this interface)","ff01::2/128":"Multicast (All routers on this interface)","ff02::1/128":"Multicast (All nodes on this link)","ff02::2/128":"Multicast (All routers on this link)","ff05::2/128":"Multicast (All routers in this site)","ff02::5/128":"Multicast (OSPFv3 AllSPF routers)","ff02::6/128":"Multicast (OSPFv3 AllDR routers)","ff02::9/128":"Multicast (RIP routers)","ff02::a/128":"Multicast (EIGRP routers)","ff02::d/128":"Multicast (PIM routers)","ff02::16/128":"Multicast (MLDv2 reports)","ff01::fb/128":"Multicast (mDNSv6)","ff02::fb/128":"Multicast (mDNSv6)","ff05::fb/128":"Multicast (mDNSv6)","ff02::1:2/128":"Multicast (All DHCP servers and relay agents on this link)","ff05::1:2/128":"Multicast (All DHCP servers and relay agents in this site)","ff02::1:3/128":"Multicast (All DHCP servers on this link)","ff05::1:3/128":"Multicast (All DHCP servers in this site)","::/128":"Unspecified","::1/128":"Loopback","ff00::/8":"Multicast","fe80::/10":"Link-local unicast"};N.RE_BAD_CHARACTERS=/([^0-9a-f:/%])/gi;N.RE_BAD_ADDRESS=/([0-9a-f]{5,}|:{3,}|[^:]:$|^:[^:]|\/$)/gi;N.RE_SUBNET_STRING=/\/\d{1,3}(?=%|$)/;N.RE_ZONE_STRING=/%.*$/;N.RE_URL=new RegExp(/^\[{0,1}([0-9a-f:]+)\]{0,1}/);N.RE_URL_WITH_PORT=new RegExp(/\[([0-9a-f:]+)\]:([0-9]{1,5})/)});var xn=x(vt=>{"use strict";Object.defineProperty(vt,"__esModule",{value:!0});vt.simpleGroup=vt.spanLeadingZeroes=vt.spanAll=vt.spanAllZeroes=void 0;var Oo=Re();function Po(e){return e.replace(/(0+)/g,'<span class="zero">$1</span>')}vt.spanAllZeroes=Po;function jh(e,t){t===void 0&&(t=0);var r=e.split("");return r.map(function(n,i){return Oo.sprintf('<span class="digit value-%s position-%d">%s</span>',n,i+t,Po(n))}).join("")}vt.spanAll=jh;function No(e){return e.replace(/^(0+)/,'<span class="zero">$1</span>')}function zh(e){var t=e.split(":");return t.map(function(r){return No(r)}).join(":")}vt.spanLeadingZeroes=zh;function Vh(e,t){t===void 0&&(t=0);var r=e.split(":");return r.map(function(n,i){return/group-v4/.test(n)?n:Oo.sprintf('<span class="hover-group group-%d">%s</span>',i+t,No(n))})}vt.simpleGroup=Vh});var $o=x(z=>{"use strict";var Gh=z&&z.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Wh=z&&z.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Zh=z&&z.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Gh(t,e,r);return Wh(t,e),t};Object.defineProperty(z,"__esModule",{value:!0});z.possibleElisions=z.simpleRegularExpression=z.ADDRESS_BOUNDARY=z.padGroup=z.groupPossibilities=void 0;var Hh=Zh(Sn()),pe=Re();function dr(e){return pe.sprintf("(%s)",e.join("|"))}z.groupPossibilities=dr;function yr(e){return e.length<4?pe.sprintf("0{0,%d}%s",4-e.length,e):e}z.padGroup=yr;z.ADDRESS_BOUNDARY="[^A-Fa-f0-9:]";function Qh(e){var t=[];e.forEach(function(n,i){var o=parseInt(n,16);o===0&&t.push(i)});var r=t.map(function(n){return e.map(function(i,o){if(o===n){var u=o===0||o===Hh.GROUPS-1?":":"";return dr([yr(i),u])}return yr(i)}).join(":")});return r.push(e.map(yr).join(":")),dr(r)}z.simpleRegularExpression=Qh;function Yh(e,t,r){var n=t?"":":",i=r?"":":",o=[];!t&&!r&&o.push("::"),t&&r&&o.push(""),(r&&!t||!r&&t)&&o.push(":"),o.push(pe.sprintf("%s(:0{1,4}){1,%d}",n,e-1)),o.push(pe.sprintf("(0{1,4}:){1,%d}%s",e-1,i)),o.push(pe.sprintf("(0{1,4}:){%d}0{1,4}",e-1));for(var u=1;u<e-1;u++)for(var h=1;h<e-u;h++)o.push(pe.sprintf("(0{1,4}:){%d}:(0{1,4}:){%d}0{1,4}",h,e-h-u-1));return dr(o)}z.possibleElisions=Yh});var zo=x(at=>{"use strict";var Jh=at&&at.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Xh=at&&at.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),gr=at&&at.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Jh(t,e,r);return Xh(t,e),t},Lo=at&&at.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(at,"__esModule",{value:!0});at.Address6=void 0;var ko=gr(mn()),An=gr(bn()),U=gr(Sn()),Bn=gr(xn()),jt=En(),zt=$o(),It=pr(),Y=vn(),J=Re();function wr(e){if(!e)throw new Error("Assertion failed.")}function Kh(e){for(var t=/(\d+)(\d{3})/;t.test(e);)e=e.replace(t,"$1,$2");return e}function tl(e){return e=e.replace(/^(0{1,})([1-9]+)$/,'<span class="parse-error">$1</span>$2'),e=e.replace(/^(0{1,})(0)$/,'<span class="parse-error">$1</span>$2'),e}function el(e,t){var r=[],n=[],i;for(i=0;i<e.length;i++)i<t[0]?r.push(e[i]):i>t[1]&&n.push(e[i]);return r.concat(["compact"]).concat(n)}function qo(e){return J.sprintf("%04x",parseInt(e,16))}function jo(e){return e&255}var rl=function(){function e(t,r){this.addressMinusSuffix="",this.parsedSubnet="",this.subnet="/128",this.subnetMask=128,this.v4=!1,this.zone="",this.isInSubnet=ko.isInSubnet,this.isCorrect=ko.isCorrect(U.BITS),r===void 0?this.groups=U.GROUPS:this.groups=r,this.address=t;var n=U.RE_SUBNET_STRING.exec(t);if(n){if(this.parsedSubnet=n[0].replace("/",""),this.subnetMask=parseInt(this.parsedSubnet,10),this.subnet="/"+this.subnetMask,Number.isNaN(this.subnetMask)||this.subnetMask<0||this.subnetMask>U.BITS)throw new It.AddressError("Invalid subnet mask.");t=t.replace(U.RE_SUBNET_STRING,"")}else if(/\//.test(t))throw new It.AddressError("Invalid subnet mask.");var i=U.RE_ZONE_STRING.exec(t);i&&(this.zone=i[0],t=t.replace(U.RE_ZONE_STRING,"")),this.addressMinusSuffix=t,this.parsedAddress=this.parse(this.addressMinusSuffix)}return e.isValid=function(t){try{return new e(t),!0}catch(r){return!1}},e.fromBigInteger=function(t){var r=t.toString(16).padStart(32,"0"),n=[],i;for(i=0;i<U.GROUPS;i++)n.push(r.slice(i*4,(i+1)*4));return new e(n.join(":"))},e.fromURL=function(t){var r,n=null,i;if(t.indexOf("[")!==-1&&t.indexOf("]:")!==-1){if(i=U.RE_URL_WITH_PORT.exec(t),i===null)return{error:"failed to parse address with port",address:null,port:null};r=i[1],n=i[2]}else if(t.indexOf("/")!==-1){if(t=t.replace(/^[a-z0-9]+:\/\//,""),i=U.RE_URL.exec(t),i===null)return{error:"failed to parse address from URL",address:null,port:null};r=i[1]}else r=t;return n?(n=parseInt(n,10),(n<0||n>65536)&&(n=null)):n=null,{address:new e(r),port:n}},e.fromAddress4=function(t){var r=new jt.Address4(t),n=U.BITS-(An.BITS-r.subnetMask);return new e("::ffff:"+r.correctForm()+"/"+n)},e.fromArpa=function(t){var r=t.replace(/(\.ip6\.arpa)?\.$/,""),n=7;if(r.length!==63)throw new It.AddressError("Invalid 'ip6.arpa' form.");for(var i=r.split(".").reverse(),o=n;o>0;o--){var u=o*4;i.splice(u,0,":")}return r=i.join(""),new e(r)},e.prototype.microsoftTranscription=function(){return J.sprintf("%s.ipv6-literal.net",this.correctForm().replace(/:/g,"-"))},e.prototype.mask=function(t){return t===void 0&&(t=this.subnetMask),this.getBitsBase2(0,t)},e.prototype.possibleSubnets=function(t){t===void 0&&(t=128);var r=U.BITS-this.subnetMask,n=Math.abs(t-U.BITS),i=r-n;return i<0?"0":Kh(new Y.BigInteger("2",10).pow(i).toString(10))},e.prototype._startAddress=function(){return new Y.BigInteger(this.mask()+"0".repeat(U.BITS-this.subnetMask),2)},e.prototype.startAddress=function(){return e.fromBigInteger(this._startAddress())},e.prototype.startAddressExclusive=function(){var t=new Y.BigInteger("1");return e.fromBigInteger(this._startAddress().add(t))},e.prototype._endAddress=function(){return new Y.BigInteger(this.mask()+"1".repeat(U.BITS-this.subnetMask),2)},e.prototype.endAddress=function(){return e.fromBigInteger(this._endAddress())},e.prototype.endAddressExclusive=function(){var t=new Y.BigInteger("1");return e.fromBigInteger(this._endAddress().subtract(t))},e.prototype.getScope=function(){var t=U.SCOPES[this.getBits(12,16).intValue()];return this.getType()==="Global unicast"&&t!=="Link local"&&(t="Global"),t||"Unknown"},e.prototype.getType=function(){for(var t=0,r=Object.keys(U.TYPES);t<r.length;t++){var n=r[t];if(this.isInSubnet(new e(n)))return U.TYPES[n]}return"Global unicast"},e.prototype.getBits=function(t,r){return new Y.BigInteger(this.getBitsBase2(t,r),2)},e.prototype.getBitsBase2=function(t,r){return this.binaryZeroPad().slice(t,r)},e.prototype.getBitsBase16=function(t,r){var n=r-t;if(n%4!=0)throw new Error("Length of bits to retrieve must be divisible by four");return this.getBits(t,r).toString(16).padStart(n/4,"0")},e.prototype.getBitsPastSubnet=function(){return this.getBitsBase2(this.subnetMask,U.BITS)},e.prototype.reverseForm=function(t){t||(t={});var r=Math.floor(this.subnetMask/4),n=this.canonicalForm().replace(/:/g,"").split("").slice(0,r).reverse().join(".");return r>0?t.omitSuffix?n:J.sprintf("%s.ip6.arpa.",n):t.omitSuffix?"":"ip6.arpa."},e.prototype.correctForm=function(){var t,r=[],n=0,i=[];for(t=0;t<this.parsedAddress.length;t++){var o=parseInt(this.parsedAddress[t],16);o===0&&n++,o!==0&&n>0&&(n>1&&i.push([t-n,t-1]),n=0)}n>1&&i.push([this.parsedAddress.length-n,this.parsedAddress.length-1]);var u=i.map(function(b){return b[1]-b[0]+1});if(i.length>0){var h=u.indexOf(Math.max.apply(Math,u));r=el(this.parsedAddress,i[h])}else r=this.parsedAddress;for(t=0;t<r.length;t++)r[t]!=="compact"&&(r[t]=parseInt(r[t],16).toString(16));var d=r.join(":");return d=d.replace(/^compact$/,"::"),d=d.replace(/^compact|compact$/,":"),d=d.replace(/compact/,""),d},e.prototype.binaryZeroPad=function(){return this.bigInteger().toString(2).padStart(U.BITS,"0")},e.prototype.parse4in6=function(t){var r=t.split(":"),n=r.slice(-1)[0],i=n.match(An.RE_ADDRESS);if(i){this.parsedAddress4=i[0],this.address4=new jt.Address4(this.parsedAddress4);for(var o=0;o<this.address4.groups;o++)if(/^0[0-9]+/.test(this.address4.parsedAddress[o]))throw new It.AddressError("IPv4 addresses can't have leading zeroes.",t.replace(An.RE_ADDRESS,this.address4.parsedAddress.map(tl).join(".")));this.v4=!0,r[r.length-1]=this.address4.toGroup6(),t=r.join(":")}return t},e.prototype.parse=function(t){t=this.parse4in6(t);var r=t.match(U.RE_BAD_CHARACTERS);if(r)throw new It.AddressError(J.sprintf("Bad character%s detected in address: %s",r.length>1?"s":"",r.join("")),t.replace(U.RE_BAD_CHARACTERS,'<span class="parse-error">$1</span>'));var n=t.match(U.RE_BAD_ADDRESS);if(n)throw new It.AddressError(J.sprintf("Address failed regex: %s",n.join("")),t.replace(U.RE_BAD_ADDRESS,'<span class="parse-error">$1</span>'));var i=[],o=t.split("::");if(o.length===2){var u=o[0].split(":"),h=o[1].split(":");u.length===1&&u[0]===""&&(u=[]),h.length===1&&h[0]===""&&(h=[]);var d=this.groups-(u.length+h.length);if(!d)throw new It.AddressError("Error parsing groups");this.elidedGroups=d,this.elisionBegin=u.length,this.elisionEnd=u.length+this.elidedGroups,i=i.concat(u);for(var b=0;b<d;b++)i.push("0");i=i.concat(h)}else if(o.length===1)i=t.split(":"),this.elidedGroups=0;else throw new It.AddressError("Too many :: groups found");if(i=i.map(function(p){return J.sprintf("%x",parseInt(p,16))}),i.length!==this.groups)throw new It.AddressError("Incorrect number of groups found");return i},e.prototype.canonicalForm=function(){return this.parsedAddress.map(qo).join(":")},e.prototype.decimal=function(){return this.parsedAddress.map(function(t){return J.sprintf("%05d",parseInt(t,16))}).join(":")},e.prototype.bigInteger=function(){return new Y.BigInteger(this.parsedAddress.map(qo).join(""),16)},e.prototype.to4=function(){var t=this.binaryZeroPad().split("");return jt.Address4.fromHex(new Y.BigInteger(t.slice(96,128).join(""),2).toString(16))},e.prototype.to4in6=function(){var t=this.to4(),r=new e(this.parsedAddress.slice(0,6).join(":"),6),n=r.correctForm(),i="";return/:$/.test(n)||(i=":"),n+i+t.address},e.prototype.inspectTeredo=function(){var t=this.getBitsBase16(0,32),r=this.getBits(80,96).xor(new Y.BigInteger("ffff",16)).toString(),n=jt.Address4.fromHex(this.getBitsBase16(32,64)),i=jt.Address4.fromHex(this.getBits(96,128).xor(new Y.BigInteger("ffffffff",16)).toString(16)),o=this.getBits(64,80),u=this.getBitsBase2(64,80),h=o.testBit(15),d=o.testBit(14),b=o.testBit(8),p=o.testBit(9),g=new Y.BigInteger(u.slice(2,6)+u.slice(8,16),2).toString(10);return{prefix:J.sprintf("%s:%s",t.slice(0,4),t.slice(4,8)),server4:n.address,client4:i.address,flags:u,coneNat:h,microsoft:{reserved:d,universalLocal:p,groupIndividual:b,nonce:g},udpPort:r}},e.prototype.inspect6to4=function(){var t=this.getBitsBase16(0,16),r=jt.Address4.fromHex(this.getBitsBase16(16,48));return{prefix:J.sprintf("%s",t.slice(0,4)),gateway:r.address}},e.prototype.to6to4=function(){if(!this.is4())return null;var t=["2002",this.getBitsBase16(96,112),this.getBitsBase16(112,128),"","/16"].join(":");return new e(t)},e.prototype.toByteArray=function(){var t=this.bigInteger().toByteArray();return t.length===17&&t[0]===0?t.slice(1):t},e.prototype.toUnsignedByteArray=function(){return this.toByteArray().map(jo)},e.fromByteArray=function(t){return this.fromUnsignedByteArray(t.map(jo))},e.fromUnsignedByteArray=function(t){for(var r=new Y.BigInteger("256",10),n=new Y.BigInteger("0",10),i=new Y.BigInteger("1",10),o=t.length-1;o>=0;o--)n=n.add(i.multiply(new Y.BigInteger(t[o].toString(10),10))),i=i.multiply(r);return e.fromBigInteger(n)},e.prototype.isCanonical=function(){return this.addressMinusSuffix===this.canonicalForm()},e.prototype.isLinkLocal=function(){return this.getBitsBase2(0,64)==="1111111010000000000000000000000000000000000000000000000000000000"},e.prototype.isMulticast=function(){return this.getType()==="Multicast"},e.prototype.is4=function(){return this.v4},e.prototype.isTeredo=function(){return this.isInSubnet(new e("2001::/32"))},e.prototype.is6to4=function(){return this.isInSubnet(new e("2002::/16"))},e.prototype.isLoopback=function(){return this.getType()==="Loopback"},e.prototype.href=function(t){return t===void 0?t="":t=J.sprintf(":%s",t),J.sprintf("http://[%s]%s/",this.correctForm(),t)},e.prototype.link=function(t){t||(t={}),t.className===void 0&&(t.className=""),t.prefix===void 0&&(t.prefix="/#address="),t.v4===void 0&&(t.v4=!1);var r=this.correctForm;return t.v4&&(r=this.to4in6),t.className?J.sprintf('<a href="%1$s%2$s" class="%3$s">%2$s</a>',t.prefix,r.call(this),t.className):J.sprintf('<a href="%1$s%2$s">%2$s</a>',t.prefix,r.call(this))},e.prototype.group=function(){if(this.elidedGroups===0)return Bn.simpleGroup(this.address).join(":");wr(typeof this.elidedGroups=="number"),wr(typeof this.elisionBegin=="number");var t=[],r=this.address.split("::"),n=r[0],i=r[1];n.length?t.push.apply(t,Bn.simpleGroup(n)):t.push("");for(var o=["hover-group"],u=this.elisionBegin;u<this.elisionBegin+this.elidedGroups;u++)o.push(J.sprintf("group-%d",u));return t.push(J.sprintf('<span class="%s"></span>',o.join(" "))),i.length?t.push.apply(t,Bn.simpleGroup(i,this.elisionEnd)):t.push(""),this.is4()&&(wr(this.address4 instanceof jt.Address4),t.pop(),t.push(this.address4.groupForV6())),t.join(":")},e.prototype.regularExpressionString=function(t){t===void 0&&(t=!1);var r=[],n=new e(this.correctForm());if(n.elidedGroups===0)r.push(zt.simpleRegularExpression(n.parsedAddress));else if(n.elidedGroups===U.GROUPS)r.push(zt.possibleElisions(U.GROUPS));else{var i=n.address.split("::");i[0].length&&r.push(zt.simpleRegularExpression(i[0].split(":"))),wr(typeof n.elidedGroups=="number"),r.push(zt.possibleElisions(n.elidedGroups,i[0].length!==0,i[1].length!==0)),i[1].length&&r.push(zt.simpleRegularExpression(i[1].split(":"))),r=[r.join(":")]}return t||(r=Lo(Lo(["(?=^|",zt.ADDRESS_BOUNDARY,"|[^\\w\\:])("],r),[")(?=[^\\w\\:]|",zt.ADDRESS_BOUNDARY,"|$)"])),r.join("")},e.prototype.regularExpression=function(t){return t===void 0&&(t=!1),new RegExp(this.regularExpressionString(t),"i")},e}();at.Address6=rl});var Vo=x(W=>{"use strict";var nl=W&&W.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),il=W&&W.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),sl=W&&W.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&nl(t,e,r);return il(t,e),t};Object.defineProperty(W,"__esModule",{value:!0});W.v6=W.AddressError=W.Address6=W.Address4=void 0;var ol=En();Object.defineProperty(W,"Address4",{enumerable:!0,get:function(){return ol.Address4}});var al=zo();Object.defineProperty(W,"Address6",{enumerable:!0,get:function(){return al.Address6}});var ul=pr();Object.defineProperty(W,"AddressError",{enumerable:!0,get:function(){return ul.AddressError}});var cl=sl(xn());W.v6={helpers:cl}});var Wo=x((Kd,Tn)=>{"use strict";var Go=cr(),fl=Object.assign(Go("libp2p:ip-port-to-multiaddr"),{error:Go("libp2p:ip-port-to-multiaddr:err")}),{Multiaddr:In}=sr(),Cn=hn(),{Address4:pl,Address6:hl}=Vo(),mr={ERR_INVALID_IP_PARAMETER:"ERR_INVALID_IP_PARAMETER",ERR_INVALID_PORT_PARAMETER:"ERR_INVALID_PORT_PARAMETER",ERR_INVALID_IP:"ERR_INVALID_IP"};function ll(e,t){if(typeof e!="string")throw Cn(new Error(`invalid ip provided: ${e}`),mr.ERR_INVALID_IP_PARAMETER);if(typeof t=="string"&&(t=parseInt(t)),isNaN(t))throw Cn(new Error(`invalid port provided: ${t}`),mr.ERR_INVALID_PORT_PARAMETER);try{return new pl(e),new In(`/ip4/${e}/tcp/${t}`)}catch{}try{let r=new hl(e);return r.is4()?new In(`/ip4/${r.to4().correctForm()}/tcp/${t}`):new In(`/ip6/${e}/tcp/${t}`)}catch(r){let n=`invalid ip:port for creating a multiaddr: ${e}:${t}`;throw fl.error(n),Cn(new Error(n),mr.ERR_INVALID_IP)}}Tn.exports=ll;Tn.exports.Errors=mr});var Ho=x((t0,br)=>{"use strict";var _n=class extends Error{constructor(t){super(t);this.name="TimeoutError"}},Zo=(e,t,r,n)=>{let i,o=new Promise((u,h)=>{if(typeof t!="number"||t<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(t===Infinity){u(e);return}n={customTimers:{setTimeout,clearTimeout},...n},i=n.customTimers.setTimeout.call(void 0,()=>{if(typeof r=="function"){try{u(r())}catch(p){h(p)}return}let d=typeof r=="string"?r:`Promise timed out after ${t} milliseconds`,b=r instanceof Error?r:new _n(d);typeof e.cancel=="function"&&e.cancel(),h(b)},t),(async()=>{try{u(await e)}catch(d){h(d)}finally{n.customTimers.clearTimeout.call(void 0,i)}})()});return o.clear=()=>{clearTimeout(i),i=void 0},o};br.exports=Zo;br.exports.default=Zo;br.exports.TimeoutError=_n});var Ko=x((e0,Qo)=>{"use strict";var Yo=gn(),{CLOSE_TIMEOUT:dl}=wn(),Jo=Wo(),yl=Ho(),Xo=cr(),Rn=Xo("libp2p:websockets:socket");Rn.error=Xo("libp2p:websockets:socket:error");Qo.exports=(e,t={})=>{let r={async sink(n){t.signal&&(n=Yo(n,t.signal));try{await e.sink(async function*(){for await(let i of n)yield i instanceof Uint8Array?i:i.slice()}())}catch(i){i.type!=="aborted"&&Rn.error(i)}},source:t.signal?Yo(e.source,t.signal):e.source,conn:e,localAddr:t.localAddr||(e.localAddress&&e.localPort?Jo(e.localAddress,e.localPort):void 0),remoteAddr:t.remoteAddr||Jo(e.remoteAddress,e.remotePort),timeline:{open:Date.now()},async close(){let n=Date.now();try{await yl(e.close(),dl)}catch(i){let{host:o,port:u}=r.remoteAddr.toOptions();Rn("timeout closing stream to %s:%s after %dms, destroying it manually",o,u,Date.now()-n),e.destroy()}finally{r.timeline.close=Date.now()}}};return e.socket.once&&e.socket.once("close",()=>{r.timeline.close||(r.timeline.close=Date.now())}),r}});var fa=x((r0,ta)=>{"use strict";var{Multiaddr:Mn}=sr(),ea=B("dns4"),ra=B("dns6"),na=B("dnsaddr"),Vt=Z(B("dns"),na,ea,ra),De=Z(B("ip4"),B("ip6")),he=Z(C(De,B("tcp")),C(Vt,B("tcp"))),Fn=C(De,B("udp")),ia=C(Fn,B("utp")),sa=C(Fn,B("quic")),le=Z(C(he,B("ws")),C(Vt,B("ws"))),de=Z(C(he,B("wss")),C(Vt,B("wss"))),vr=Z(C(he,B("http")),C(De,B("http")),C(Vt,B("http"))),Er=Z(C(he,B("https")),C(De,B("https")),C(Vt,B("https"))),Dn=Z(C(le,B("p2p-webrtc-star"),B("p2p")),C(de,B("p2p-webrtc-star"),B("p2p")),C(le,B("p2p-webrtc-star")),C(de,B("p2p-webrtc-star"))),gl=Z(C(le,B("p2p-websocket-star"),B("p2p")),C(de,B("p2p-websocket-star"),B("p2p")),C(le,B("p2p-websocket-star")),C(de,B("p2p-websocket-star"))),Un=Z(C(vr,B("p2p-webrtc-direct"),B("p2p")),C(Er,B("p2p-webrtc-direct"),B("p2p")),C(vr,B("p2p-webrtc-direct")),C(Er,B("p2p-webrtc-direct"))),ye=Z(le,de,vr,Er,Dn,Un,he,ia,sa,Vt),wl=Z(C(ye,B("p2p-stardust"),B("p2p")),C(ye,B("p2p-stardust"))),Mt=Z(C(ye,B("p2p")),Dn,Un,B("p2p")),oa=Z(C(Mt,B("p2p-circuit"),Mt),C(Mt,B("p2p-circuit")),C(B("p2p-circuit"),Mt),C(ye,B("p2p-circuit")),C(B("p2p-circuit"),ye),B("p2p-circuit")),aa=()=>Z(C(oa,aa),oa),ge=aa(),ua=Z(C(ge,Mt,ge),C(Mt,ge),C(ge,Mt),ge,Mt);ta.exports={DNS:Vt,DNS4:ea,DNS6:ra,DNSADDR:na,IP:De,TCP:he,UDP:Fn,QUIC:sa,UTP:ia,HTTP:vr,HTTPS:Er,WebSockets:le,WebSocketsSecure:de,WebSocketStar:gl,WebRTCStar:Dn,WebRTCDirect:Un,Reliable:ye,Stardust:wl,Circuit:ge,P2P:ua,IPFS:ua};function ca(e){function t(r){if(!Mn.isMultiaddr(r))try{r=new Mn(r)}catch(i){return!1}let n=e(r.protoNames());return n===null?!1:n===!0||n===!1?n:n.length===0}return t}function C(...e){function t(r){if(r.length<e.length)return null;let n=r;return e.some(i=>(n=typeof i=="function"?i().partialMatch(r):i.partialMatch(r),Array.isArray(n)&&(r=n),n===null)),n}return{toString:function(){return"{ "+e.join(" ")+" }"},input:e,matches:ca(t),partialMatch:t}}function Z(...e){function t(n){let i=null;return e.some(o=>{let u=typeof o=="function"?o().partialMatch(n):o.partialMatch(n);return u?(i=u,!0):!1}),i}return{toString:function(){return"{ "+e.join(" ")+" }"},input:e,matches:ca(t),partialMatch:t}}function B(e){let t=e;function r(i){let o;if(typeof i=="string"||i instanceof Uint8Array)try{o=new Mn(i)}catch(h){return!1}else o=i;let u=o.protoNames();return u.length===1&&u[0]===t}function n(i){return i.length===0?null:i[0]===t?i.slice(1):null}return{toString:function(){return t},matches:r,partialMatch:n}}});var la=x((n0,pa)=>{"use strict";var Ft=fa(),{CODE_CIRCUIT:On,CODE_P2P:Pn,CODE_TCP:Nn,CODE_WS:ml,CODE_WSS:ha}=wn();pa.exports={all:e=>e.filter(t=>{if(t.protoCodes().includes(On))return!1;let r=t.decapsulateCode(Pn);return Ft.WebSockets.matches(r)||Ft.WebSocketsSecure.matches(r)}),dnsWss:e=>e.filter(t=>{if(t.protoCodes().includes(On))return!1;let r=t.decapsulateCode(Pn);return Ft.WebSocketsSecure.matches(r)&&Ft.DNS.matches(r.decapsulateCode(Nn).decapsulateCode(ha))}),dnsWsOrWss:e=>e.filter(t=>{if(t.protoCodes().includes(On))return!1;let r=t.decapsulateCode(Pn);return Ft.WebSockets.matches(r)?Ft.DNS.matches(r.decapsulateCode(Nn).decapsulateCode(ml)):Ft.WebSocketsSecure.matches(r)&&Ft.DNS.matches(r.decapsulateCode(Nn).decapsulateCode(ha))})}});var Bl=x((i0,da)=>{"use strict";var bl=Ui(),vl=Oi(),El=fo(),{AbortError:ya}=gn(),Sl=vo(),ga=cr(),Dt=ga("libp2p:websockets");Dt.error=ga("libp2p:websockets:error");var wa=Co(),xl=Ro(),Al=Ko(),ma=la(),ba=class{constructor({upgrader:t,filter:r}){if(!t)throw new Error("An upgrader must be provided. See https://github.com/libp2p/interface-transport#upgrader.");this._upgrader=t,this._filter=r}async dial(t,r={}){Dt("dialing %s",t);let n=await this._connect(t,r),i=Al(n,{remoteAddr:t,signal:r.signal});Dt("new outbound connection %s",i.remoteAddr);let o=await this._upgrader.upgradeOutbound(i);return Dt("outbound connection %s upgraded",i.remoteAddr),o}async _connect(t,r={}){if(r.signal&&r.signal.aborted)throw new ya;let n=t.toOptions();Dt("dialing %s:%s",n.host,n.port);let i=Sl(),o=b=>{let p=`connection error: ${b.message}`;Dt.error(p),i.reject(b)},u=bl(El(t),Object.assign({binary:!0},r));if(u.socket.on?u.socket.on("error",o):u.socket.onerror=o,!r.signal)return await Promise.race([u.connected(),i.promise]),Dt("connected %s",t),u;let h,d=new Promise((b,p)=>{if(h=()=>{p(new ya),setTimeout(()=>{u.close()})},r.signal.aborted)return h();r.signal.addEventListener("abort",h)});try{await Promise.race([d,i.promise,u.connected()])}finally{r.signal.removeEventListener("abort",h)}return Dt("connected %s",t),u}createListener(t={},r){return typeof t=="function"&&(r=t,t={}),xl({handler:r,upgrader:this._upgrader},t)}filter(t){return t=Array.isArray(t)?t:[t],this._filter?this._filter(t):wa.isBrowser||wa.isWebWorker?ma.dnsWss(t):ma.all(t)}};da.exports=vl(ba,{className:"WebSockets",symbolName:"@libp2p/js-libp2p-websockets/websockets"})});return Bl();})();
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
return Libp2pWebsockets}));
