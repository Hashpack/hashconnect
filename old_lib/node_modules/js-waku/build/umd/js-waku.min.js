!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.jswaku=t():e.jswaku=t()}(this,(function(){return(()=>{var e,t={63607:function(e,t,o){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,o,r){void 0===r&&(r=o),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[o]}})}:function(e,t,o,r){void 0===r&&(r=o),e[r]=t[o]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&r(t,e,o);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.proto=t.StoreCodec=t.WakuStore=t.PageDirection=t.RelayCodecs=t.WakuRelay=t.PushResponse=t.LightPushCodec=t.WakuLightPush=t.getPublicKey=t.generateSymmetricKey=t.generatePrivateKey=t.WakuMessage=t.DefaultPubSubTopic=t.Waku=t.utils=t.getBootstrapNodes=void 0;var n=o(56860);Object.defineProperty(t,"getBootstrapNodes",{enumerable:!0,get:function(){return n.getBootstrapNodes}}),t.utils=s(o(61721));var a=o(90607);Object.defineProperty(t,"Waku",{enumerable:!0,get:function(){return a.Waku}}),Object.defineProperty(t,"DefaultPubSubTopic",{enumerable:!0,get:function(){return a.DefaultPubSubTopic}});var u=o(92560);Object.defineProperty(t,"WakuMessage",{enumerable:!0,get:function(){return u.WakuMessage}});var c=o(48340);Object.defineProperty(t,"generatePrivateKey",{enumerable:!0,get:function(){return c.generatePrivateKey}}),Object.defineProperty(t,"generateSymmetricKey",{enumerable:!0,get:function(){return c.generateSymmetricKey}}),Object.defineProperty(t,"getPublicKey",{enumerable:!0,get:function(){return c.getPublicKey}});var l=o(17087);Object.defineProperty(t,"WakuLightPush",{enumerable:!0,get:function(){return l.WakuLightPush}}),Object.defineProperty(t,"LightPushCodec",{enumerable:!0,get:function(){return l.LightPushCodec}}),Object.defineProperty(t,"PushResponse",{enumerable:!0,get:function(){return l.PushResponse}});var d=o(22979);Object.defineProperty(t,"WakuRelay",{enumerable:!0,get:function(){return d.WakuRelay}}),Object.defineProperty(t,"RelayCodecs",{enumerable:!0,get:function(){return d.RelayCodecs}});var p=o(95960);Object.defineProperty(t,"PageDirection",{enumerable:!0,get:function(){return p.PageDirection}}),Object.defineProperty(t,"WakuStore",{enumerable:!0,get:function(){return p.WakuStore}}),Object.defineProperty(t,"StoreCodec",{enumerable:!0,get:function(){return p.StoreCodec}}),t.proto=s(o(15888))},56860:function(e,t,o){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getPseudoRandomSubset=t.getBootstrapNodes=void 0;const i=r(o(9669)),s=r(o(11227)),n=o(60663),a=s.default("waku:discovery");function u(e,t){return e.length<=t?e:n.shuffle(e).slice(0,t)}t.getBootstrapNodes=async function(e=["fleets","wakuv2.prod","waku-websocket"],t="https://fleets.status.im/",o=1){if(o<=0)return[];let r=(await i.default.get(t,{headers:{"Content-Type":"application/json"}})).data;for(const t of e){if(void 0===r[t])throw a(`Failed to retrieve bootstrap nodes: ${t} does not exist on `,r),`Failed to retrieve bootstrap nodes: ${t} does not exist on ${JSON.stringify(r)}`;r=r[t]}if(Array.isArray(r))return u(r,o);if("string"==typeof r)return[r];if("object"==typeof r)return r=Object.values(r),u(r,o);throw`Failed to retrieve bootstrap nodes: response format is not supported: ${JSON.stringify(r)}`},t.getPseudoRandomSubset=u},65187:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPeersForProtocol=t.selectRandomPeer=void 0,t.selectRandomPeer=function(e){if(0!==e.length)return e[Math.round(Math.random()*(e.length-1))]},t.getPeersForProtocol=function(e,t){return Array.from(e.peerStore.peers.values()).filter((e=>e.protocols.includes(t)))}},61721:(e,t,o)=>{"use strict";var r=o(48764).Buffer;function i(e){return"string"==typeof e?r.from(e.replace(/^0x/i,""),"hex"):r.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.equalByteArrays=t.bufToHex=t.hexToBuf=void 0,t.hexToBuf=i,t.bufToHex=function(e){return r.from(e).toString("hex")},t.equalByteArrays=function(e,t){let o,s;return o="string"==typeof e?i(e):r.from(e),s="string"==typeof t?i(t):r.from(t),0===o.compare(s)}},90607:function(e,t,o){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Waku=t.DefaultPubSubTopic=t.DefaultRelayKeepAliveValueSecs=t.DefaultPingKeepAliveValueSecs=void 0;const i=o(88895),s=r(o(11227)),n=r(o(51613)),a=r(o(63100)),u=r(o(1267)),c=r(o(29846)),l=r(o(70040)),d=r(o(75466)),p=o(46584),f=r(o(88785)),g=o(56860),h=o(65187),b=o(17087),y=o(92560),m=o(22979),v=o(99123),P=o(95960),S=c.default.prototype[Symbol.toStringTag];t.DefaultPingKeepAliveValueSecs=0,t.DefaultRelayKeepAliveValueSecs=300,t.DefaultPubSubTopic="/waku/2/default-waku/proto";const T=s.default("waku:waku");class R{constructor(e,o,r,i){var s;this.libp2p=o,this.relay=o.pubsub,this.store=r,this.lightPush=i,this.pingKeepAliveTimers={},this.relayKeepAliveTimers={};const n=e.pingKeepAlive||t.DefaultPingKeepAliveValueSecs,a=e.relayKeepAlive||t.DefaultRelayKeepAliveValueSecs;o.connectionManager.on("peer:connect",(e=>{this.startKeepAlive(e.remotePeer,n,a)})),o.connectionManager.on("peer:disconnect",(e=>{this.stopKeepAlive(e.remotePeer)})),null===(s=null==e?void 0:e.decryptionKeys)||void 0===s||s.forEach(this.addDecryptionKey)}static async create(e){var t,o,r;const s=Object.assign({},null==e?void 0:e.libp2p);if(s.config=Object.assign({transport:{[S]:{filter:l.default.all}}},null===(t=null==e?void 0:e.libp2p)||void 0===t?void 0:t.config),(null==e?void 0:e.pubSubTopic)&&(s.config.pubsub=Object.assign({pubSubTopic:e.pubSubTopic},s.config.pubsub)),s.modules=Object.assign({},null===(o=null==e?void 0:e.libp2p)||void 0===o?void 0:o.modules),s.modules=Object.assign({transport:[c.default]},null===(r=null==e?void 0:e.libp2p)||void 0===r?void 0:r.modules),s.modules=Object.assign(s.modules,{streamMuxer:[u.default],connEncryption:[new i.Noise(null==e?void 0:e.staticNoiseKey)],pubsub:m.WakuRelay}),null==e?void 0:e.bootstrap){let t;if(!0===e.bootstrap?t=g.getBootstrapNodes:Array.isArray(e.bootstrap)?t=()=>e.bootstrap:"function"==typeof e.bootstrap&&(t=e.bootstrap),void 0!==t)try{const e=await t();s.modules=Object.assign(s.modules,{peerDiscovery:[a.default]}),s.config.peerDiscovery={[a.default.tag]:{list:e,enabled:!0}}}catch(e){T("Failed to retrieve bootstrap nodes",e)}}const d=await n.default.create(s),p=new P.WakuStore(d,{pubSubTopic:null==e?void 0:e.pubSubTopic}),f=new b.WakuLightPush(d);return await d.start(),new R(e||{},d,p,f)}async dial(e){return this.libp2p.dialProtocol(e,[P.StoreCodec].concat(m.RelayCodecs))}addPeerToAddressBook(e,t){let o;o="string"==typeof e?f.default.createFromB58String(e):e;const r=t.map((e=>"string"==typeof e?p.multiaddr(e):e));this.libp2p.peerStore.addressBook.set(o,r)}async stop(){return this.libp2p.stop()}addDecryptionKey(e){this.relay.addDecryptionKey(e),this.store.addDecryptionKey(e)}deleteDecryptionKey(e){this.relay.deleteDecryptionKey(e),this.store.deleteDecryptionKey(e)}getLocalMultiaddrWithID(){const e=this.libp2p.multiaddrs.find((e=>e.toString().match(/127\.0\.0\.1/)));if(!e||""===e.toString())throw"Not listening on localhost";return e+"/p2p/"+this.libp2p.peerId.toB58String()}async waitForConnectedPeer(){const e=[[P.StoreCodec],[b.LightPushCodec],m.RelayCodecs];await Promise.all(e.map((e=>{const t=new Array;return e.forEach((e=>{h.getPeersForProtocol(this.libp2p,e).forEach((e=>t.push(e)))})),t.length>0?Promise.resolve():new Promise((t=>{this.libp2p.peerStore.on("change:protocols",(({protocols:o})=>{e.forEach((e=>{o.includes(e)&&(T("Resolving for",e,o),t())}))}))}))})))}startKeepAlive(e,t,o){this.stopKeepAlive(e);const r=e.toB58String();0!==t&&(this.pingKeepAliveTimers[r]=setInterval((()=>{d.default(this.libp2p,e)}),1e3*t)),0!==o&&(this.relayKeepAliveTimers[r]=setInterval((()=>{y.WakuMessage.fromBytes(new Uint8Array,v.RelayPingContentTopic).then((e=>this.relay.send(e)))}),1e3*o))}stopKeepAlive(e){const t=e.toB58String();this.pingKeepAliveTimers[t]&&(clearInterval(this.pingKeepAliveTimers[t]),delete this.pingKeepAliveTimers[t]),this.relayKeepAliveTimers[t]&&(clearInterval(this.relayKeepAliveTimers[t]),delete this.relayKeepAliveTimers[t])}}t.Waku=R},17087:function(e,t,o){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WakuLightPush=t.PushResponse=t.LightPushCodec=void 0;const i=r(o(88342)),s=r(o(48963)),n=r(o(60618)),a=o(67405);Object.defineProperty(t,"PushResponse",{enumerable:!0,get:function(){return a.PushResponse}});const u=o(65187),c=o(90607),l=o(67140);t.LightPushCodec="/vac/waku/lightpush/2.0.0-beta1",t.WakuLightPush=class{constructor(e,t){this.libp2p=e,(null==t?void 0:t.pubSubTopic)?this.pubSubTopic=t.pubSubTopic:this.pubSubTopic=c.DefaultPubSubTopic}async push(e,o){let r;if(null==o?void 0:o.peerId){if(r=this.libp2p.peerStore.get(o.peerId),!r)throw"Peer is unknown"}else r=this.randomPeer;if(!r)throw"No peer available";if(!r.protocols.includes(t.LightPushCodec))throw"Peer does not register waku light push protocol";const a=this.libp2p.connectionManager.get(r.id);if(!a)throw"Failed to get a connection to the peer";const{stream:u}=await a.newStream(t.LightPushCodec);try{const t=(null==o?void 0:o.pubSubTopic)?o.pubSubTopic:this.pubSubTopic,r=l.PushRPC.createRequest(e,t),a=await n.default([r.encode()],s.default.encode(),u,s.default.decode(),i.default);try{return l.PushRPC.decode(a.slice()).response||(console.log("No response in PushRPC"),null)}catch(e){console.log("Failed to decode push reply",e)}}catch(e){console.log("Failed to send waku light push request",e)}return null}get peers(){return u.getPeersForProtocol(this.libp2p,t.LightPushCodec)}get randomPeer(){return u.selectRandomPeer(this.peers)}}},67140:function(e,t,o){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,o,r){void 0===r&&(r=o),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[o]}})}:function(e,t,o,r){void 0===r&&(r=o),e[r]=t[o]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&r(t,e,o);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.PushRPC=void 0;const n=o(62100),a=o(21614),u=s(o(67405));class c{constructor(e){this.proto=e}static createRequest(e,t){return new c({requestId:a.v4(),request:{message:e.proto,pubSubTopic:t},response:void 0})}static decode(e){const t=u.PushRPC.decode(n.Reader.create(e));return new c(t)}encode(){return u.PushRPC.encode(this.proto).finish()}get query(){return this.proto.request}get response(){return this.proto.response}}t.PushRPC=c},92560:function(e,t,o){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,o,r){void 0===r&&(r=o),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[o]}})}:function(e,t,o,r){void 0===r&&(r=o),e[r]=t[o]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&r(t,e,o);return i(t,e),t},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WakuMessage=void 0;const a=o(48764),u=n(o(11227)),c=o(62100),l=s(o(66561)),d=s(o(48340)),p=u.default("waku:message");class f{constructor(e,t,o){this.proto=e,this._signaturePublicKey=t,this._signature=o}static async fromUtf8String(e,t,o){const r=a.Buffer.from(e,"utf-8");return f.fromBytes(r,t,o)}static async fromBytes(e,t,o){const{timestamp:r,encPublicKey:i,symKey:s,sigPrivKey:n}=Object.assign({timestamp:new Date},o||{});let a,u=e,c=0;if(i&&s)throw"Pass either `encPublicKey` or `symKey`, not both.";if(i){const e=d.clearEncode(u,n);u=await d.encryptAsymmetric(e.payload,i),a=e.sig,c=1}else if(s){const e=d.clearEncode(u,n);u=await d.encryptSymmetric(e.payload,s),a=e.sig,c=1}return new f({payload:u,timestamp:r.valueOf()/1e3,version:c,contentTopic:t},null==a?void 0:a.publicKey,null==a?void 0:a.signature)}static async decode(e,t){const o=l.WakuMessage.decode(c.Reader.create(e));return f.decodeProto(o,t)}static async decodeProto(e,t){var o,r;if(void 0===e.payload)return void p("Payload is undefined");const i=e.payload;let s,n;if(1===e.version&&e.payload){if(void 0===t)return void p("Payload is encrypted but no private keys have been provided.");const a=e=>!!e,u=(await Promise.all(t.map((async e=>{try{return await d.decryptSymmetric(i,e)}catch(t){p("Failed to decrypt message using symmetric encryption",t);try{return await d.decryptAsymmetric(i,e)}catch(e){return void p("Failed to decrypt message using asymmetric encryption",e)}}})))).filter(a);if(0===u.length)return void p("Failed to decrypt payload.");const c=u[0],l=await d.clearDecode(c);if(!l)return void p("Failed to decode payload.");Object.assign(e,{payload:l.payload}),s=null===(o=l.sig)||void 0===o?void 0:o.publicKey,n=null===(r=l.sig)||void 0===r?void 0:r.signature}return new f(e,s,n)}encode(){return l.WakuMessage.encode(this.proto).finish()}get payloadAsUtf8(){return this.proto.payload?a.Buffer.from(this.proto.payload).toString("utf-8"):""}get payload(){return this.proto.payload}get contentTopic(){return this.proto.contentTopic}get version(){return this.proto.version}get timestamp(){if(this.proto.timestamp)return new Date(1e3*this.proto.timestamp)}get signaturePublicKey(){return this._signaturePublicKey}get signature(){return this._signature}}t.WakuMessage=f},48615:(e,t,o)=>{"use strict";var r=o(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.generateIv=t.decrypt=t.encrypt=void 0;const i=o(16104),s=window.crypto||window.msCrypto,n=s.subtle||s.webkitSubtle,a={name:"AES-GCM",length:128};if(void 0===n)throw new Error("Failed to load Subtle CryptoAPI");t.encrypt=async function(e,t,o){return n.importKey("raw",t,a,!1,["encrypt"]).then((t=>n.encrypt(Object.assign({iv:e},a),t,o))).then(r.from)},t.decrypt=async function(e,t,o){return n.importKey("raw",t,a,!1,["decrypt"]).then((t=>n.decrypt(Object.assign({iv:e},a),t,o))).then(r.from)},t.generateIv=function(){const e=new Uint8Array(i.IvSize);return s.getRandomValues(e),e}},16104:function(e,t,o){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,o,r){void 0===r&&(r=o),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[o]}})}:function(e,t,o,r){void 0===r&&(r=o),e[r]=t[o]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&r(t,e,o);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.symmetric=t.TagSize=t.IvSize=t.SymmetricKeySize=void 0,t.SymmetricKeySize=32,t.IvSize=12,t.TagSize=16,t.symmetric={},Promise.resolve().then((()=>s(o(48615)))).then((e=>{t.symmetric=e})).catch((e=>{Promise.resolve().then((()=>s(o(70194)))).then((e=>{t.symmetric=e})).catch((t=>{throw`Could not load any symmetric crypto modules: ${e}, ${t}`}))}))},70194:(e,t,o)=>{"use strict";var r=o(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.generateIv=t.decrypt=t.encrypt=void 0;const i=o(55835),s=o(16104),n="aes-256-gcm";t.encrypt=async function(e,t,o){const s=i.createCipheriv(n,t,e),a=s.update(o),u=s.final(),c=s.getAuthTag();return r.concat([a,u,c])},t.decrypt=async function(e,t,o){const a=o.length-s.TagSize,u=o.slice(0,a),c=o.slice(a),l=i.createDecipheriv(n,t,e);l.setAuthTag(c);const d=l.update(u),p=l.final();return r.concat([d,p])},t.generateIv=function(){return i.randomBytes(s.IvSize)}},48340:function(e,t,o){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,o,r){void 0===r&&(r=o),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[o]}})}:function(e,t,o,r){void 0===r&&(r=o),e[r]=t[o]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&r(t,e,o);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getPublicKey=t.generateSymmetricKey=t.generatePrivateKey=t.decryptSymmetric=t.encryptSymmetric=t.decryptAsymmetric=t.encryptAsymmetric=t.clearDecode=t.clearEncode=t.PrivateKeySize=void 0;const n=o(48764),a=s(o(55835)),u=s(o(63611)),c=o(91094),l=s(o(17221)),d=o(61721),p=o(16104);function f(e){return l.publicKeyCreate(e,!1)}function g(e){let t=1;for(let o=e.length;o>=256;o/=256)t++;return t}function h(e){if("undefined"!=typeof window&&window&&window.crypto){const t=new Uint8Array(e);return window.crypto.getRandomValues(t),t}return a.randomBytes(e)}t.PrivateKeySize=32,t.clearEncode=function(e,t){let o=n.Buffer.from([0]);o=function(e,t){const o=g(t);let r=n.Buffer.alloc(4);return r.writeUInt32LE(t.length,0),r=r.slice(0,o),(e=n.Buffer.concat([e,r]))[0]|=o,e}(o,e),o=n.Buffer.concat([o,n.Buffer.from(e)]);let r=1+g(e)+e.length;t&&(r+=65);const i=256-r%256,s=n.Buffer.from(h(i));if(u=i,(a=s).length!==u||u>3&&n.Buffer.from(a).equals(n.Buffer.alloc(a.length)))throw new Error("failed to generate random padding of size "+i);var a,u;let p;if(o=n.Buffer.concat([o,s]),t){o[0]|=4;const e=c.keccak256(o),r=l.ecdsaSign(d.hexToBuf(e),t);o=n.Buffer.concat([o,r.signature,n.Buffer.from([r.recid])]),p={signature:n.Buffer.from(r.signature),publicKey:f(t)}}return{payload:o,sig:p}},t.clearDecode=function(e){const t=n.Buffer.from(e);let o,r=1;const i=3&t.readUIntLE(0,1);if(0===i)return;const s=t.readUIntLE(r,i);r+=i;const a=t.slice(r,r+s),u=4==(4&t.readUIntLE(0,1));if(u){const e=function(e){return e.slice(e.length-65,e.length)}(t),r=function(e,t){return t?c.keccak256(e.slice(0,e.length-65)):c.keccak256(e)}(t,u),i=function(e,t){const o=t.slice(64).readIntBE(0,1);return l.ecdsaRecover(t.slice(0,64),o,d.hexToBuf(e),!1)}(r,e);o={signature:e,publicKey:i}}return{payload:a,sig:o}},t.encryptAsymmetric=async function(e,t){return u.encrypt(d.hexToBuf(t),n.Buffer.from(e))},t.decryptAsymmetric=async function(e,t){return u.decrypt(n.Buffer.from(t),n.Buffer.from(e))},t.encryptSymmetric=async function(e,t){const o=p.symmetric.generateIv(),r=await p.symmetric.encrypt(o,d.hexToBuf(t),n.Buffer.from(e));return n.Buffer.concat([r,n.Buffer.from(o)])},t.decryptSymmetric=async function(e,t){const o=n.Buffer.from(e),r=o.length-p.IvSize,i=o.slice(0,r),s=o.slice(r);return p.symmetric.decrypt(s,d.hexToBuf(t),i)},t.generatePrivateKey=function(){return h(t.PrivateKeySize)},t.generateSymmetricKey=function(){return h(p.SymmetricKeySize)},t.getPublicKey=f},99123:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RelayMaxIHaveLength=t.RelayOpportunisticGraftPeers=t.RelayOpportunisticGraftTicks=t.RelayFanoutTTL=t.RelayPruneBackoff=t.RelayPrunePeers=t.RelayHeartbeatInterval=t.RelayHeartbeatInitialDelay=t.RelayGossipFactor=t.RelayPingContentTopic=t.RelayCodecs=t.minute=t.second=void 0,t.second=1e3,t.minute=60*t.second,t.RelayCodecs=["/vac/waku/relay/2.0.0-beta2","/vac/waku/relay/2.0.0"],t.RelayPingContentTopic="/relay-ping/1/ping/null",t.RelayGossipFactor=.25,t.RelayHeartbeatInitialDelay=100,t.RelayHeartbeatInterval=t.second,t.RelayPrunePeers=16,t.RelayPruneBackoff=t.minute,t.RelayFanoutTTL=t.minute,t.RelayOpportunisticGraftTicks=60,t.RelayOpportunisticGraftPeers=2,t.RelayMaxIHaveLength=5e3},26624:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRelayPeers=void 0;const r=o(60663),i=o(22979);t.getRelayPeers=function(e,t,o,s=(()=>!0)){const n=e.topics.get(t);if(!n)return new Set;let a=[];return n.forEach((t=>{const o=e.peers.get(t);o&&i.RelayCodecs.includes(o.protocol)&&s(t)&&a.push(t)})),a=r.shuffle(a),o>0&&a.length>o&&(a=a.slice(0,o)),new Set(a)}},22979:function(e,t,o){"use strict";var r=o(48764).Buffer,i=this&&this.__createBinding||(Object.create?function(e,t,o,r){void 0===r&&(r=o),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[o]}})}:function(e,t,o,r){void 0===r&&(r=o),e[r]=t[o]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&i(t,e,o);return s(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WakuRelay=t.RelayCodecs=void 0;const u=a(o(11227)),c=a(o(95391)),l=o(60663),d=o(32185),p=a(o(88785)),f=o(61721),g=o(90607),h=o(92560),b=n(o(99123)),y=o(99123);Object.defineProperty(t,"RelayCodecs",{enumerable:!0,get:function(){return y.RelayCodecs}});const m=o(26624),v=o(65714),P=u.default("waku:relay");class S extends c.default{constructor(e,t){super(e,Object.assign(t,{globalSignaturePolicy:d.SignaturePolicy.StrictNoSign})),this.heartbeat=new v.RelayHeartbeat(this),this.observers={},this.decryptionKeys=new Set;const o=b.RelayCodecs;Object.assign(this,{multicodecs:o}),this.pubSubTopic=(null==t?void 0:t.pubSubTopic)||g.DefaultPubSubTopic}start(){super.start(),this.subscribe(this.pubSubTopic)}async send(e){const t=e.encode();await super.publish(this.pubSubTopic,r.from(t))}addDecryptionKey(e){this.decryptionKeys.add(f.hexToBuf(e))}deleteDecryptionKey(e){this.decryptionKeys.delete(f.hexToBuf(e))}addObserver(e,t=[]){0===t.length?(this.observers[""]||(this.observers[""]=new Set),this.observers[""].add(e)):t.forEach((t=>{this.observers[t]||(this.observers[t]=new Set),this.observers[t].add(e)}))}deleteObserver(e,t=[]){0===t.length?this.observers[""]&&this.observers[""].delete(e):t.forEach((t=>{this.observers[t]&&this.observers[t].delete(e)}))}getPeers(){return m.getRelayPeers(this,this.pubSubTopic,this._options.D,(e=>this.score.score(e)>=this._options.scoreThresholds.publishThreshold))}subscribe(e){this.on(e,(t=>{P(`Message received on ${e}`),h.WakuMessage.decode(t.data,Array.from(this.decryptionKeys)).then((e=>{e?(this.observers[""]&&this.observers[""].forEach((t=>{t(e)})),e.contentTopic&&this.observers[e.contentTopic]&&this.observers[e.contentTopic].forEach((t=>{t(e)}))):P("Failed to decode Waku Message")})).catch((e=>{P("Failed to decode Waku Message",e)}))})),super.subscribe(e)}join(e){var t;if(!this.started)throw new Error("WakuRelayPubSub has not started");const o=this.fanout.get(e);if(o)o.forEach((e=>{this.score.score(e)<0&&o.delete(e)})),o.size<this._options.D&&m.getRelayPeers(this,e,this._options.D-o.size,(e=>!o.has(e)&&!this.direct.has(e)&&this.score.score(e)>=0)).forEach((e=>o.add(e))),this.mesh.set(e,o),this.fanout.delete(e),this.lastpub.delete(e);else{const t=m.getRelayPeers(this,e,this._options.D,(e=>!this.direct.has(e)&&this.score.score(e)>=0));this.mesh.set(e,t)}null===(t=this.mesh.get(e))||void 0===t||t.forEach((t=>{this.log("JOIN: Add mesh link to %s in %s",t,e),this._sendGraft(t,e)}))}async _publish(e){e.receivedFrom!==this.peerId.toB58String()&&(this.score.deliverMessage(e),this.gossipTracer.deliverMessage(e));const t=await this.getMsgId(e),o=l.messageIdToString(t);this.seenCache.put(o),this.messageCache.put(e);const r=new Set;e.topicIDs.forEach((e=>{if(!this.topics.get(e))return;this.direct.forEach((e=>{r.add(e)}));let t=this.mesh.get(e);if(!t||!t.size){if(t=this.fanout.get(e),!t){const o=m.getRelayPeers(this,e,this._options.D,(e=>this.score.score(e)>=this._options.scoreThresholds.publishThreshold));o.size>0?(t=o,this.fanout.set(e,o)):t=new Set}this.lastpub.set(e,this._now())}null==t||t.forEach((e=>{r.add(e)}))}));const i=l.createGossipRpc([c.default.utils.normalizeOutRpcMessage(e)]);r.forEach((t=>{t!==e.from&&this._sendRpc(t,i)}))}_emitGossip(e,t){const o=this.messageCache.getGossipIDs(e);if(!o.length)return;l.shuffle(o),o.length>b.RelayMaxIHaveLength&&this.log("too many messages for gossip; will truncate IHAVE list (%d messages)",o.length);const r=[],i=this.topics.get(e);if(!i)return;i.forEach((e=>{const o=this.peers.get(e);o&&!t.has(e)&&!this.direct.has(e)&&b.RelayCodecs.includes(o.protocol)&&this.score.score(e)>=this._options.scoreThresholds.gossipThreshold&&r.push(e)}));let s=this._options.Dlazy;const n=b.RelayGossipFactor*r.length;n>s&&(s=n),s>r.length?s=r.length:l.shuffle(r),r.slice(0,s).forEach((t=>{let r=o;o.length>b.RelayMaxIHaveLength&&(r=l.shuffle(r.slice()).slice(0,b.RelayMaxIHaveLength)),this._pushGossip(t,{topicID:e,messageIDs:r})}))}_makePrune(e,t,o){const r=b.RelayPruneBackoff/1e3,i=[];return o&&m.getRelayPeers(this,t,b.RelayPrunePeers,(t=>t!==e&&this.score.score(t)>=0)).forEach((e=>{const t=p.default.createFromB58String(e);i.push({peerID:t.toBytes(),signedPeerRecord:this._libp2p.peerStore.addressBook.getRawEnvelope(t)})})),{topicID:t,peers:i,backoff:r}}}t.WakuRelay=S},65714:function(e,t,o){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,o,r){void 0===r&&(r=o),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[o]}})}:function(e,t,o,r){void 0===r&&(r=o),e[r]=t[o]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&r(t,e,o);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.RelayHeartbeat=void 0;const n=o(91259),a=o(60663),u=s(o(99123)),c=o(26624);class l extends n.Heartbeat{constructor(e){super(e)}start(){if(this._heartbeatTimer)return;const e=this._heartbeat.bind(this),t=setTimeout((()=>{var t;e(),null===(t=this._heartbeatTimer)||void 0===t||t.runPeriodically(e,u.RelayHeartbeatInterval)}),u.RelayHeartbeatInitialDelay);this._heartbeatTimer={_intervalId:void 0,runPeriodically:(e,t)=>{this._heartbeatTimer._intervalId=setInterval(e,t)},cancel:()=>{var e;clearTimeout(t),clearInterval(null===(e=this._heartbeatTimer)||void 0===e?void 0:e._intervalId)}}}stop(){this._heartbeatTimer&&(this._heartbeatTimer.cancel(),this._heartbeatTimer=null)}_heartbeat(){const{D:e,Dlo:t,Dhi:o,Dscore:r,Dout:i}=this.gossipsub._options;this.gossipsub.heartbeatTicks++;const s=new Map,n=e=>{let t=s.get(e);return void 0===t&&(t=this.gossipsub.score.score(e),s.set(e,t)),t},l=new Map,d=new Map,p=new Map;this.gossipsub._clearBackoff(),this.gossipsub.peerhave.clear(),this.gossipsub.iasked.clear(),this.gossipsub._applyIwantPenalties(),this.gossipsub._directConnect(),this.gossipsub.mesh.forEach(((s,f)=>{const g=e=>{this.gossipsub.log("HEARTBEAT: Remove mesh link to %s in %s",e,f),this.gossipsub.score.prune(e,f),this.gossipsub._addBackoff(e,f),s.delete(e);const t=d.get(e);t?t.push(f):d.set(e,[f])},h=e=>{this.gossipsub.log("HEARTBEAT: Add mesh link to %s in %s",e,f),this.gossipsub.score.graft(e,f),s.add(e);const t=l.get(e);t?t.push(f):l.set(e,[f])};if(s.forEach((e=>{const t=n(e);t<0&&(this.gossipsub.log("HEARTBEAT: Prune peer %s with negative score: score=%d, topic=%s",e,t,f),g(e),p.set(e,!0))})),s.size<t){const t=this.gossipsub.backoff.get(f),o=e-s.size;c.getRelayPeers(this.gossipsub,f,o,(e=>!s.has(e)&&!this.gossipsub.direct.has(e)&&(!t||!t.has(e))&&n(e)>=0)).forEach(h)}if(s.size>o){let t=Array.from(s);t.sort(((e,t)=>n(t)-n(e))),t=t.slice(0,r).concat(a.shuffle(t.slice(r)));let o=0;if(t.slice(0,e).forEach((e=>{this.gossipsub.outbound.get(e)&&o++})),o<i){const r=e=>{const o=t[e];for(let o=e;o>0;o--)t[o]=t[o-1];t[0]=o};if(o>0){let i=o;for(let o=1;o<e&&i>0;o++)this.gossipsub.outbound.get(t[o])&&(r(o),i--)}let i=e-o;for(let o=e;o<t.length&&i>0;o++)this.gossipsub.outbound.get(t[o])&&(r(o),i--)}t.slice(e).forEach(g)}if(s.size>=t){let e=0;if(s.forEach((t=>{this.gossipsub.outbound.get(t)&&e++})),e<i){const t=i-e,o=this.gossipsub.backoff.get(f);c.getRelayPeers(this.gossipsub,f,t,(e=>!s.has(e)&&!this.gossipsub.direct.has(e)&&(!o||!o.has(e))&&n(e)>=0)).forEach(h)}}if(this.gossipsub.heartbeatTicks%u.RelayOpportunisticGraftTicks==0&&s.size>1){const e=Array.from(s).sort(((e,t)=>n(e)-n(t))),t=Math.floor(s.size/2),o=n(e[t]);if(o<this.gossipsub._options.scoreThresholds.opportunisticGraftThreshold){const e=this.gossipsub.backoff.get(f);c.getRelayPeers(this.gossipsub,f,u.RelayOpportunisticGraftPeers,(t=>s.has(t)&&!this.gossipsub.direct.has(t)&&(!e||!e.has(t))&&n(t)>o)).forEach((e=>{this.gossipsub.log("HEARTBEAT: Opportunistically graft peer %s on topic %s",e,f),h(e)}))}}this.gossipsub._emitGossip(f,s)}));const f=this.gossipsub._now();this.gossipsub.lastpub.forEach(((e,t)=>{e+u.RelayFanoutTTL<f&&(this.gossipsub.fanout.delete(t),this.gossipsub.lastpub.delete(t))})),this.gossipsub.fanout.forEach(((t,o)=>{const r=this.gossipsub.topics.get(o);if(t.forEach((e=>{(!(null==r?void 0:r.has(e))||n(e)<this.gossipsub._options.scoreThresholds.publishThreshold)&&t.delete(e)})),t.size<e){const r=e-t.size;c.getRelayPeers(this.gossipsub,o,r,(e=>!t.has(e)&&!this.gossipsub.direct.has(e)&&n(e)>=this.gossipsub._options.scoreThresholds.publishThreshold)).forEach((e=>{t.add(e)}))}this.gossipsub._emitGossip(o,t)})),this.gossipsub._sendGraftPrune(l,d,p),this.gossipsub._flush(),this.gossipsub.messageCache.shift(),this.gossipsub.emit("gossipsub:heartbeat")}}t.RelayHeartbeat=l},77545:function(e,t,o){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,o,r){void 0===r&&(r=o),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[o]}})}:function(e,t,o,r){void 0===r&&(r=o),e[r]=t[o]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&r(t,e,o);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.HistoryRPC=t.PageDirection=void 0;const n=o(62100),a=o(21614),u=s(o(25336));var c;!function(e){e.BACKWARD="backward",e.FORWARD="forward"}(c=t.PageDirection||(t.PageDirection={}));class l{constructor(e){this.proto=e}static createQuery(e){const t=function(e){switch(e){case c.BACKWARD:return u.PagingInfo_Direction.DIRECTION_BACKWARD_UNSPECIFIED;case c.FORWARD:return u.PagingInfo_Direction.DIRECTION_FORWARD;default:return u.PagingInfo_Direction.DIRECTION_BACKWARD_UNSPECIFIED}}(e.pageDirection),o={pageSize:e.pageSize,cursor:e.cursor,direction:t},r=e.contentTopics.map((e=>({contentTopic:e})));return new l({requestId:a.v4(),query:{pubSubTopic:e.pubSubTopic,contentFilters:r,pagingInfo:o,startTime:e.startTime,endTime:e.endTime},response:void 0})}static decode(e){const t=u.HistoryRPC.decode(n.Reader.create(e));return new l(t)}encode(){return u.HistoryRPC.encode(this.proto).finish()}get query(){return this.proto.query}get response(){return this.proto.response}}t.HistoryRPC=l},95960:function(e,t,o){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WakuStore=t.PageDirection=t.DefaultPageSize=t.StoreCodec=void 0;const i=r(o(11227)),s=r(o(88342)),n=r(o(48963)),a=r(o(60618)),u=o(25336),c=o(65187),l=o(61721),d=o(90607),p=o(92560),f=o(77545);Object.defineProperty(t,"PageDirection",{enumerable:!0,get:function(){return f.PageDirection}});const g=i.default("waku:store");t.StoreCodec="/vac/waku/store/2.0.0-beta3",t.DefaultPageSize=10,t.WakuStore=class{constructor(e,t){this.libp2p=e,(null==t?void 0:t.pubSubTopic)?this.pubSubTopic=t.pubSubTopic:this.pubSubTopic=d.DefaultPubSubTopic,this.decryptionKeys=new Set}async queryHistory(e,o){var r,i,c,d;let h,b;(null==o?void 0:o.timeFilter)&&(h=o.timeFilter.startTime.getTime()/1e3,b=o.timeFilter.endTime.getTime()/1e3);const y=Object.assign({pubSubTopic:this.pubSubTopic,pageDirection:f.PageDirection.BACKWARD,pageSize:t.DefaultPageSize},o,{startTime:h,endTime:b},{contentTopics:e});let m;if(g("Querying history with the following options",o),y.peerId){if(m=this.libp2p.peerStore.get(y.peerId),!m)throw`Failed to retrieve connection details for provided peer in peer store: ${y.peerId.toB58String()}`}else if(m=this.randomPeer,!m)throw"Failed to find known peer that registers waku store protocol";if(!m.protocols.includes(t.StoreCodec))throw`Peer does not register waku store protocol: ${m.id.toB58String()}`;const v=this.libp2p.connectionManager.get(m.id);if(!v)throw"Failed to get a connection to the peer";const P=Array.from(this.decryptionKeys.values());y.decryptionKeys&&y.decryptionKeys.forEach((e=>{P.push(l.hexToBuf(e))}));const S=[];let T;for(;;){const{stream:e}=await v.newStream(t.StoreCodec),o=Object.assign(y,{cursor:T}),l=f.HistoryRPC.createQuery(o);g("Querying store peer",v.remoteAddr.toString());const h=await a.default([l.encode()],n.default.encode(),e,n.default.decode(),s.default),b=f.HistoryRPC.decode(h.slice()).response;if(!b)throw"History response misses response field";if(b.error&&b.error===u.HistoryResponse_Error.ERROR_INVALID_CURSOR)throw"History response contains an Error: INVALID CURSOR";if(!b.messages||!b.messages.length)return console.log("No messages present in HistoryRPC response"),S;g(`${b.messages.length} messages retrieved for pubsub topic ${y.pubSubTopic}`);const m=[];await Promise.all(b.messages.map((async e=>{const t=await p.WakuMessage.decodeProto(e,P);t&&(S.push(t),m.push(t))})));let R=!1;y.callback&&(R=Boolean(y.callback(m)));const O=null===(r=b.pagingInfo)||void 0===r?void 0:r.pageSize,_=null===(c=null===(i=l.query)||void 0===i?void 0:i.pagingInfo)||void 0===c?void 0:c.pageSize;if(R||O&&_&&O<_)return S;if(T=null===(d=b.pagingInfo)||void 0===d?void 0:d.cursor,void 0===T)return console.log("No cursor returned by peer."),S}}addDecryptionKey(e){this.decryptionKeys.add(l.hexToBuf(e))}deleteDecryptionKey(e){this.decryptionKeys.delete(l.hexToBuf(e))}get peers(){return c.getPeersForProtocol(this.libp2p,t.StoreCodec)}get randomPeer(){return c.selectRandomPeer(this.peers)}}},15888:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HistoryRPC=t.HistoryResponse=t.HistoryQuery=t.ContentFilter=t.PagingInfo_Direction=t.PagingInfo=t.Index=t.WakuMessage=void 0;var r=o(66561);Object.defineProperty(t,"WakuMessage",{enumerable:!0,get:function(){return r.WakuMessage}});var i=o(25336);Object.defineProperty(t,"Index",{enumerable:!0,get:function(){return i.Index}}),Object.defineProperty(t,"PagingInfo",{enumerable:!0,get:function(){return i.PagingInfo}}),Object.defineProperty(t,"PagingInfo_Direction",{enumerable:!0,get:function(){return i.PagingInfo_Direction}}),Object.defineProperty(t,"ContentFilter",{enumerable:!0,get:function(){return i.ContentFilter}}),Object.defineProperty(t,"HistoryQuery",{enumerable:!0,get:function(){return i.HistoryQuery}}),Object.defineProperty(t,"HistoryResponse",{enumerable:!0,get:function(){return i.HistoryResponse}}),Object.defineProperty(t,"HistoryRPC",{enumerable:!0,get:function(){return i.HistoryRPC}})},67405:function(e,t,o){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PushRPC=t.PushResponse=t.PushRequest=t.protobufPackage=void 0;const i=r(o(43720)),s=r(o(62100)),n=o(66561);t.protobufPackage="waku.v2";const a={pubSubTopic:""};t.PushRequest={encode:(e,t=s.default.Writer.create())=>(""!==e.pubSubTopic&&t.uint32(10).string(e.pubSubTopic),void 0!==e.message&&n.WakuMessage.encode(e.message,t.uint32(18).fork()).ldelim(),t),decode(e,t){const o=e instanceof s.default.Reader?e:new s.default.Reader(e);let r=void 0===t?o.len:o.pos+t;const i=Object.assign({},a);for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:i.pubSubTopic=o.string();break;case 2:i.message=n.WakuMessage.decode(o,o.uint32());break;default:o.skipType(7&e)}}return i},fromJSON(e){const t=Object.assign({},a);return void 0!==e.pubSubTopic&&null!==e.pubSubTopic?t.pubSubTopic=String(e.pubSubTopic):t.pubSubTopic="",void 0!==e.message&&null!==e.message?t.message=n.WakuMessage.fromJSON(e.message):t.message=void 0,t},toJSON(e){const t={};return void 0!==e.pubSubTopic&&(t.pubSubTopic=e.pubSubTopic),void 0!==e.message&&(t.message=e.message?n.WakuMessage.toJSON(e.message):void 0),t},fromPartial(e){const t=Object.assign({},a);return void 0!==e.pubSubTopic&&null!==e.pubSubTopic?t.pubSubTopic=e.pubSubTopic:t.pubSubTopic="",void 0!==e.message&&null!==e.message?t.message=n.WakuMessage.fromPartial(e.message):t.message=void 0,t}};const u={isSuccess:!1,info:""};t.PushResponse={encode:(e,t=s.default.Writer.create())=>(!0===e.isSuccess&&t.uint32(8).bool(e.isSuccess),""!==e.info&&t.uint32(18).string(e.info),t),decode(e,t){const o=e instanceof s.default.Reader?e:new s.default.Reader(e);let r=void 0===t?o.len:o.pos+t;const i=Object.assign({},u);for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:i.isSuccess=o.bool();break;case 2:i.info=o.string();break;default:o.skipType(7&e)}}return i},fromJSON(e){const t=Object.assign({},u);return void 0!==e.isSuccess&&null!==e.isSuccess?t.isSuccess=Boolean(e.isSuccess):t.isSuccess=!1,void 0!==e.info&&null!==e.info?t.info=String(e.info):t.info="",t},toJSON(e){const t={};return void 0!==e.isSuccess&&(t.isSuccess=e.isSuccess),void 0!==e.info&&(t.info=e.info),t},fromPartial(e){const t=Object.assign({},u);return void 0!==e.isSuccess&&null!==e.isSuccess?t.isSuccess=e.isSuccess:t.isSuccess=!1,void 0!==e.info&&null!==e.info?t.info=e.info:t.info="",t}};const c={requestId:""};t.PushRPC={encode:(e,o=s.default.Writer.create())=>(""!==e.requestId&&o.uint32(10).string(e.requestId),void 0!==e.request&&t.PushRequest.encode(e.request,o.uint32(18).fork()).ldelim(),void 0!==e.response&&t.PushResponse.encode(e.response,o.uint32(26).fork()).ldelim(),o),decode(e,o){const r=e instanceof s.default.Reader?e:new s.default.Reader(e);let i=void 0===o?r.len:r.pos+o;const n=Object.assign({},c);for(;r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:n.requestId=r.string();break;case 2:n.request=t.PushRequest.decode(r,r.uint32());break;case 3:n.response=t.PushResponse.decode(r,r.uint32());break;default:r.skipType(7&e)}}return n},fromJSON(e){const o=Object.assign({},c);return void 0!==e.requestId&&null!==e.requestId?o.requestId=String(e.requestId):o.requestId="",void 0!==e.request&&null!==e.request?o.request=t.PushRequest.fromJSON(e.request):o.request=void 0,void 0!==e.response&&null!==e.response?o.response=t.PushResponse.fromJSON(e.response):o.response=void 0,o},toJSON(e){const o={};return void 0!==e.requestId&&(o.requestId=e.requestId),void 0!==e.request&&(o.request=e.request?t.PushRequest.toJSON(e.request):void 0),void 0!==e.response&&(o.response=e.response?t.PushResponse.toJSON(e.response):void 0),o},fromPartial(e){const o=Object.assign({},c);return void 0!==e.requestId&&null!==e.requestId?o.requestId=e.requestId:o.requestId="",void 0!==e.request&&null!==e.request?o.request=t.PushRequest.fromPartial(e.request):o.request=void 0,void 0!==e.response&&null!==e.response?o.response=t.PushResponse.fromPartial(e.response):o.response=void 0,o}},s.default.util.Long!==i.default&&(s.default.util.Long=i.default,s.default.configure())},66561:function(e,t,o){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WakuMessage=t.protobufPackage=void 0;const i=r(o(43720)),s=r(o(62100));t.protobufPackage="waku.v2";const n={};t.WakuMessage={encode:(e,t=s.default.Writer.create())=>(void 0!==e.payload&&t.uint32(10).bytes(e.payload),void 0!==e.contentTopic&&t.uint32(18).string(e.contentTopic),void 0!==e.version&&t.uint32(24).uint32(e.version),void 0!==e.timestamp&&t.uint32(33).double(e.timestamp),t),decode(e,t){const o=e instanceof s.default.Reader?e:new s.default.Reader(e);let r=void 0===t?o.len:o.pos+t;const i=Object.assign({},n);for(;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:i.payload=o.bytes();break;case 2:i.contentTopic=o.string();break;case 3:i.version=o.uint32();break;case 4:i.timestamp=o.double();break;default:o.skipType(7&e)}}return i},fromJSON(e){const t=Object.assign({},n);return void 0!==e.payload&&null!==e.payload&&(t.payload=function(e){const t=u(e),o=new Uint8Array(t.length);for(let e=0;e<t.length;++e)o[e]=t.charCodeAt(e);return o}(e.payload)),void 0!==e.contentTopic&&null!==e.contentTopic?t.contentTopic=String(e.contentTopic):t.contentTopic=void 0,void 0!==e.version&&null!==e.version?t.version=Number(e.version):t.version=void 0,void 0!==e.timestamp&&null!==e.timestamp?t.timestamp=Number(e.timestamp):t.timestamp=void 0,t},toJSON(e){const t={};return void 0!==e.payload&&(t.payload=void 0!==e.payload?function(e){const t=[];for(const o of e)t.push(String.fromCharCode(o));return c(t.join(""))}(e.payload):void 0),void 0!==e.contentTopic&&(t.contentTopic=e.contentTopic),void 0!==e.version&&(t.version=e.version),void 0!==e.timestamp&&(t.timestamp=e.timestamp),t},fromPartial(e){const t=Object.assign({},n);return void 0!==e.payload&&null!==e.payload?t.payload=e.payload:t.payload=void 0,void 0!==e.contentTopic&&null!==e.contentTopic?t.contentTopic=e.contentTopic:t.contentTopic=void 0,void 0!==e.version&&null!==e.version?t.version=e.version:t.version=void 0,void 0!==e.timestamp&&null!==e.timestamp?t.timestamp=e.timestamp:t.timestamp=void 0,t}};var a=(()=>{if(void 0!==a)return a;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==o.g)return o.g;throw"Unable to locate global object"})();const u=a.atob||(e=>a.Buffer.from(e,"base64").toString("binary")),c=a.btoa||(e=>a.Buffer.from(e,"binary").toString("base64"));s.default.util.Long!==i.default&&(s.default.util.Long=i.default,s.default.configure())},25336:function(e,t,o){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.HistoryRPC=t.HistoryResponse=t.HistoryQuery=t.ContentFilter=t.PagingInfo=t.Index=t.historyResponse_ErrorToJSON=t.historyResponse_ErrorFromJSON=t.HistoryResponse_Error=t.pagingInfo_DirectionToJSON=t.pagingInfo_DirectionFromJSON=t.PagingInfo_Direction=t.protobufPackage=void 0;const i=r(o(43720)),s=r(o(62100)),n=o(66561);var a,u;function c(e){switch(e){case 0:case"DIRECTION_BACKWARD_UNSPECIFIED":return a.DIRECTION_BACKWARD_UNSPECIFIED;case 1:case"DIRECTION_FORWARD":return a.DIRECTION_FORWARD;default:return a.UNRECOGNIZED}}function l(e){switch(e){case a.DIRECTION_BACKWARD_UNSPECIFIED:return"DIRECTION_BACKWARD_UNSPECIFIED";case a.DIRECTION_FORWARD:return"DIRECTION_FORWARD";default:return"UNKNOWN"}}function d(e){switch(e){case 0:case"ERROR_NONE_UNSPECIFIED":return u.ERROR_NONE_UNSPECIFIED;case 1:case"ERROR_INVALID_CURSOR":return u.ERROR_INVALID_CURSOR;default:return u.UNRECOGNIZED}}function p(e){switch(e){case u.ERROR_NONE_UNSPECIFIED:return"ERROR_NONE_UNSPECIFIED";case u.ERROR_INVALID_CURSOR:return"ERROR_INVALID_CURSOR";default:return"UNKNOWN"}}t.protobufPackage="waku.v2",function(e){e[e.DIRECTION_BACKWARD_UNSPECIFIED=0]="DIRECTION_BACKWARD_UNSPECIFIED",e[e.DIRECTION_FORWARD=1]="DIRECTION_FORWARD",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(a=t.PagingInfo_Direction||(t.PagingInfo_Direction={})),t.pagingInfo_DirectionFromJSON=c,t.pagingInfo_DirectionToJSON=l,function(e){e[e.ERROR_NONE_UNSPECIFIED=0]="ERROR_NONE_UNSPECIFIED",e[e.ERROR_INVALID_CURSOR=1]="ERROR_INVALID_CURSOR",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(u=t.HistoryResponse_Error||(t.HistoryResponse_Error={})),t.historyResponse_ErrorFromJSON=d,t.historyResponse_ErrorToJSON=p;const f={receivedTime:0,senderTime:0};t.Index={encode:(e,t=s.default.Writer.create())=>(0!==e.digest.length&&t.uint32(10).bytes(e.digest),0!==e.receivedTime&&t.uint32(17).double(e.receivedTime),0!==e.senderTime&&t.uint32(25).double(e.senderTime),t),decode(e,t){const o=e instanceof s.default.Reader?e:new s.default.Reader(e);let r=void 0===t?o.len:o.pos+t;const i=Object.assign({},f);for(i.digest=new Uint8Array;o.pos<r;){const e=o.uint32();switch(e>>>3){case 1:i.digest=o.bytes();break;case 2:i.receivedTime=o.double();break;case 3:i.senderTime=o.double();break;default:o.skipType(7&e)}}return i},fromJSON(e){const t=Object.assign({},f);return t.digest=new Uint8Array,void 0!==e.digest&&null!==e.digest&&(t.digest=function(e){const t=P(e),o=new Uint8Array(t.length);for(let e=0;e<t.length;++e)o[e]=t.charCodeAt(e);return o}(e.digest)),void 0!==e.receivedTime&&null!==e.receivedTime?t.receivedTime=Number(e.receivedTime):t.receivedTime=0,void 0!==e.senderTime&&null!==e.senderTime?t.senderTime=Number(e.senderTime):t.senderTime=0,t},toJSON(e){const t={};return void 0!==e.digest&&(t.digest=function(e){const t=[];for(const o of e)t.push(String.fromCharCode(o));return S(t.join(""))}(void 0!==e.digest?e.digest:new Uint8Array)),void 0!==e.receivedTime&&(t.receivedTime=e.receivedTime),void 0!==e.senderTime&&(t.senderTime=e.senderTime),t},fromPartial(e){const t=Object.assign({},f);return void 0!==e.digest&&null!==e.digest?t.digest=e.digest:t.digest=new Uint8Array,void 0!==e.receivedTime&&null!==e.receivedTime?t.receivedTime=e.receivedTime:t.receivedTime=0,void 0!==e.senderTime&&null!==e.senderTime?t.senderTime=e.senderTime:t.senderTime=0,t}};const g={pageSize:0,direction:0};t.PagingInfo={encode:(e,o=s.default.Writer.create())=>(0!==e.pageSize&&o.uint32(8).uint64(e.pageSize),void 0!==e.cursor&&t.Index.encode(e.cursor,o.uint32(18).fork()).ldelim(),0!==e.direction&&o.uint32(24).int32(e.direction),o),decode(e,o){const r=e instanceof s.default.Reader?e:new s.default.Reader(e);let i=void 0===o?r.len:r.pos+o;const n=Object.assign({},g);for(;r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:n.pageSize=T(r.uint64());break;case 2:n.cursor=t.Index.decode(r,r.uint32());break;case 3:n.direction=r.int32();break;default:r.skipType(7&e)}}return n},fromJSON(e){const o=Object.assign({},g);return void 0!==e.pageSize&&null!==e.pageSize?o.pageSize=Number(e.pageSize):o.pageSize=0,void 0!==e.cursor&&null!==e.cursor?o.cursor=t.Index.fromJSON(e.cursor):o.cursor=void 0,void 0!==e.direction&&null!==e.direction?o.direction=c(e.direction):o.direction=0,o},toJSON(e){const o={};return void 0!==e.pageSize&&(o.pageSize=e.pageSize),void 0!==e.cursor&&(o.cursor=e.cursor?t.Index.toJSON(e.cursor):void 0),void 0!==e.direction&&(o.direction=l(e.direction)),o},fromPartial(e){const o=Object.assign({},g);return void 0!==e.pageSize&&null!==e.pageSize?o.pageSize=e.pageSize:o.pageSize=0,void 0!==e.cursor&&null!==e.cursor?o.cursor=t.Index.fromPartial(e.cursor):o.cursor=void 0,void 0!==e.direction&&null!==e.direction?o.direction=e.direction:o.direction=0,o}};const h={contentTopic:""};t.ContentFilter={encode:(e,t=s.default.Writer.create())=>(""!==e.contentTopic&&t.uint32(10).string(e.contentTopic),t),decode(e,t){const o=e instanceof s.default.Reader?e:new s.default.Reader(e);let r=void 0===t?o.len:o.pos+t;const i=Object.assign({},h);for(;o.pos<r;){const e=o.uint32();e>>>3==1?i.contentTopic=o.string():o.skipType(7&e)}return i},fromJSON(e){const t=Object.assign({},h);return void 0!==e.contentTopic&&null!==e.contentTopic?t.contentTopic=String(e.contentTopic):t.contentTopic="",t},toJSON(e){const t={};return void 0!==e.contentTopic&&(t.contentTopic=e.contentTopic),t},fromPartial(e){const t=Object.assign({},h);return void 0!==e.contentTopic&&null!==e.contentTopic?t.contentTopic=e.contentTopic:t.contentTopic="",t}};const b={};t.HistoryQuery={encode(e,o=s.default.Writer.create()){void 0!==e.pubSubTopic&&o.uint32(18).string(e.pubSubTopic);for(const r of e.contentFilters)t.ContentFilter.encode(r,o.uint32(26).fork()).ldelim();return void 0!==e.pagingInfo&&t.PagingInfo.encode(e.pagingInfo,o.uint32(34).fork()).ldelim(),void 0!==e.startTime&&o.uint32(41).double(e.startTime),void 0!==e.endTime&&o.uint32(49).double(e.endTime),o},decode(e,o){const r=e instanceof s.default.Reader?e:new s.default.Reader(e);let i=void 0===o?r.len:r.pos+o;const n=Object.assign({},b);for(n.contentFilters=[];r.pos<i;){const e=r.uint32();switch(e>>>3){case 2:n.pubSubTopic=r.string();break;case 3:n.contentFilters.push(t.ContentFilter.decode(r,r.uint32()));break;case 4:n.pagingInfo=t.PagingInfo.decode(r,r.uint32());break;case 5:n.startTime=r.double();break;case 6:n.endTime=r.double();break;default:r.skipType(7&e)}}return n},fromJSON(e){const o=Object.assign({},b);if(o.contentFilters=[],void 0!==e.pubSubTopic&&null!==e.pubSubTopic?o.pubSubTopic=String(e.pubSubTopic):o.pubSubTopic=void 0,void 0!==e.contentFilters&&null!==e.contentFilters)for(const r of e.contentFilters)o.contentFilters.push(t.ContentFilter.fromJSON(r));return void 0!==e.pagingInfo&&null!==e.pagingInfo?o.pagingInfo=t.PagingInfo.fromJSON(e.pagingInfo):o.pagingInfo=void 0,void 0!==e.startTime&&null!==e.startTime?o.startTime=Number(e.startTime):o.startTime=void 0,void 0!==e.endTime&&null!==e.endTime?o.endTime=Number(e.endTime):o.endTime=void 0,o},toJSON(e){const o={};return void 0!==e.pubSubTopic&&(o.pubSubTopic=e.pubSubTopic),e.contentFilters?o.contentFilters=e.contentFilters.map((e=>e?t.ContentFilter.toJSON(e):void 0)):o.contentFilters=[],void 0!==e.pagingInfo&&(o.pagingInfo=e.pagingInfo?t.PagingInfo.toJSON(e.pagingInfo):void 0),void 0!==e.startTime&&(o.startTime=e.startTime),void 0!==e.endTime&&(o.endTime=e.endTime),o},fromPartial(e){const o=Object.assign({},b);if(o.contentFilters=[],void 0!==e.pubSubTopic&&null!==e.pubSubTopic?o.pubSubTopic=e.pubSubTopic:o.pubSubTopic=void 0,void 0!==e.contentFilters&&null!==e.contentFilters)for(const r of e.contentFilters)o.contentFilters.push(t.ContentFilter.fromPartial(r));return void 0!==e.pagingInfo&&null!==e.pagingInfo?o.pagingInfo=t.PagingInfo.fromPartial(e.pagingInfo):o.pagingInfo=void 0,void 0!==e.startTime&&null!==e.startTime?o.startTime=e.startTime:o.startTime=void 0,void 0!==e.endTime&&null!==e.endTime?o.endTime=e.endTime:o.endTime=void 0,o}};const y={error:0};t.HistoryResponse={encode(e,o=s.default.Writer.create()){for(const t of e.messages)n.WakuMessage.encode(t,o.uint32(18).fork()).ldelim();return void 0!==e.pagingInfo&&t.PagingInfo.encode(e.pagingInfo,o.uint32(26).fork()).ldelim(),0!==e.error&&o.uint32(32).int32(e.error),o},decode(e,o){const r=e instanceof s.default.Reader?e:new s.default.Reader(e);let i=void 0===o?r.len:r.pos+o;const a=Object.assign({},y);for(a.messages=[];r.pos<i;){const e=r.uint32();switch(e>>>3){case 2:a.messages.push(n.WakuMessage.decode(r,r.uint32()));break;case 3:a.pagingInfo=t.PagingInfo.decode(r,r.uint32());break;case 4:a.error=r.int32();break;default:r.skipType(7&e)}}return a},fromJSON(e){const o=Object.assign({},y);if(o.messages=[],void 0!==e.messages&&null!==e.messages)for(const t of e.messages)o.messages.push(n.WakuMessage.fromJSON(t));return void 0!==e.pagingInfo&&null!==e.pagingInfo?o.pagingInfo=t.PagingInfo.fromJSON(e.pagingInfo):o.pagingInfo=void 0,void 0!==e.error&&null!==e.error?o.error=d(e.error):o.error=0,o},toJSON(e){const o={};return e.messages?o.messages=e.messages.map((e=>e?n.WakuMessage.toJSON(e):void 0)):o.messages=[],void 0!==e.pagingInfo&&(o.pagingInfo=e.pagingInfo?t.PagingInfo.toJSON(e.pagingInfo):void 0),void 0!==e.error&&(o.error=p(e.error)),o},fromPartial(e){const o=Object.assign({},y);if(o.messages=[],void 0!==e.messages&&null!==e.messages)for(const t of e.messages)o.messages.push(n.WakuMessage.fromPartial(t));return void 0!==e.pagingInfo&&null!==e.pagingInfo?o.pagingInfo=t.PagingInfo.fromPartial(e.pagingInfo):o.pagingInfo=void 0,void 0!==e.error&&null!==e.error?o.error=e.error:o.error=0,o}};const m={requestId:""};t.HistoryRPC={encode:(e,o=s.default.Writer.create())=>(""!==e.requestId&&o.uint32(10).string(e.requestId),void 0!==e.query&&t.HistoryQuery.encode(e.query,o.uint32(18).fork()).ldelim(),void 0!==e.response&&t.HistoryResponse.encode(e.response,o.uint32(26).fork()).ldelim(),o),decode(e,o){const r=e instanceof s.default.Reader?e:new s.default.Reader(e);let i=void 0===o?r.len:r.pos+o;const n=Object.assign({},m);for(;r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:n.requestId=r.string();break;case 2:n.query=t.HistoryQuery.decode(r,r.uint32());break;case 3:n.response=t.HistoryResponse.decode(r,r.uint32());break;default:r.skipType(7&e)}}return n},fromJSON(e){const o=Object.assign({},m);return void 0!==e.requestId&&null!==e.requestId?o.requestId=String(e.requestId):o.requestId="",void 0!==e.query&&null!==e.query?o.query=t.HistoryQuery.fromJSON(e.query):o.query=void 0,void 0!==e.response&&null!==e.response?o.response=t.HistoryResponse.fromJSON(e.response):o.response=void 0,o},toJSON(e){const o={};return void 0!==e.requestId&&(o.requestId=e.requestId),void 0!==e.query&&(o.query=e.query?t.HistoryQuery.toJSON(e.query):void 0),void 0!==e.response&&(o.response=e.response?t.HistoryResponse.toJSON(e.response):void 0),o},fromPartial(e){const o=Object.assign({},m);return void 0!==e.requestId&&null!==e.requestId?o.requestId=e.requestId:o.requestId="",void 0!==e.query&&null!==e.query?o.query=t.HistoryQuery.fromPartial(e.query):o.query=void 0,void 0!==e.response&&null!==e.response?o.response=t.HistoryResponse.fromPartial(e.response):o.response=void 0,o}};var v=(()=>{if(void 0!==v)return v;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==o.g)return o.g;throw"Unable to locate global object"})();const P=v.atob||(e=>v.Buffer.from(e,"base64").toString("binary")),S=v.btoa||(e=>v.Buffer.from(e,"binary").toString("base64"));function T(e){if(e.gt(Number.MAX_SAFE_INTEGER))throw new v.Error("Value is larger than Number.MAX_SAFE_INTEGER");return e.toNumber()}s.default.util.Long!==i.default&&(s.default.util.Long=i.default,s.default.configure())},35883:()=>{},46601:()=>{},89214:()=>{},71922:()=>{},2363:()=>{},5696:()=>{},89408:()=>{},57600:()=>{},62678:()=>{},25819:()=>{},52361:()=>{},94616:()=>{}},o={};function r(e){var i=o[e];if(void 0!==i)return i.exports;var s=o[e]={id:e,loaded:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.loaded=!0,s.exports}r.m=t,r.amdO={},e=[],r.O=(t,o,i,s)=>{if(!o){var n=1/0;for(l=0;l<e.length;l++){for(var[o,i,s]=e[l],a=!0,u=0;u<o.length;u++)(!1&s||n>=s)&&Object.keys(r.O).every((e=>r.O[e](o[u])))?o.splice(u--,1):(a=!1,s<n&&(n=s));if(a){e.splice(l--,1);var c=i();void 0!==c&&(t=c)}}return t}s=s||0;for(var l=e.length;l>0&&e[l-1][2]>s;l--)e[l]=e[l-1];e[l]=[o,i,s]},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={204:0};r.O.j=t=>0===e[t];var t=(t,o)=>{var i,s,[n,a,u]=o,c=0;if(n.some((t=>0!==e[t]))){for(i in a)r.o(a,i)&&(r.m[i]=a[i]);if(u)var l=u(r)}for(t&&t(o);c<n.length;c++)s=n[c],r.o(e,s)&&e[s]&&e[s][0](),e[n[c]]=0;return r.O(l)},o=this.webpackChunkjswaku=this.webpackChunkjswaku||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var i=r.O(void 0,[216],(()=>r(63607)));return r.O(i)})()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TUFBTWhhLEdBQWdDLElBQXhCMFosRUFBZ0IxWixLQUFhLENBQ3RELElBQUk4WCxLQUFZZ0MsRUFDWmpDLEVBQW9CcUIsRUFBRVksRUFBYWhDLEtBQ3JDRCxFQUFvQk0sRUFBRUwsR0FBWWdDLEVBQVloQyxJQUdoRCxHQUFHaUMsRUFBUyxJQUFJekIsRUFBU3lCLEVBQVFsQyxHQUdsQyxJQURHZ0MsR0FBNEJBLEVBQTJCdGhCLEdBQ3JEa04sRUFBSThTLEVBQVN4Z0IsT0FBUTBOLElBQ3pCa1UsRUFBVXBCLEVBQVM5UyxHQUNoQm9TLEVBQW9CcUIsRUFBRVEsRUFBaUJDLElBQVlELEVBQWdCQyxJQUNyRUQsRUFBZ0JDLEdBQVMsS0FFMUJELEVBQWdCbkIsRUFBUzlTLElBQU0sRUFFaEMsT0FBT29TLEVBQW9CUSxFQUFFQyxJQUcxQjJCLEVBQXFCeGpCLEtBQXlCLG1CQUFJQSxLQUF5QixvQkFBSyxHQUNwRndqQixFQUFtQnJlLFFBQVFnZSxFQUFxQjFMLEtBQUssS0FBTSxJQUMzRCtMLEVBQW1CcGIsS0FBTythLEVBQXFCMUwsS0FBSyxLQUFNK0wsRUFBbUJwYixLQUFLcVAsS0FBSytMLEssR0M3Q3ZGLElBQUlDLEVBQXNCckMsRUFBb0JRLE9BQUU1ZixFQUFXLENBQUMsTUFBTSxJQUFPb2YsRUFBb0IsUyxPQUN2RUEsRUFBb0JRLEVBQUU2QixJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vanN3YWt1L3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9qc3dha3Uvd2VicGFjay9ydW50aW1lL2NodW5rIGxvYWRlZCIsIndlYnBhY2s6Ly9qc3dha3UvLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vanN3YWt1Ly4vc3JjL2xpYi9kaXNjb3ZlcnkudHMiLCJ3ZWJwYWNrOi8vanN3YWt1Ly4vc3JjL2xpYi9zZWxlY3RfcGVlci50cyIsIndlYnBhY2s6Ly9qc3dha3UvLi9zcmMvbGliL3V0aWxzLnRzIiwid2VicGFjazovL2pzd2FrdS8uL3NyYy9saWIvd2FrdS50cyIsIndlYnBhY2s6Ly9qc3dha3UvLi9zcmMvbGliL3dha3VfbGlnaHRfcHVzaC9pbmRleC50cyIsIndlYnBhY2s6Ly9qc3dha3UvLi9zcmMvbGliL3dha3VfbGlnaHRfcHVzaC9wdXNoX3JwYy50cyIsIndlYnBhY2s6Ly9qc3dha3UvLi9zcmMvbGliL3dha3VfbWVzc2FnZS9pbmRleC50cyIsIndlYnBhY2s6Ly9qc3dha3UvLi9zcmMvbGliL3dha3VfbWVzc2FnZS9zeW1tZXRyaWMvYnJvd3Nlci50cyIsIndlYnBhY2s6Ly9qc3dha3UvLi9zcmMvbGliL3dha3VfbWVzc2FnZS9zeW1tZXRyaWMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vanN3YWt1Ly4vc3JjL2xpYi93YWt1X21lc3NhZ2Uvc3ltbWV0cmljL25vZGUudHMiLCJ3ZWJwYWNrOi8vanN3YWt1Ly4vc3JjL2xpYi93YWt1X21lc3NhZ2UvdmVyc2lvbl8xLnRzIiwid2VicGFjazovL2pzd2FrdS8uL3NyYy9saWIvd2FrdV9yZWxheS9jb25zdGFudHMudHMiLCJ3ZWJwYWNrOi8vanN3YWt1Ly4vc3JjL2xpYi93YWt1X3JlbGF5L2dldF9yZWxheV9wZWVycy50cyIsIndlYnBhY2s6Ly9qc3dha3UvLi9zcmMvbGliL3dha3VfcmVsYXkvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vanN3YWt1Ly4vc3JjL2xpYi93YWt1X3JlbGF5L3JlbGF5X2hlYXJ0YmVhdC50cyIsIndlYnBhY2s6Ly9qc3dha3UvLi9zcmMvbGliL3dha3Vfc3RvcmUvaGlzdG9yeV9ycGMudHMiLCJ3ZWJwYWNrOi8vanN3YWt1Ly4vc3JjL2xpYi93YWt1X3N0b3JlL2luZGV4LnRzIiwid2VicGFjazovL2pzd2FrdS8uL3NyYy9wcm90by9pbmRleC50cyIsIndlYnBhY2s6Ly9qc3dha3UvLi9zcmMvcHJvdG8vd2FrdS92Mi9saWdodF9wdXNoLnRzIiwid2VicGFjazovL2pzd2FrdS8uL3NyYy9wcm90by93YWt1L3YyL21lc3NhZ2UudHMiLCJ3ZWJwYWNrOi8vanN3YWt1Ly4vc3JjL3Byb3RvL3dha3UvdjIvc3RvcmUudHMiLCJ3ZWJwYWNrOi8vanN3YWt1L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2pzd2FrdS93ZWJwYWNrL3J1bnRpbWUvYW1kIG9wdGlvbnMiLCJ3ZWJwYWNrOi8vanN3YWt1L3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9qc3dha3Uvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly9qc3dha3Uvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9qc3dha3Uvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9qc3dha3Uvd2VicGFjay9ydW50aW1lL25vZGUgbW9kdWxlIGRlY29yYXRvciIsIndlYnBhY2s6Ly9qc3dha3Uvd2VicGFjay9ydW50aW1lL2pzb25wIGNodW5rIGxvYWRpbmciLCJ3ZWJwYWNrOi8vanN3YWt1L3dlYnBhY2svc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJqc3dha3VcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wianN3YWt1XCJdID0gZmFjdG9yeSgpO1xufSkodGhpcywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gIiwidmFyIGRlZmVycmVkID0gW107XG5fX3dlYnBhY2tfcmVxdWlyZV9fLk8gPSAocmVzdWx0LCBjaHVua0lkcywgZm4sIHByaW9yaXR5KSA9PiB7XG5cdGlmKGNodW5rSWRzKSB7XG5cdFx0cHJpb3JpdHkgPSBwcmlvcml0eSB8fCAwO1xuXHRcdGZvcih2YXIgaSA9IGRlZmVycmVkLmxlbmd0aDsgaSA+IDAgJiYgZGVmZXJyZWRbaSAtIDFdWzJdID4gcHJpb3JpdHk7IGktLSkgZGVmZXJyZWRbaV0gPSBkZWZlcnJlZFtpIC0gMV07XG5cdFx0ZGVmZXJyZWRbaV0gPSBbY2h1bmtJZHMsIGZuLCBwcmlvcml0eV07XG5cdFx0cmV0dXJuO1xuXHR9XG5cdHZhciBub3RGdWxmaWxsZWQgPSBJbmZpbml0eTtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkZWZlcnJlZC5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBbY2h1bmtJZHMsIGZuLCBwcmlvcml0eV0gPSBkZWZlcnJlZFtpXTtcblx0XHR2YXIgZnVsZmlsbGVkID0gdHJ1ZTtcblx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGNodW5rSWRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRpZiAoKHByaW9yaXR5ICYgMSA9PT0gMCB8fCBub3RGdWxmaWxsZWQgPj0gcHJpb3JpdHkpICYmIE9iamVjdC5rZXlzKF9fd2VicGFja19yZXF1aXJlX18uTykuZXZlcnkoKGtleSkgPT4gKF9fd2VicGFja19yZXF1aXJlX18uT1trZXldKGNodW5rSWRzW2pdKSkpKSB7XG5cdFx0XHRcdGNodW5rSWRzLnNwbGljZShqLS0sIDEpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZnVsZmlsbGVkID0gZmFsc2U7XG5cdFx0XHRcdGlmKHByaW9yaXR5IDwgbm90RnVsZmlsbGVkKSBub3RGdWxmaWxsZWQgPSBwcmlvcml0eTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYoZnVsZmlsbGVkKSB7XG5cdFx0XHRkZWZlcnJlZC5zcGxpY2UoaS0tLCAxKVxuXHRcdFx0dmFyIHIgPSBmbigpO1xuXHRcdFx0aWYgKHIgIT09IHVuZGVmaW5lZCkgcmVzdWx0ID0gcjtcblx0XHR9XG5cdH1cblx0cmV0dXJuIHJlc3VsdDtcbn07IiwiZXhwb3J0IHsgZ2V0Qm9vdHN0cmFwTm9kZXMgfSBmcm9tICcuL2xpYi9kaXNjb3ZlcnknO1xuXG5leHBvcnQgKiBhcyB1dGlscyBmcm9tICcuL2xpYi91dGlscyc7XG5cbmV4cG9ydCB7IFdha3UsIERlZmF1bHRQdWJTdWJUb3BpYyB9IGZyb20gJy4vbGliL3dha3UnO1xuXG5leHBvcnQgeyBXYWt1TWVzc2FnZSB9IGZyb20gJy4vbGliL3dha3VfbWVzc2FnZSc7XG5cbmV4cG9ydCB7XG4gIGdlbmVyYXRlUHJpdmF0ZUtleSxcbiAgZ2VuZXJhdGVTeW1tZXRyaWNLZXksXG4gIGdldFB1YmxpY0tleSxcbn0gZnJvbSAnLi9saWIvd2FrdV9tZXNzYWdlL3ZlcnNpb25fMSc7XG5cbmV4cG9ydCB7XG4gIFdha3VMaWdodFB1c2gsXG4gIExpZ2h0UHVzaENvZGVjLFxuICBQdXNoUmVzcG9uc2UsXG59IGZyb20gJy4vbGliL3dha3VfbGlnaHRfcHVzaCc7XG5cbmV4cG9ydCB7IFdha3VSZWxheSwgUmVsYXlDb2RlY3MgfSBmcm9tICcuL2xpYi93YWt1X3JlbGF5JztcblxuZXhwb3J0IHsgUGFnZURpcmVjdGlvbiwgV2FrdVN0b3JlLCBTdG9yZUNvZGVjIH0gZnJvbSAnLi9saWIvd2FrdV9zdG9yZSc7XG5cbmV4cG9ydCAqIGFzIHByb3RvIGZyb20gJy4vcHJvdG8nO1xuIiwiaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcbmltcG9ydCBkZWJ1ZyBmcm9tICdkZWJ1Zyc7XG5pbXBvcnQgeyBzaHVmZmxlIH0gZnJvbSAnbGlicDJwLWdvc3NpcHN1Yi9zcmMvdXRpbHMnO1xuXG5jb25zdCBkYmcgPSBkZWJ1Zygnd2FrdTpkaXNjb3ZlcnknKTtcblxuY29uc3QgRGVmYXVsdFdhbnRlZE51bWJlciA9IDE7XG5cbi8qKlxuICogR0VUIGxpc3Qgb2Ygbm9kZXMgZnJvbSByZW1vdGUgSFRUUCBob3N0LlxuICpcbiAqIERlZmF1bHQgYmVoYXZpb3VyIGlzIHRvIHJldHVybiBub2RlcyBob3N0ZWQgYnkgU3RhdHVzLlxuICpcbiAqIEBwYXJhbSBwYXRoIFRoZSBwcm9wZXJ0eSBwYXRoIHRvIGFjY2VzcyB0aGUgbm9kZSBsaXN0LiBUaGUgcmVzdWx0IHNob3VsZCBiZVxuICogYSBzdHJpbmcsIGEgc3RyaW5nIGFycmF5IG9yIGFuIG9iamVjdC4gSWYgdGhlIHJlc3VsdCBpcyBhbiBvYmplY3QgdGhlbiB0aGVcbiAqIHZhbHVlcyBvZiB0aGUgb2JqZWN0cyBhcmUgdXNlZCBhcyBtdWx0aWFkZHJlc3Nlcy4gRm9yIGV4YW1wbGUsIGlmIHRoZSBHRVRcbiAqIHJlcXVlc3QgcmV0dXJucyBgeyBmb286IHsgYmFyOiBbYWRkcmVzczEsIGFkZHJlc3MyXSB9IH1gIHRoZW4gYHBhdGhgIHNob3VsZCBiZVxuICogYFsgXCJmb29cIiwgXCJiYXJcIiBdYC5cbiAqIEBwYXJhbSB1cmwgUmVtb3RlIGhvc3QgY29udGFpbmluZyBib290c3RyYXAgcGVlcnMgaW4gSlNPTiBmb3JtYXQuXG4gKiBAcGFyYW0gd2FudGVkTnVtYmVyIFRoZSBudW1iZXIgb2YgY29ubmVjdGlvbnMgZGVzaXJlZC4gRGVmYXVsdHMgdG8gW0RlZmF1bHRXYW50ZWROdW1iZXJdLlxuICpcbiAqIEByZXR1cm5zIEFuIGFycmF5IG9mIG11bHRpYWRkcmVzc2VzLlxuICogQHRocm93cyBJZiB0aGUgcmVtb3RlIGhvc3QgaXMgdW5yZWFjaGFibGUgb3IgdGhlIHJlc3BvbnNlIGNhbm5vdCBiZSBwYXJzZWRcbiAqIGFjY29yZGluZyB0byB0aGUgcGFzc2VkIF9wYXRoXy5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEJvb3RzdHJhcE5vZGVzKFxuICBwYXRoOiBzdHJpbmdbXSA9IFsnZmxlZXRzJywgJ3dha3V2Mi5wcm9kJywgJ3dha3Utd2Vic29ja2V0J10sXG4gIHVybCA9ICdodHRwczovL2ZsZWV0cy5zdGF0dXMuaW0vJyxcbiAgd2FudGVkTnVtYmVyOiBudW1iZXIgPSBEZWZhdWx0V2FudGVkTnVtYmVyXG4pOiBQcm9taXNlPHN0cmluZ1tdPiB7XG4gIGlmICh3YW50ZWROdW1iZXIgPD0gMCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIGNvbnN0IHJlcyA9IGF3YWl0IGF4aW9zLmdldCh1cmwsIHtcbiAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgfSk7XG5cbiAgbGV0IG5vZGVzID0gcmVzLmRhdGE7XG5cbiAgZm9yIChjb25zdCBwcm9wIG9mIHBhdGgpIHtcbiAgICBpZiAobm9kZXNbcHJvcF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgZGJnKFxuICAgICAgICBgRmFpbGVkIHRvIHJldHJpZXZlIGJvb3RzdHJhcCBub2RlczogJHtwcm9wfSBkb2VzIG5vdCBleGlzdCBvbiBgLFxuICAgICAgICBub2Rlc1xuICAgICAgKTtcbiAgICAgIHRocm93IGBGYWlsZWQgdG8gcmV0cmlldmUgYm9vdHN0cmFwIG5vZGVzOiAke3Byb3B9IGRvZXMgbm90IGV4aXN0IG9uICR7SlNPTi5zdHJpbmdpZnkoXG4gICAgICAgIG5vZGVzXG4gICAgICApfWA7XG4gICAgfVxuICAgIG5vZGVzID0gbm9kZXNbcHJvcF07XG4gIH1cblxuICBpZiAoQXJyYXkuaXNBcnJheShub2RlcykpIHtcbiAgICByZXR1cm4gZ2V0UHNldWRvUmFuZG9tU3Vic2V0KG5vZGVzLCB3YW50ZWROdW1iZXIpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBub2RlcyA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gW25vZGVzXTtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygbm9kZXMgPT09ICdvYmplY3QnKSB7XG4gICAgbm9kZXMgPSBPYmplY3QudmFsdWVzKG5vZGVzKTtcbiAgICByZXR1cm4gZ2V0UHNldWRvUmFuZG9tU3Vic2V0KG5vZGVzLCB3YW50ZWROdW1iZXIpO1xuICB9XG5cbiAgdGhyb3cgYEZhaWxlZCB0byByZXRyaWV2ZSBib290c3RyYXAgbm9kZXM6IHJlc3BvbnNlIGZvcm1hdCBpcyBub3Qgc3VwcG9ydGVkOiAke0pTT04uc3RyaW5naWZ5KFxuICAgIG5vZGVzXG4gICl9YDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFBzZXVkb1JhbmRvbVN1YnNldChcbiAgdmFsdWVzOiBzdHJpbmdbXSxcbiAgd2FudGVkTnVtYmVyOiBudW1iZXJcbik6IHN0cmluZ1tdIHtcbiAgaWYgKHZhbHVlcy5sZW5ndGggPD0gd2FudGVkTnVtYmVyKSB7XG4gICAgcmV0dXJuIHZhbHVlcztcbiAgfVxuXG4gIHJldHVybiBzaHVmZmxlKHZhbHVlcykuc2xpY2UoMCwgd2FudGVkTnVtYmVyKTtcbn1cbiIsImltcG9ydCBMaWJwMnAgZnJvbSAnbGlicDJwJztcbmltcG9ydCB7IFBlZXIgfSBmcm9tICdsaWJwMnAvc3JjL3BlZXItc3RvcmUnO1xuXG4vKipcbiAqIFJldHVybnMgYSBwc2V1ZG8tcmFuZG9tIHBlZXIgdGhhdCBzdXBwb3J0cyB0aGUgZ2l2ZW4gcHJvdG9jb2wuXG4gKiBVc2VmdWwgZm9yIHByb3RvY29scyBzdWNoIGFzIHN0b3JlIGFuZCBsaWdodCBwdXNoXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RSYW5kb21QZWVyKHBlZXJzOiBQZWVyW10pOiBQZWVyIHwgdW5kZWZpbmVkIHtcbiAgaWYgKHBlZXJzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXG4gIGNvbnN0IGluZGV4ID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogKHBlZXJzLmxlbmd0aCAtIDEpKTtcbiAgcmV0dXJuIHBlZXJzW2luZGV4XTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBsaXN0IG9mIHBlZXJzIHRoYXQgc3VwcG9ydHMgdGhlIGdpdmVuIHByb3RvY29sLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UGVlcnNGb3JQcm90b2NvbChsaWJwMnA6IExpYnAycCwgcHJvdG9jb2w6IHN0cmluZyk6IFBlZXJbXSB7XG4gIHJldHVybiBBcnJheS5mcm9tKGxpYnAycC5wZWVyU3RvcmUucGVlcnMudmFsdWVzKCkpLmZpbHRlcigocGVlcikgPT5cbiAgICBwZWVyLnByb3RvY29scy5pbmNsdWRlcyhwcm90b2NvbClcbiAgKTtcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBoZXhUb0J1ZihoZXg6IHN0cmluZyB8IEJ1ZmZlciB8IFVpbnQ4QXJyYXkpOiBCdWZmZXIge1xuICBpZiAodHlwZW9mIGhleCA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gQnVmZmVyLmZyb20oaGV4LnJlcGxhY2UoL14weC9pLCAnJyksICdoZXgnKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gQnVmZmVyLmZyb20oaGV4KTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYnVmVG9IZXgoYnVmOiBVaW50OEFycmF5IHwgQnVmZmVyIHwgQXJyYXlCdWZmZXIpOiBzdHJpbmcge1xuICBjb25zdCBfYnVmID0gQnVmZmVyLmZyb20oYnVmKTtcbiAgcmV0dXJuIF9idWYudG9TdHJpbmcoJ2hleCcpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxCeXRlQXJyYXlzKFxuICBhOiBVaW50OEFycmF5IHwgQnVmZmVyIHwgc3RyaW5nLFxuICBiOiBVaW50OEFycmF5IHwgQnVmZmVyIHwgc3RyaW5nXG4pOiBib29sZWFuIHtcbiAgbGV0IGFCdWY6IEJ1ZmZlcjtcbiAgbGV0IGJCdWY6IEJ1ZmZlcjtcbiAgaWYgKHR5cGVvZiBhID09PSAnc3RyaW5nJykge1xuICAgIGFCdWYgPSBoZXhUb0J1ZihhKTtcbiAgfSBlbHNlIHtcbiAgICBhQnVmID0gQnVmZmVyLmZyb20oYSk7XG4gIH1cblxuICBpZiAodHlwZW9mIGIgPT09ICdzdHJpbmcnKSB7XG4gICAgYkJ1ZiA9IGhleFRvQnVmKGIpO1xuICB9IGVsc2Uge1xuICAgIGJCdWYgPSBCdWZmZXIuZnJvbShiKTtcbiAgfVxuXG4gIHJldHVybiBhQnVmLmNvbXBhcmUoYkJ1ZikgPT09IDA7XG59XG4iLCJpbXBvcnQgeyBieXRlcyB9IGZyb20gJ0BjaGFpbnNhZmUvbGlicDJwLW5vaXNlL2Rpc3Qvc3JjL0B0eXBlcy9iYXNpYyc7XG5pbXBvcnQgeyBOb2lzZSB9IGZyb20gJ0BjaGFpbnNhZmUvbGlicDJwLW5vaXNlL2Rpc3Qvc3JjL25vaXNlJztcbmltcG9ydCBkZWJ1ZyBmcm9tICdkZWJ1Zyc7XG5pbXBvcnQgTGlicDJwLCB7IENvbm5lY3Rpb24sIExpYnAycE1vZHVsZXMsIExpYnAycE9wdGlvbnMgfSBmcm9tICdsaWJwMnAnO1xuaW1wb3J0IEJvb3RzdHJhcCBmcm9tICdsaWJwMnAtYm9vdHN0cmFwJztcbmltcG9ydCB7IE11eGVkU3RyZWFtIH0gZnJvbSAnbGlicDJwLWludGVyZmFjZXMvZGlzdC9zcmMvc3RyZWFtLW11eGVyL3R5cGVzJztcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWNvbW1lbnRcbi8vIEB0cy1pZ25vcmU6IE5vIHR5cGVzIGF2YWlsYWJsZVxuaW1wb3J0IE1wbGV4IGZyb20gJ2xpYnAycC1tcGxleCc7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1jb21tZW50XG4vLyBAdHMtaWdub3JlOiBObyB0eXBlcyBhdmFpbGFibGVcbmltcG9ydCBXZWJzb2NrZXRzIGZyb20gJ2xpYnAycC13ZWJzb2NrZXRzJztcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWNvbW1lbnRcbi8vIEB0cy1pZ25vcmU6IE5vIHR5cGVzIGF2YWlsYWJsZVxuaW1wb3J0IGZpbHRlcnMgZnJvbSAnbGlicDJwLXdlYnNvY2tldHMvc3JjL2ZpbHRlcnMnO1xuaW1wb3J0IHsgUGVlciB9IGZyb20gJ2xpYnAycC9kaXN0L3NyYy9wZWVyLXN0b3JlJztcbmltcG9ydCBQaW5nIGZyb20gJ2xpYnAycC9zcmMvcGluZyc7XG5pbXBvcnQgeyBNdWx0aWFkZHIsIG11bHRpYWRkciB9IGZyb20gJ211bHRpYWRkcic7XG5pbXBvcnQgUGVlcklkIGZyb20gJ3BlZXItaWQnO1xuXG5pbXBvcnQgeyBnZXRCb290c3RyYXBOb2RlcyB9IGZyb20gJy4vZGlzY292ZXJ5JztcbmltcG9ydCB7IGdldFBlZXJzRm9yUHJvdG9jb2wgfSBmcm9tICcuL3NlbGVjdF9wZWVyJztcbmltcG9ydCB7IExpZ2h0UHVzaENvZGVjLCBXYWt1TGlnaHRQdXNoIH0gZnJvbSAnLi93YWt1X2xpZ2h0X3B1c2gnO1xuaW1wb3J0IHsgV2FrdU1lc3NhZ2UgfSBmcm9tICcuL3dha3VfbWVzc2FnZSc7XG5pbXBvcnQgeyBSZWxheUNvZGVjcywgV2FrdVJlbGF5IH0gZnJvbSAnLi93YWt1X3JlbGF5JztcbmltcG9ydCB7IFJlbGF5UGluZ0NvbnRlbnRUb3BpYyB9IGZyb20gJy4vd2FrdV9yZWxheS9jb25zdGFudHMnO1xuaW1wb3J0IHsgU3RvcmVDb2RlYywgV2FrdVN0b3JlIH0gZnJvbSAnLi93YWt1X3N0b3JlJztcblxuY29uc3Qgd2Vic29ja2V0c1RyYW5zcG9ydEtleSA9IFdlYnNvY2tldHMucHJvdG90eXBlW1N5bWJvbC50b1N0cmluZ1RhZ107XG5cbmV4cG9ydCBjb25zdCBEZWZhdWx0UGluZ0tlZXBBbGl2ZVZhbHVlU2VjcyA9IDA7XG5leHBvcnQgY29uc3QgRGVmYXVsdFJlbGF5S2VlcEFsaXZlVmFsdWVTZWNzID0gNSAqIDYwO1xuXG4vKipcbiAqIERlZmF1bHRQdWJTdWJUb3BpYyBpcyB0aGUgZGVmYXVsdCBnb3NzaXBzdWIgdG9waWMgdG8gdXNlIGZvciBXYWt1LlxuICovXG5leHBvcnQgY29uc3QgRGVmYXVsdFB1YlN1YlRvcGljID0gJy93YWt1LzIvZGVmYXVsdC13YWt1L3Byb3RvJztcblxuY29uc3QgZGJnID0gZGVidWcoJ3dha3U6d2FrdScpO1xuXG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZU9wdGlvbnMge1xuICAvKipcbiAgICogVGhlIFB1YlN1YiBUb3BpYyB0byB1c2UuIERlZmF1bHRzIHRvIHtAbGluayBEZWZhdWx0UHViU3ViVG9waWN9LlxuICAgKlxuICAgKiBPbmUgYW5kIG9ubHkgb25lIHB1YnN1YiB0b3BpYyBpcyB1c2VkIGJ5IFdha3UuIFRoaXMgaXMgdXNlZCBieTpcbiAgICogLSBXYWt1UmVsYXkgdG8gcmVjZWl2ZSwgcm91dGUgYW5kIHNlbmQgbWVzc2FnZXMsXG4gICAqIC0gV2FrdUxpZ2h0UHVzaCB0byBzZW5kIG1lc3NhZ2VzLFxuICAgKiAtIFdha3VTdG9yZSB0byByZXRyaWV2ZSBtZXNzYWdlcy5cbiAgICpcbiAgICogVGhlIHVzYWdlIG9mIHRoZSBkZWZhdWx0IHB1YnN1YiB0b3BpYyBpcyByZWNvbW1lbmRlZC5cbiAgICogU2VlIFtXYWt1IHYyIFRvcGljIFVzYWdlIFJlY29tbWVuZGF0aW9uc10oaHR0cHM6Ly9yZmMudmFjLmRldi9zcGVjLzIzLykgZm9yIGRldGFpbHMuXG4gICAqXG4gICAqIEBkZWZhdWx0IHtAbGluayBEZWZhdWx0UHViU3ViVG9waWN9XG4gICAqL1xuICBwdWJTdWJUb3BpYz86IHN0cmluZztcbiAgLyoqXG4gICAqIFNldCBrZWVwIGFsaXZlIGZyZXF1ZW5jeSBpbiBzZWNvbmRzOiBXYWt1IHdpbGwgc2VuZCBhIGAvaXBmcy9waW5nLzEuMC4wYFxuICAgKiByZXF1ZXN0IHRvIGVhY2ggcGVlciBhZnRlciB0aGUgc2V0IG51bWJlciBvZiBzZWNvbmRzLiBTZXQgdG8gMCB0byBkaXNhYmxlLlxuICAgKlxuICAgKiBAZGVmYXVsdCB7QGxpbmsgRGVmYXVsdFBpbmdLZWVwQWxpdmVWYWx1ZVNlY3N9XG4gICAqL1xuICBwaW5nS2VlcEFsaXZlPzogbnVtYmVyO1xuICAvKipcbiAgICogU2V0IGtlZXAgYWxpdmUgZnJlcXVlbmN5IGluIHNlY29uZHM6IFdha3Ugd2lsbCBzZW5kIGEgcGluZyBtZXNzYWdlIG92ZXJcbiAgICogcmVsYXkgdG8gZWFjaCBwZWVyIGFmdGVyIHRoZSBzZXQgbnVtYmVyIG9mIHNlY29uZHMuIFNldCB0byAwIHRvIGRpc2FibGUuXG4gICAqXG4gICAqIEBkZWZhdWx0IHtAbGluayBEZWZhdWx0UmVsYXlLZWVwQWxpdmVWYWx1ZVNlY3N9XG4gICAqL1xuICByZWxheUtlZXBBbGl2ZT86IG51bWJlcjtcbiAgLyoqXG4gICAqIFlvdSBjYW4gcGFzcyBvcHRpb25zIHRvIHRoZSBgTGlicDJwYCBpbnN0YW5jZSB1c2VkIGJ5IHtAbGluayBXYWt1fSB1c2luZyB0aGUge0BsaW5rIENyZWF0ZU9wdGlvbnMubGlicDJwfSBwcm9wZXJ0eS5cbiAgICogVGhpcyBwcm9wZXJ0eSBpcyB0aGUgc2FtZSB0eXBlIHRoYW4gdGhlIG9uZSBwYXNzZWQgdG8gW2BMaWJwMnAuY3JlYXRlYF0oaHR0cHM6Ly9naXRodWIuY29tL2xpYnAycC9qcy1saWJwMnAvYmxvYi9tYXN0ZXIvZG9jL0FQSS5tZCNjcmVhdGUpXG4gICAqIGFwYXJ0IHRoYXQgd2UgbWFkZSB0aGUgYG1vZHVsZXNgIHByb3BlcnR5IG9wdGlvbmFsIGFuZCBwYXJ0aWFsLFxuICAgKiBhbGxvd2luZyBpdHMgb21pc3Npb24gYW5kIGxldHRpbmcgV2FrdSBzZXQgZ29vZCBkZWZhdWx0cy5cbiAgICogTm90ZXMgdGhhdCBzb21lIHZhbHVlcyBhcmUgb3ZlcnJpZGRlbiBieSB7QGxpbmsgV2FrdX0gdG8gZW5zdXJlIGl0IGltcGxlbWVudHMgdGhlIFdha3UgcHJvdG9jb2wuXG4gICAqL1xuICBsaWJwMnA/OiBPbWl0PExpYnAycE9wdGlvbnMgJiBpbXBvcnQoJ2xpYnAycCcpLkNyZWF0ZU9wdGlvbnMsICdtb2R1bGVzJz4gJiB7XG4gICAgbW9kdWxlcz86IFBhcnRpYWw8TGlicDJwTW9kdWxlcz47XG4gIH07XG4gIC8qKlxuICAgKiBCeXRlIGFycmF5IHVzZWQgYXMga2V5IGZvciB0aGUgbm9pc2UgcHJvdG9jb2wgdXNlZCBmb3IgY29ubmVjdGlvbiBlbmNyeXB0aW9uXG4gICAqIGJ5IFtgTGlicDJwLmNyZWF0ZWBdKGh0dHBzOi8vZ2l0aHViLmNvbS9saWJwMnAvanMtbGlicDJwL2Jsb2IvbWFzdGVyL2RvYy9BUEkubWQjY3JlYXRlKVxuICAgKiBUaGlzIGlzIG9ubHkgdXNlZCBmb3IgdGVzdCBwdXJwb3NlcyB0byBub3QgcnVuIG91dCBvZiBlbnRyb3B5IGR1cmluZyBDSSBydW5zLlxuICAgKi9cbiAgc3RhdGljTm9pc2VLZXk/OiBieXRlcztcbiAgLyoqXG4gICAqIFVzZSBsaWJwMnAtYm9vdHN0cmFwIHRvIGRpc2NvdmVyIGFuZCBjb25uZWN0IHRvIG5ldyBub2Rlcy5cbiAgICpcbiAgICogWW91IGNhbiBwYXNzOlxuICAgKiAtIGB0cnVlYCB0byB1c2Uge0BsaW5rIGdldEJvb3RzdHJhcE5vZGVzfSxcbiAgICogLSBhbiBhcnJheSBvZiBtdWx0aWFkZHJlc3NlcyxcbiAgICogLSBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBhcnJheSBvZiBtdWx0aWFkZHJlc3NlcyAob3IgUHJvbWlzZSBvZikuXG4gICAqXG4gICAqIE5vdGU6IEl0IG92ZXJyaWRlcyBhbnkgb3RoZXIgcGVlckRpc2NvdmVyeSBtb2R1bGVzIHRoYXQgbWF5IGhhdmUgYmVlbiBzZXQgdmlhXG4gICAqIHtAbGluayBDcmVhdGVPcHRpb25zLmxpYnAycH0uXG4gICAqL1xuICBib290c3RyYXA/OiBib29sZWFuIHwgc3RyaW5nW10gfCAoKCkgPT4gc3RyaW5nW10gfCBQcm9taXNlPHN0cmluZ1tdPik7XG4gIGRlY3J5cHRpb25LZXlzPzogQXJyYXk8VWludDhBcnJheSB8IHN0cmluZz47XG59XG5cbmV4cG9ydCBjbGFzcyBXYWt1IHtcbiAgcHVibGljIGxpYnAycDogTGlicDJwO1xuICBwdWJsaWMgcmVsYXk6IFdha3VSZWxheTtcbiAgcHVibGljIHN0b3JlOiBXYWt1U3RvcmU7XG4gIHB1YmxpYyBsaWdodFB1c2g6IFdha3VMaWdodFB1c2g7XG5cbiAgcHJpdmF0ZSBwaW5nS2VlcEFsaXZlVGltZXJzOiB7XG4gICAgW3BlZXI6IHN0cmluZ106IFJldHVyblR5cGU8dHlwZW9mIHNldEludGVydmFsPjtcbiAgfTtcbiAgcHJpdmF0ZSByZWxheUtlZXBBbGl2ZVRpbWVyczoge1xuICAgIFtwZWVyOiBzdHJpbmddOiBSZXR1cm5UeXBlPHR5cGVvZiBzZXRJbnRlcnZhbD47XG4gIH07XG5cbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcihcbiAgICBvcHRpb25zOiBDcmVhdGVPcHRpb25zLFxuICAgIGxpYnAycDogTGlicDJwLFxuICAgIHN0b3JlOiBXYWt1U3RvcmUsXG4gICAgbGlnaHRQdXNoOiBXYWt1TGlnaHRQdXNoXG4gICkge1xuICAgIHRoaXMubGlicDJwID0gbGlicDJwO1xuICAgIHRoaXMucmVsYXkgPSBsaWJwMnAucHVic3ViIGFzIHVua25vd24gYXMgV2FrdVJlbGF5O1xuICAgIHRoaXMuc3RvcmUgPSBzdG9yZTtcbiAgICB0aGlzLmxpZ2h0UHVzaCA9IGxpZ2h0UHVzaDtcbiAgICB0aGlzLnBpbmdLZWVwQWxpdmVUaW1lcnMgPSB7fTtcbiAgICB0aGlzLnJlbGF5S2VlcEFsaXZlVGltZXJzID0ge307XG5cbiAgICBjb25zdCBwaW5nS2VlcEFsaXZlID1cbiAgICAgIG9wdGlvbnMucGluZ0tlZXBBbGl2ZSB8fCBEZWZhdWx0UGluZ0tlZXBBbGl2ZVZhbHVlU2VjcztcbiAgICBjb25zdCByZWxheUtlZXBBbGl2ZSA9XG4gICAgICBvcHRpb25zLnJlbGF5S2VlcEFsaXZlIHx8IERlZmF1bHRSZWxheUtlZXBBbGl2ZVZhbHVlU2VjcztcblxuICAgIGxpYnAycC5jb25uZWN0aW9uTWFuYWdlci5vbigncGVlcjpjb25uZWN0JywgKGNvbm5lY3Rpb246IENvbm5lY3Rpb24pID0+IHtcbiAgICAgIHRoaXMuc3RhcnRLZWVwQWxpdmUoY29ubmVjdGlvbi5yZW1vdGVQZWVyLCBwaW5nS2VlcEFsaXZlLCByZWxheUtlZXBBbGl2ZSk7XG4gICAgfSk7XG5cbiAgICBsaWJwMnAuY29ubmVjdGlvbk1hbmFnZXIub24oJ3BlZXI6ZGlzY29ubmVjdCcsIChjb25uZWN0aW9uOiBDb25uZWN0aW9uKSA9PiB7XG4gICAgICB0aGlzLnN0b3BLZWVwQWxpdmUoY29ubmVjdGlvbi5yZW1vdGVQZWVyKTtcbiAgICB9KTtcblxuICAgIG9wdGlvbnM/LmRlY3J5cHRpb25LZXlzPy5mb3JFYWNoKHRoaXMuYWRkRGVjcnlwdGlvbktleSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIG5ldyB3YWt1IG5vZGVcbiAgICpcbiAgICogQHBhcmFtIG9wdGlvbnMgVGFrZXMgdGhlIHNhbWUgb3B0aW9ucyB0aGFuIGBMaWJwMnBgLlxuICAgKi9cbiAgc3RhdGljIGFzeW5jIGNyZWF0ZShvcHRpb25zPzogQ3JlYXRlT3B0aW9ucyk6IFByb21pc2U8V2FrdT4ge1xuICAgIC8vIEdldCBhbiBvYmplY3QgaW4gY2FzZSBvcHRpb25zIG9yIGxpYnAycCBhcmUgdW5kZWZpbmVkXG4gICAgY29uc3QgbGlicDJwT3B0cyA9IE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnM/LmxpYnAycCk7XG5cbiAgICAvLyBEZWZhdWx0IGZvciBXZWJzb2NrZXQgZmlsdGVyIGlzIGBhbGxgOlxuICAgIC8vIFJldHVybnMgYWxsIFRDUCBhbmQgRE5TIGJhc2VkIGFkZHJlc3NlcywgYm90aCB3aXRoIHdzIG9yIHdzcy5cbiAgICBsaWJwMnBPcHRzLmNvbmZpZyA9IE9iamVjdC5hc3NpZ24oXG4gICAgICB7XG4gICAgICAgIHRyYW5zcG9ydDoge1xuICAgICAgICAgIFt3ZWJzb2NrZXRzVHJhbnNwb3J0S2V5XToge1xuICAgICAgICAgICAgZmlsdGVyOiBmaWx0ZXJzLmFsbCxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIG9wdGlvbnM/LmxpYnAycD8uY29uZmlnXG4gICAgKTtcblxuICAgIC8vIFBhc3MgcHVic3ViIHRvcGljIHRvIHJlbGF5XG4gICAgaWYgKG9wdGlvbnM/LnB1YlN1YlRvcGljKSB7XG4gICAgICBsaWJwMnBPcHRzLmNvbmZpZy5wdWJzdWIgPSBPYmplY3QuYXNzaWduKFxuICAgICAgICB7IHB1YlN1YlRvcGljOiBvcHRpb25zLnB1YlN1YlRvcGljIH0sXG4gICAgICAgIGxpYnAycE9wdHMuY29uZmlnLnB1YnN1YlxuICAgICAgKTtcbiAgICB9XG5cbiAgICBsaWJwMnBPcHRzLm1vZHVsZXMgPSBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zPy5saWJwMnA/Lm1vZHVsZXMpO1xuXG4gICAgLy8gRGVmYXVsdCB0cmFuc3BvcnQgZm9yIGxpYnAycCBpcyBXZWJzb2NrZXRzXG4gICAgbGlicDJwT3B0cy5tb2R1bGVzID0gT2JqZWN0LmFzc2lnbihcbiAgICAgIHtcbiAgICAgICAgdHJhbnNwb3J0OiBbV2Vic29ja2V0c10sXG4gICAgICB9LFxuICAgICAgb3B0aW9ucz8ubGlicDJwPy5tb2R1bGVzXG4gICAgKTtcblxuICAgIC8vIHN0cmVhbU11eGVyLCBjb25uZWN0aW9uIGVuY3J5cHRpb24gYW5kIHB1YnN1YiBhcmUgb3ZlcnJpZGRlblxuICAgIC8vIGFzIHRob3NlIGFyZSB0aGUgb25seSBvbmVzIGN1cnJlbnRseSBzdXBwb3J0ZWQgYnkgV2FrdSBub2Rlcy5cbiAgICBsaWJwMnBPcHRzLm1vZHVsZXMgPSBPYmplY3QuYXNzaWduKGxpYnAycE9wdHMubW9kdWxlcywge1xuICAgICAgc3RyZWFtTXV4ZXI6IFtNcGxleF0sXG4gICAgICBjb25uRW5jcnlwdGlvbjogW25ldyBOb2lzZShvcHRpb25zPy5zdGF0aWNOb2lzZUtleSldLFxuICAgICAgcHVic3ViOiBXYWt1UmVsYXksXG4gICAgfSk7XG5cbiAgICBpZiAob3B0aW9ucz8uYm9vdHN0cmFwKSB7XG4gICAgICBsZXQgYm9vdHN0cmFwOiB1bmRlZmluZWQgfCAoKCkgPT4gc3RyaW5nW10gfCBQcm9taXNlPHN0cmluZ1tdPik7XG5cbiAgICAgIGlmIChvcHRpb25zLmJvb3RzdHJhcCA9PT0gdHJ1ZSkge1xuICAgICAgICBib290c3RyYXAgPSBnZXRCb290c3RyYXBOb2RlcztcbiAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShvcHRpb25zLmJvb3RzdHJhcCkpIHtcbiAgICAgICAgYm9vdHN0cmFwID0gKCk6IHN0cmluZ1tdID0+IHtcbiAgICAgICAgICByZXR1cm4gb3B0aW9ucy5ib290c3RyYXAgYXMgc3RyaW5nW107XG4gICAgICAgIH07XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zLmJvb3RzdHJhcCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBib290c3RyYXAgPSBvcHRpb25zLmJvb3RzdHJhcDtcbiAgICAgIH1cblxuICAgICAgaWYgKGJvb3RzdHJhcCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgbGlzdCA9IGF3YWl0IGJvb3RzdHJhcCgpO1xuXG4gICAgICAgICAgLy8gTm90ZTogdGhpcyBvdmVycmlkZXMgYW55IG90aGVyIHBlZXIgZGlzY292ZXJcbiAgICAgICAgICBsaWJwMnBPcHRzLm1vZHVsZXMgPSBPYmplY3QuYXNzaWduKGxpYnAycE9wdHMubW9kdWxlcywge1xuICAgICAgICAgICAgcGVlckRpc2NvdmVyeTogW0Jvb3RzdHJhcF0sXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBsaWJwMnBPcHRzLmNvbmZpZy5wZWVyRGlzY292ZXJ5ID0ge1xuICAgICAgICAgICAgW0Jvb3RzdHJhcC50YWddOiB7XG4gICAgICAgICAgICAgIGxpc3QsXG4gICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH07XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBkYmcoJ0ZhaWxlZCB0byByZXRyaWV2ZSBib290c3RyYXAgbm9kZXMnLCBlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWNvbW1lbnRcbiAgICAvLyBAdHMtaWdub3JlOiBtb2R1bGVzIHByb3BlcnR5IGlzIGNvcnJlY3RseSBzZXQgdGhhbmtzIHRvIHZvb2Rvb1xuICAgIGNvbnN0IGxpYnAycCA9IGF3YWl0IExpYnAycC5jcmVhdGUobGlicDJwT3B0cyk7XG5cbiAgICBjb25zdCB3YWt1U3RvcmUgPSBuZXcgV2FrdVN0b3JlKGxpYnAycCwge1xuICAgICAgcHViU3ViVG9waWM6IG9wdGlvbnM/LnB1YlN1YlRvcGljLFxuICAgIH0pO1xuICAgIGNvbnN0IHdha3VMaWdodFB1c2ggPSBuZXcgV2FrdUxpZ2h0UHVzaChsaWJwMnApO1xuXG4gICAgYXdhaXQgbGlicDJwLnN0YXJ0KCk7XG5cbiAgICByZXR1cm4gbmV3IFdha3Uob3B0aW9ucyA/IG9wdGlvbnMgOiB7fSwgbGlicDJwLCB3YWt1U3RvcmUsIHdha3VMaWdodFB1c2gpO1xuICB9XG5cbiAgLyoqXG4gICAqIERpYWxzIHRvIHRoZSBwcm92aWRlZCBwZWVyLlxuICAgKlxuICAgKiBAcGFyYW0gcGVlciBUaGUgcGVlciB0byBkaWFsXG4gICAqL1xuICBhc3luYyBkaWFsKHBlZXI6IFBlZXJJZCB8IE11bHRpYWRkciB8IHN0cmluZyk6IFByb21pc2U8e1xuICAgIHN0cmVhbTogTXV4ZWRTdHJlYW07XG4gICAgcHJvdG9jb2w6IHN0cmluZztcbiAgfT4ge1xuICAgIHJldHVybiB0aGlzLmxpYnAycC5kaWFsUHJvdG9jb2wocGVlciwgW1N0b3JlQ29kZWNdLmNvbmNhdChSZWxheUNvZGVjcykpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBwZWVyIHRvIGFkZHJlc3MgYm9vaywgaXQgd2lsbCBiZSBhdXRvLWRpYWxlZCBpbiB0aGUgYmFja2dyb3VuZC5cbiAgICovXG4gIGFkZFBlZXJUb0FkZHJlc3NCb29rKFxuICAgIHBlZXJJZDogUGVlcklkIHwgc3RyaW5nLFxuICAgIG11bHRpYWRkcnM6IE11bHRpYWRkcltdIHwgc3RyaW5nW11cbiAgKTogdm9pZCB7XG4gICAgbGV0IHBlZXI7XG4gICAgaWYgKHR5cGVvZiBwZWVySWQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBwZWVyID0gUGVlcklkLmNyZWF0ZUZyb21CNThTdHJpbmcocGVlcklkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGVlciA9IHBlZXJJZDtcbiAgICB9XG4gICAgY29uc3QgYWRkcmVzc2VzID0gbXVsdGlhZGRycy5tYXAoKGFkZHI6IE11bHRpYWRkciB8IHN0cmluZykgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBhZGRyID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gbXVsdGlhZGRyKGFkZHIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGFkZHI7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5saWJwMnAucGVlclN0b3JlLmFkZHJlc3NCb29rLnNldChwZWVyLCBhZGRyZXNzZXMpO1xuICB9XG5cbiAgYXN5bmMgc3RvcCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gdGhpcy5saWJwMnAuc3RvcCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVyIGEgZGVjcnlwdGlvbiBrZXkgdG8gYXR0ZW1wdCBkZWNyeXB0aW9uIG9mIG1lc3NhZ2VzIHJlY2VpdmVkIHZpYVxuICAgKiBbW1dha3VSZWxheV1dIGFuZCBbW1dha3VTdG9yZV1dLiBUaGlzIGNhbiBlaXRoZXIgYmUgYSBwcml2YXRlIGtleSBmb3JcbiAgICogYXN5bW1ldHJpYyBlbmNyeXB0aW9uIG9yIGEgc3ltbWV0cmljIGtleS5cbiAgICpcbiAgICogU3RyaW5ncyBtdXN0IGJlIGluIGhleCBmb3JtYXQuXG4gICAqL1xuICBhZGREZWNyeXB0aW9uS2V5KGtleTogVWludDhBcnJheSB8IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMucmVsYXkuYWRkRGVjcnlwdGlvbktleShrZXkpO1xuICAgIHRoaXMuc3RvcmUuYWRkRGVjcnlwdGlvbktleShrZXkpO1xuICB9XG5cbiAgLyoqXG4gICAqIERlbGV0ZSBhIGRlY3J5cHRpb24ga2V5IHRoYXQgd2FzIHVzZWQgdG8gYXR0ZW1wdCBkZWNyeXB0aW9uIG9mIG1lc3NhZ2VzXG4gICAqIHJlY2VpdmVkIHZpYSBbW1dha3VSZWxheV1dIG9yIFtbV2FrdVN0b3JlXV0uXG4gICAqXG4gICAqIFN0cmluZ3MgbXVzdCBiZSBpbiBoZXggZm9ybWF0LlxuICAgKi9cbiAgZGVsZXRlRGVjcnlwdGlvbktleShrZXk6IFVpbnQ4QXJyYXkgfCBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLnJlbGF5LmRlbGV0ZURlY3J5cHRpb25LZXkoa2V5KTtcbiAgICB0aGlzLnN0b3JlLmRlbGV0ZURlY3J5cHRpb25LZXkoa2V5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIGxvY2FsIG11bHRpYWRkciB3aXRoIHBlZXIgaWQgb24gd2hpY2ggbGlicDJwIGlzIGxpc3RlbmluZy5cbiAgICogQHRocm93cyBpZiBsaWJwMnAgaXMgbm90IGxpc3RlbmluZyBvbiBsb2NhbGhvc3RcbiAgICovXG4gIGdldExvY2FsTXVsdGlhZGRyV2l0aElEKCk6IHN0cmluZyB7XG4gICAgY29uc3QgbG9jYWxNdWx0aWFkZHIgPSB0aGlzLmxpYnAycC5tdWx0aWFkZHJzLmZpbmQoKGFkZHIpID0+XG4gICAgICBhZGRyLnRvU3RyaW5nKCkubWF0Y2goLzEyN1xcLjBcXC4wXFwuMS8pXG4gICAgKTtcbiAgICBpZiAoIWxvY2FsTXVsdGlhZGRyIHx8IGxvY2FsTXVsdGlhZGRyLnRvU3RyaW5nKCkgPT09ICcnKSB7XG4gICAgICB0aHJvdyAnTm90IGxpc3RlbmluZyBvbiBsb2NhbGhvc3QnO1xuICAgIH1cbiAgICByZXR1cm4gbG9jYWxNdWx0aWFkZHIgKyAnL3AycC8nICsgdGhpcy5saWJwMnAucGVlcklkLnRvQjU4U3RyaW5nKCk7XG4gIH1cblxuICAvKipcbiAgICogV2FpdCB0byBiZSBjb25uZWN0ZWQgdG8gYSBwZWVyLiBVc2VmdWwgd2hlbiB1c2luZyB0aGUgW1tDcmVhdGVPcHRpb25zLmJvb3RzdHJhcF1dXG4gICAqIHdpdGggW1tXYWt1LmNyZWF0ZV1dLiBUaGUgUHJvbWlzZSByZXNvbHZlcyBvbmx5IG9uY2Ugd2UgYXJlIGNvbm5lY3RlZCB0byBhXG4gICAqIFN0b3JlIHBlZXIsIFJlbGF5IHBlZXIgYW5kIExpZ2h0IFB1c2ggcGVlci5cbiAgICovXG4gIGFzeW5jIHdhaXRGb3JDb25uZWN0ZWRQZWVyKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGRlc2lyZWRQcm90b2NvbHMgPSBbW1N0b3JlQ29kZWNdLCBbTGlnaHRQdXNoQ29kZWNdLCBSZWxheUNvZGVjc107XG5cbiAgICBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgIGRlc2lyZWRQcm90b2NvbHMubWFwKChkZXNpcmVkUHJvdG9jb2xWZXJzaW9ucykgPT4ge1xuICAgICAgICBjb25zdCBwZWVycyA9IG5ldyBBcnJheTxQZWVyPigpO1xuICAgICAgICBkZXNpcmVkUHJvdG9jb2xWZXJzaW9ucy5mb3JFYWNoKChwcm90bykgPT4ge1xuICAgICAgICAgIGdldFBlZXJzRm9yUHJvdG9jb2wodGhpcy5saWJwMnAsIHByb3RvKS5mb3JFYWNoKChwZWVyKSA9PlxuICAgICAgICAgICAgcGVlcnMucHVzaChwZWVyKVxuICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChwZWVycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIE5vIHBlZXIgYXZhaWxhYmxlIGZvciB0aGlzIHByb3RvY29sLCB3YWl0aW5nIHRvIGNvbm5lY3QgdG8gb25lLlxuICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5saWJwMnAucGVlclN0b3JlLm9uKFxuICAgICAgICAgICAgICAnY2hhbmdlOnByb3RvY29scycsXG4gICAgICAgICAgICAgICh7IHByb3RvY29sczogY29ubmVjdGVkUGVlclByb3RvY29scyB9KSA9PiB7XG4gICAgICAgICAgICAgICAgZGVzaXJlZFByb3RvY29sVmVyc2lvbnMuZm9yRWFjaCgoZGVzaXJlZFByb3RvKSA9PiB7XG4gICAgICAgICAgICAgICAgICBpZiAoY29ubmVjdGVkUGVlclByb3RvY29scy5pbmNsdWRlcyhkZXNpcmVkUHJvdG8pKSB7XG4gICAgICAgICAgICAgICAgICAgIGRiZygnUmVzb2x2aW5nIGZvcicsIGRlc2lyZWRQcm90bywgY29ubmVjdGVkUGVlclByb3RvY29scyk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBzdGFydEtlZXBBbGl2ZShcbiAgICBwZWVySWQ6IFBlZXJJZCxcbiAgICBwaW5nUGVyaW9kU2VjczogbnVtYmVyLFxuICAgIHJlbGF5UGVyaW9kU2VjczogbnVtYmVyXG4gICk6IHZvaWQge1xuICAgIC8vIEp1c3QgaW4gY2FzZSBhIHRpbWVyIGFscmVhZHkgZXhpc3QgZm9yIHRoaXMgcGVlclxuICAgIHRoaXMuc3RvcEtlZXBBbGl2ZShwZWVySWQpO1xuXG4gICAgY29uc3QgcGVlcklkU3RyID0gcGVlcklkLnRvQjU4U3RyaW5nKCk7XG5cbiAgICBpZiAocGluZ1BlcmlvZFNlY3MgIT09IDApIHtcbiAgICAgIHRoaXMucGluZ0tlZXBBbGl2ZVRpbWVyc1twZWVySWRTdHJdID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICBQaW5nKHRoaXMubGlicDJwLCBwZWVySWQpO1xuICAgICAgfSwgcGluZ1BlcmlvZFNlY3MgKiAxMDAwKTtcbiAgICB9XG5cbiAgICBpZiAocmVsYXlQZXJpb2RTZWNzICE9PSAwKSB7XG4gICAgICB0aGlzLnJlbGF5S2VlcEFsaXZlVGltZXJzW3BlZXJJZFN0cl0gPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgIFdha3VNZXNzYWdlLmZyb21CeXRlcyhuZXcgVWludDhBcnJheSgpLCBSZWxheVBpbmdDb250ZW50VG9waWMpLnRoZW4oXG4gICAgICAgICAgKHdha3VNc2cpID0+IHRoaXMucmVsYXkuc2VuZCh3YWt1TXNnKVxuICAgICAgICApO1xuICAgICAgfSwgcmVsYXlQZXJpb2RTZWNzICogMTAwMCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzdG9wS2VlcEFsaXZlKHBlZXJJZDogUGVlcklkKTogdm9pZCB7XG4gICAgY29uc3QgcGVlcklkU3RyID0gcGVlcklkLnRvQjU4U3RyaW5nKCk7XG5cbiAgICBpZiAodGhpcy5waW5nS2VlcEFsaXZlVGltZXJzW3BlZXJJZFN0cl0pIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5waW5nS2VlcEFsaXZlVGltZXJzW3BlZXJJZFN0cl0pO1xuICAgICAgZGVsZXRlIHRoaXMucGluZ0tlZXBBbGl2ZVRpbWVyc1twZWVySWRTdHJdO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnJlbGF5S2VlcEFsaXZlVGltZXJzW3BlZXJJZFN0cl0pIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5yZWxheUtlZXBBbGl2ZVRpbWVyc1twZWVySWRTdHJdKTtcbiAgICAgIGRlbGV0ZSB0aGlzLnJlbGF5S2VlcEFsaXZlVGltZXJzW3BlZXJJZFN0cl07XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgY29uY2F0IGZyb20gJ2l0LWNvbmNhdCc7XG5pbXBvcnQgbHAgZnJvbSAnaXQtbGVuZ3RoLXByZWZpeGVkJztcbmltcG9ydCBwaXBlIGZyb20gJ2l0LXBpcGUnO1xuaW1wb3J0IExpYnAycCBmcm9tICdsaWJwMnAnO1xuaW1wb3J0IHsgUGVlciB9IGZyb20gJ2xpYnAycC9zcmMvcGVlci1zdG9yZSc7XG5pbXBvcnQgUGVlcklkIGZyb20gJ3BlZXItaWQnO1xuXG5pbXBvcnQgeyBQdXNoUmVzcG9uc2UgfSBmcm9tICcuLi8uLi9wcm90by93YWt1L3YyL2xpZ2h0X3B1c2gnO1xuaW1wb3J0IHsgZ2V0UGVlcnNGb3JQcm90b2NvbCwgc2VsZWN0UmFuZG9tUGVlciB9IGZyb20gJy4uL3NlbGVjdF9wZWVyJztcbmltcG9ydCB7IERlZmF1bHRQdWJTdWJUb3BpYyB9IGZyb20gJy4uL3dha3UnO1xuaW1wb3J0IHsgV2FrdU1lc3NhZ2UgfSBmcm9tICcuLi93YWt1X21lc3NhZ2UnO1xuXG5pbXBvcnQgeyBQdXNoUlBDIH0gZnJvbSAnLi9wdXNoX3JwYyc7XG5cbmV4cG9ydCBjb25zdCBMaWdodFB1c2hDb2RlYyA9ICcvdmFjL3dha3UvbGlnaHRwdXNoLzIuMC4wLWJldGExJztcbmV4cG9ydCB7IFB1c2hSZXNwb25zZSB9O1xuXG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZU9wdGlvbnMge1xuICAvKipcbiAgICogVGhlIFB1YlN1YiBUb3BpYyB0byB1c2UuIERlZmF1bHRzIHRvIHtAbGluayBEZWZhdWx0UHViU3ViVG9waWN9LlxuICAgKlxuICAgKiBUaGUgdXNhZ2Ugb2YgdGhlIGRlZmF1bHQgcHVic3ViIHRvcGljIGlzIHJlY29tbWVuZGVkLlxuICAgKiBTZWUgW1dha3UgdjIgVG9waWMgVXNhZ2UgUmVjb21tZW5kYXRpb25zXShodHRwczovL3JmYy52YWMuZGV2L3NwZWMvMjMvKSBmb3IgZGV0YWlscy5cbiAgICpcbiAgICogQGRlZmF1bHQge0BsaW5rIERlZmF1bHRQdWJTdWJUb3BpY31cbiAgICovXG4gIHB1YlN1YlRvcGljPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFB1c2hPcHRpb25zIHtcbiAgcGVlcklkPzogUGVlcklkO1xuICBwdWJTdWJUb3BpYz86IHN0cmluZztcbn1cblxuLyoqXG4gKiBJbXBsZW1lbnRzIHRoZSBbV2FrdSB2MiBMaWdodCBQdXNoIHByb3RvY29sXShodHRwczovL3JmYy52YWMuZGV2L3NwZWMvMTkvKS5cbiAqL1xuZXhwb3J0IGNsYXNzIFdha3VMaWdodFB1c2gge1xuICBwdWJTdWJUb3BpYzogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBsaWJwMnA6IExpYnAycCwgb3B0aW9ucz86IENyZWF0ZU9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucz8ucHViU3ViVG9waWMpIHtcbiAgICAgIHRoaXMucHViU3ViVG9waWMgPSBvcHRpb25zLnB1YlN1YlRvcGljO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnB1YlN1YlRvcGljID0gRGVmYXVsdFB1YlN1YlRvcGljO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHB1c2goXG4gICAgbWVzc2FnZTogV2FrdU1lc3NhZ2UsXG4gICAgb3B0cz86IFB1c2hPcHRpb25zXG4gICk6IFByb21pc2U8UHVzaFJlc3BvbnNlIHwgbnVsbD4ge1xuICAgIGxldCBwZWVyO1xuICAgIGlmIChvcHRzPy5wZWVySWQpIHtcbiAgICAgIHBlZXIgPSB0aGlzLmxpYnAycC5wZWVyU3RvcmUuZ2V0KG9wdHMucGVlcklkKTtcbiAgICAgIGlmICghcGVlcikgdGhyb3cgJ1BlZXIgaXMgdW5rbm93bic7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZXIgPSB0aGlzLnJhbmRvbVBlZXI7XG4gICAgfVxuICAgIGlmICghcGVlcikgdGhyb3cgJ05vIHBlZXIgYXZhaWxhYmxlJztcbiAgICBpZiAoIXBlZXIucHJvdG9jb2xzLmluY2x1ZGVzKExpZ2h0UHVzaENvZGVjKSlcbiAgICAgIHRocm93ICdQZWVyIGRvZXMgbm90IHJlZ2lzdGVyIHdha3UgbGlnaHQgcHVzaCBwcm90b2NvbCc7XG5cbiAgICBjb25zdCBjb25uZWN0aW9uID0gdGhpcy5saWJwMnAuY29ubmVjdGlvbk1hbmFnZXIuZ2V0KHBlZXIuaWQpO1xuICAgIGlmICghY29ubmVjdGlvbikgdGhyb3cgJ0ZhaWxlZCB0byBnZXQgYSBjb25uZWN0aW9uIHRvIHRoZSBwZWVyJztcblxuICAgIGNvbnN0IHsgc3RyZWFtIH0gPSBhd2FpdCBjb25uZWN0aW9uLm5ld1N0cmVhbShMaWdodFB1c2hDb2RlYyk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHB1YlN1YlRvcGljID0gb3B0cz8ucHViU3ViVG9waWNcbiAgICAgICAgPyBvcHRzLnB1YlN1YlRvcGljXG4gICAgICAgIDogdGhpcy5wdWJTdWJUb3BpYztcbiAgICAgIGNvbnN0IHF1ZXJ5ID0gUHVzaFJQQy5jcmVhdGVSZXF1ZXN0KG1lc3NhZ2UsIHB1YlN1YlRvcGljKTtcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHBpcGUoXG4gICAgICAgIFtxdWVyeS5lbmNvZGUoKV0sXG4gICAgICAgIGxwLmVuY29kZSgpLFxuICAgICAgICBzdHJlYW0sXG4gICAgICAgIGxwLmRlY29kZSgpLFxuICAgICAgICBjb25jYXRcbiAgICAgICk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IFB1c2hSUEMuZGVjb2RlKHJlcy5zbGljZSgpKS5yZXNwb25zZTtcblxuICAgICAgICBpZiAoIXJlc3BvbnNlKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ05vIHJlc3BvbnNlIGluIFB1c2hSUEMnKTtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZygnRmFpbGVkIHRvIGRlY29kZSBwdXNoIHJlcGx5JywgZXJyKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdGYWlsZWQgdG8gc2VuZCB3YWt1IGxpZ2h0IHB1c2ggcmVxdWVzdCcsIGVycik7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMga25vd24gcGVlcnMgZnJvbSB0aGUgYWRkcmVzcyBib29rIChgbGlicDJwLnBlZXJTdG9yZWApIHRoYXQgc3VwcG9ydFxuICAgKiBsaWdodCBwdXNoIHByb3RvY29sLiBXYWt1IG1heSBvciAgbWF5IG5vdCBiZSBjdXJyZW50bHkgY29ubmVjdGVkIHRvIHRoZXNlIHBlZXJzLlxuICAgKi9cbiAgZ2V0IHBlZXJzKCk6IFBlZXJbXSB7XG4gICAgcmV0dXJuIGdldFBlZXJzRm9yUHJvdG9jb2wodGhpcy5saWJwMnAsIExpZ2h0UHVzaENvZGVjKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgcmFuZG9tIHBlZXIgdGhhdCBzdXBwb3J0cyBsaWdodCBwdXNoIHByb3RvY29sIGZyb20gdGhlIGFkZHJlc3NcbiAgICogYm9vayAoYGxpYnAycC5wZWVyU3RvcmVgKS4gV2FrdSBtYXkgb3IgIG1heSBub3QgYmUgY3VycmVudGx5IGNvbm5lY3RlZCB0b1xuICAgKiB0aGlzIHBlZXIuXG4gICAqL1xuICBnZXQgcmFuZG9tUGVlcigpOiBQZWVyIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gc2VsZWN0UmFuZG9tUGVlcih0aGlzLnBlZXJzKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgUmVhZGVyIH0gZnJvbSAncHJvdG9idWZqcy9taW5pbWFsJztcbmltcG9ydCB7IHY0IGFzIHV1aWQgfSBmcm9tICd1dWlkJztcblxuaW1wb3J0ICogYXMgcHJvdG8gZnJvbSAnLi4vLi4vcHJvdG8vd2FrdS92Mi9saWdodF9wdXNoJztcbmltcG9ydCB7IFdha3VNZXNzYWdlIH0gZnJvbSAnLi4vd2FrdV9tZXNzYWdlJztcblxuZXhwb3J0IGNsYXNzIFB1c2hSUEMge1xuICBwdWJsaWMgY29uc3RydWN0b3IocHVibGljIHByb3RvOiBwcm90by5QdXNoUlBDKSB7fVxuXG4gIHN0YXRpYyBjcmVhdGVSZXF1ZXN0KG1lc3NhZ2U6IFdha3VNZXNzYWdlLCBwdWJTdWJUb3BpYzogc3RyaW5nKTogUHVzaFJQQyB7XG4gICAgcmV0dXJuIG5ldyBQdXNoUlBDKHtcbiAgICAgIHJlcXVlc3RJZDogdXVpZCgpLFxuICAgICAgcmVxdWVzdDoge1xuICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLnByb3RvLFxuICAgICAgICBwdWJTdWJUb3BpYzogcHViU3ViVG9waWMsXG4gICAgICB9LFxuICAgICAgcmVzcG9uc2U6IHVuZGVmaW5lZCxcbiAgICB9KTtcbiAgfVxuXG4gIHN0YXRpYyBkZWNvZGUoYnl0ZXM6IFVpbnQ4QXJyYXkpOiBQdXNoUlBDIHtcbiAgICBjb25zdCByZXMgPSBwcm90by5QdXNoUlBDLmRlY29kZShSZWFkZXIuY3JlYXRlKGJ5dGVzKSk7XG4gICAgcmV0dXJuIG5ldyBQdXNoUlBDKHJlcyk7XG4gIH1cblxuICBlbmNvZGUoKTogVWludDhBcnJheSB7XG4gICAgcmV0dXJuIHByb3RvLlB1c2hSUEMuZW5jb2RlKHRoaXMucHJvdG8pLmZpbmlzaCgpO1xuICB9XG5cbiAgZ2V0IHF1ZXJ5KCk6IHByb3RvLlB1c2hSZXF1ZXN0IHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5wcm90by5yZXF1ZXN0O1xuICB9XG5cbiAgZ2V0IHJlc3BvbnNlKCk6IHByb3RvLlB1c2hSZXNwb25zZSB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMucHJvdG8ucmVzcG9uc2U7XG4gIH1cbn1cbiIsIi8vIEVuc3VyZSB0aGF0IHRoaXMgY2xhc3MgbWF0Y2hlcyB0aGUgcHJvdG8gaW50ZXJmYWNlIHdoaWxlXG5pbXBvcnQgeyBCdWZmZXIgfSBmcm9tICdidWZmZXInO1xuXG5pbXBvcnQgZGVidWcgZnJvbSAnZGVidWcnO1xuaW1wb3J0IHsgUmVhZGVyIH0gZnJvbSAncHJvdG9idWZqcy9taW5pbWFsJztcblxuLy8gUHJvdGVjdGluZyB0aGUgdXNlciBmcm9tIHByb3RvYnVmIG9kZGl0aWVzXG5pbXBvcnQgKiBhcyBwcm90byBmcm9tICcuLi8uLi9wcm90by93YWt1L3YyL21lc3NhZ2UnO1xuXG5pbXBvcnQgKiBhcyB2ZXJzaW9uXzEgZnJvbSAnLi92ZXJzaW9uXzEnO1xuXG5jb25zdCBEZWZhdWx0VmVyc2lvbiA9IDA7XG5jb25zdCBkYmcgPSBkZWJ1Zygnd2FrdTptZXNzYWdlJyk7XG5cbmV4cG9ydCBpbnRlcmZhY2UgT3B0aW9ucyB7XG4gIC8qKlxuICAgKiBUaW1lc3RhbXAgdG8gc2V0IG9uIHRoZSBtZXNzYWdlLCBkZWZhdWx0cyB0byBub3cgaWYgbm90IHBhc3NlZC5cbiAgICovXG4gIHRpbWVzdGFtcD86IERhdGU7XG4gIC8qKlxuICAgKiBQdWJsaWMgS2V5IHRvIHVzZSB0byBlbmNyeXB0IHRoZSBtZXNzYWdlcyB1c2luZyBFQ0lFUyAoQXN5bW1ldHJpYyBFbmNyeXB0aW9uKS5cbiAgICpcbiAgICogQHRocm93cyBpZiBib3RoIGBlbmNQdWJsaWNLZXlgIGFuZCBgc3ltS2V5YCBhcmUgcGFzc2VkXG4gICAqL1xuICBlbmNQdWJsaWNLZXk/OiBVaW50OEFycmF5IHwgc3RyaW5nO1xuICAvKipcbiAgICogS2V5IHRvIHVzZSB0byBlbmNyeXB0IHRoZSBtZXNzYWdlcyB1c2luZyBBRVMgKFN5bW1ldHJpYyBFbmNyeXB0aW9uKS5cbiAgICpcbiAgICogQHRocm93cyBpZiBib3RoIGBlbmNQdWJsaWNLZXlgIGFuZCBgc3ltS2V5YCBhcmUgcGFzc2VkXG4gICAqL1xuICBzeW1LZXk/OiBVaW50OEFycmF5IHwgc3RyaW5nO1xuICAvKipcbiAgICogUHJpdmF0ZSBrZXkgdG8gdXNlIHRvIHNpZ24gdGhlIG1lc3NhZ2UsIGVpdGhlciBgZW5jUHVibGljS2V5YCBvciBgc3ltS2V5YCBtdXN0IGJlIHByb3ZpZGVkIGFzIG9ubHlcbiAgICogZW5jcnlwdGVkIG1lc3NhZ2VzIGFyZSBzaWduZWQuXG4gICAqL1xuICBzaWdQcml2S2V5PzogVWludDhBcnJheTtcbn1cblxuZXhwb3J0IGNsYXNzIFdha3VNZXNzYWdlIHtcbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcHJvdG86IHByb3RvLldha3VNZXNzYWdlLFxuICAgIHByaXZhdGUgX3NpZ25hdHVyZVB1YmxpY0tleT86IFVpbnQ4QXJyYXksXG4gICAgcHJpdmF0ZSBfc2lnbmF0dXJlPzogVWludDhBcnJheVxuICApIHt9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBNZXNzYWdlIHdpdGggYSB1dGYtOCBzdHJpbmcgYXMgcGF5bG9hZC5cbiAgICovXG4gIHN0YXRpYyBhc3luYyBmcm9tVXRmOFN0cmluZyhcbiAgICB1dGY4OiBzdHJpbmcsXG4gICAgY29udGVudFRvcGljOiBzdHJpbmcsXG4gICAgb3B0cz86IE9wdGlvbnNcbiAgKTogUHJvbWlzZTxXYWt1TWVzc2FnZT4ge1xuICAgIGNvbnN0IHBheWxvYWQgPSBCdWZmZXIuZnJvbSh1dGY4LCAndXRmLTgnKTtcbiAgICByZXR1cm4gV2FrdU1lc3NhZ2UuZnJvbUJ5dGVzKHBheWxvYWQsIGNvbnRlbnRUb3BpYywgb3B0cyk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgV2FrdSBNZXNzYWdlIHdpdGggdGhlIGdpdmVuIHBheWxvYWQuXG4gICAqXG4gICAqIEJ5IGRlZmF1bHQsIHRoZSBwYXlsb2FkIGlzIGtlcHQgY2xlYXIgKHZlcnNpb24gMCkuXG4gICAqIElmIGBvcHRzLmVuY1B1YmxpY0tleWAgaXMgcGFzc2VkLCB0aGUgcGF5bG9hZCBpcyBlbmNyeXB0ZWQgdXNpbmdcbiAgICogYXN5bW1ldHJpYyBlbmNyeXB0aW9uICh2ZXJzaW9uIDEpLlxuICAgKlxuICAgKiBJZiBgb3B0cy5zaWdQcml2S2V5YCBpcyBwYXNzZWQgYW5kIHZlcnNpb24gMSBpcyB1c2VkLCB0aGUgcGF5bG9hZCBpcyBzaWduZWRcbiAgICogYmVmb3JlIGVuY3J5cHRpb24uXG4gICAqXG4gICAqIEB0aHJvd3MgaWYgYm90aCBgb3B0cy5lbmNQdWJsaWNLZXlgIGFuZCBgb3B0LnN5bUtleWAgYXJlIHBhc3NlZFxuICAgKi9cbiAgc3RhdGljIGFzeW5jIGZyb21CeXRlcyhcbiAgICBwYXlsb2FkOiBVaW50OEFycmF5LFxuICAgIGNvbnRlbnRUb3BpYzogc3RyaW5nLFxuICAgIG9wdHM/OiBPcHRpb25zXG4gICk6IFByb21pc2U8V2FrdU1lc3NhZ2U+IHtcbiAgICBjb25zdCB7IHRpbWVzdGFtcCwgZW5jUHVibGljS2V5LCBzeW1LZXksIHNpZ1ByaXZLZXkgfSA9IE9iamVjdC5hc3NpZ24oXG4gICAgICB7IHRpbWVzdGFtcDogbmV3IERhdGUoKSB9LFxuICAgICAgb3B0cyA/IG9wdHMgOiB7fVxuICAgICk7XG5cbiAgICBsZXQgX3BheWxvYWQgPSBwYXlsb2FkO1xuICAgIGxldCB2ZXJzaW9uID0gRGVmYXVsdFZlcnNpb247XG4gICAgbGV0IHNpZztcblxuICAgIGlmIChlbmNQdWJsaWNLZXkgJiYgc3ltS2V5KSB7XG4gICAgICB0aHJvdyAnUGFzcyBlaXRoZXIgYGVuY1B1YmxpY0tleWAgb3IgYHN5bUtleWAsIG5vdCBib3RoLic7XG4gICAgfVxuXG4gICAgaWYgKGVuY1B1YmxpY0tleSkge1xuICAgICAgY29uc3QgZW5jID0gdmVyc2lvbl8xLmNsZWFyRW5jb2RlKF9wYXlsb2FkLCBzaWdQcml2S2V5KTtcbiAgICAgIF9wYXlsb2FkID0gYXdhaXQgdmVyc2lvbl8xLmVuY3J5cHRBc3ltbWV0cmljKGVuYy5wYXlsb2FkLCBlbmNQdWJsaWNLZXkpO1xuICAgICAgc2lnID0gZW5jLnNpZztcbiAgICAgIHZlcnNpb24gPSAxO1xuICAgIH0gZWxzZSBpZiAoc3ltS2V5KSB7XG4gICAgICBjb25zdCBlbmMgPSB2ZXJzaW9uXzEuY2xlYXJFbmNvZGUoX3BheWxvYWQsIHNpZ1ByaXZLZXkpO1xuICAgICAgX3BheWxvYWQgPSBhd2FpdCB2ZXJzaW9uXzEuZW5jcnlwdFN5bW1ldHJpYyhlbmMucGF5bG9hZCwgc3ltS2V5KTtcbiAgICAgIHNpZyA9IGVuYy5zaWc7XG4gICAgICB2ZXJzaW9uID0gMTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFdha3VNZXNzYWdlKFxuICAgICAge1xuICAgICAgICBwYXlsb2FkOiBfcGF5bG9hZCxcbiAgICAgICAgdGltZXN0YW1wOiB0aW1lc3RhbXAudmFsdWVPZigpIC8gMTAwMCxcbiAgICAgICAgdmVyc2lvbixcbiAgICAgICAgY29udGVudFRvcGljLFxuICAgICAgfSxcbiAgICAgIHNpZz8ucHVibGljS2V5LFxuICAgICAgc2lnPy5zaWduYXR1cmVcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIERlY29kZSBhIGJ5dGUgYXJyYXkgaW50byBXYWt1IE1lc3NhZ2UuXG4gICAqXG4gICAqIEBwYXJhbXMgYnl0ZXMgVGhlIG1lc3NhZ2UgZW5jb2RlZCB1c2luZyBwcm90b2J1ZiBhcyBkZWZpbmVkIGluIFsxNC9XQUtVMi1NRVNTQUdFXShodHRwczovL3JmYy52YWMuZGV2L3NwZWMvMTQvKS5cbiAgICogQHBhcmFtcyBkZWNyeXB0aW9uS2V5cyBJZiB0aGUgcGF5bG9hZCBpcyBlbmNyeXB0ZWQgKHZlcnNpb24gPSAxKSwgdGhlbiB0aGVcbiAgICoga2V5cyBhcmUgdXNlZCB0byBhdHRlbXB0IGRlY3J5cHRpb24gb2YgdGhlIG1lc3NhZ2UuIFRoZSBwYXNzZWQga2V5IGNhbiBlaXRoZXJcbiAgICogYmUgYXN5bW1ldHJpYyBwcml2YXRlIGtleXMgb3Igc3ltbWV0cmljIGtleXMsIGJvdGggbWV0aG9kIGFyZSB0cmllZCBmb3IgZWFjaFxuICAgKiBrZXkgdW50aWwgdGhlIG1lc3NhZ2UgaXMgZGVjcnlwdGVkIG9yIGNvbWJpbmF0aW9ucyBhcmUgcmFuIG91dC5cbiAgICovXG4gIHN0YXRpYyBhc3luYyBkZWNvZGUoXG4gICAgYnl0ZXM6IFVpbnQ4QXJyYXksXG4gICAgZGVjcnlwdGlvbktleXM/OiBVaW50OEFycmF5W11cbiAgKTogUHJvbWlzZTxXYWt1TWVzc2FnZSB8IHVuZGVmaW5lZD4ge1xuICAgIGNvbnN0IHByb3RvQnVmID0gcHJvdG8uV2FrdU1lc3NhZ2UuZGVjb2RlKFJlYWRlci5jcmVhdGUoYnl0ZXMpKTtcblxuICAgIHJldHVybiBXYWt1TWVzc2FnZS5kZWNvZGVQcm90byhwcm90b0J1ZiwgZGVjcnlwdGlvbktleXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIERlY29kZSBhbmQgZGVjcnlwdCBXYWt1IE1lc3NhZ2UgUHJvdG9idWYgT2JqZWN0IGludG8gV2FrdSBNZXNzYWdlLlxuICAgKlxuICAgKiBAcGFyYW1zIHByb3RvQnVmIFRoZSBtZXNzYWdlIHRvIGRlY29kZSBhbmQgZGVjcnlwdC5cbiAgICogQHBhcmFtcyBkZWNyeXB0aW9uS2V5cyBJZiB0aGUgcGF5bG9hZCBpcyBlbmNyeXB0ZWQgKHZlcnNpb24gPSAxKSwgdGhlbiB0aGVcbiAgICoga2V5cyBhcmUgdXNlZCB0byBhdHRlbXB0IGRlY3J5cHRpb24gb2YgdGhlIG1lc3NhZ2UuIFRoZSBwYXNzZWQga2V5IGNhbiBlaXRoZXJcbiAgICogYmUgYXN5bW1ldHJpYyBwcml2YXRlIGtleXMgb3Igc3ltbWV0cmljIGtleXMsIGJvdGggbWV0aG9kIGFyZSB0cmllZCBmb3IgZWFjaFxuICAgKiBrZXkgdW50aWwgdGhlIG1lc3NhZ2UgaXMgZGVjcnlwdGVkIG9yIGNvbWJpbmF0aW9ucyBhcmUgcmFuIG91dC5cbiAgICovXG4gIHN0YXRpYyBhc3luYyBkZWNvZGVQcm90byhcbiAgICBwcm90b0J1ZjogcHJvdG8uV2FrdU1lc3NhZ2UsXG4gICAgZGVjcnlwdGlvbktleXM/OiBVaW50OEFycmF5W11cbiAgKTogUHJvbWlzZTxXYWt1TWVzc2FnZSB8IHVuZGVmaW5lZD4ge1xuICAgIGlmIChwcm90b0J1Zi5wYXlsb2FkID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGRiZygnUGF5bG9hZCBpcyB1bmRlZmluZWQnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcGF5bG9hZCA9IHByb3RvQnVmLnBheWxvYWQ7XG5cbiAgICBsZXQgc2lnbmF0dXJlUHVibGljS2V5O1xuICAgIGxldCBzaWduYXR1cmU7XG4gICAgaWYgKHByb3RvQnVmLnZlcnNpb24gPT09IDEgJiYgcHJvdG9CdWYucGF5bG9hZCkge1xuICAgICAgaWYgKGRlY3J5cHRpb25LZXlzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZGJnKCdQYXlsb2FkIGlzIGVuY3J5cHRlZCBidXQgbm8gcHJpdmF0ZSBrZXlzIGhhdmUgYmVlbiBwcm92aWRlZC4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBSZXR1cm5zIGEgYnVuY2ggb2YgYHVuZGVmaW5lZGAgYW5kIGhvcGVmdWxseSBvbmUgZGVjcnlwdGVkIHJlc3VsdFxuICAgICAgY29uc3QgYWxsUmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICBkZWNyeXB0aW9uS2V5cy5tYXAoYXN5bmMgKHByaXZhdGVLZXkpID0+IHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHZlcnNpb25fMS5kZWNyeXB0U3ltbWV0cmljKHBheWxvYWQsIHByaXZhdGVLZXkpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGRiZygnRmFpbGVkIHRvIGRlY3J5cHQgbWVzc2FnZSB1c2luZyBzeW1tZXRyaWMgZW5jcnlwdGlvbicsIGUpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHZlcnNpb25fMS5kZWNyeXB0QXN5bW1ldHJpYyhwYXlsb2FkLCBwcml2YXRlS2V5KTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgZGJnKCdGYWlsZWQgdG8gZGVjcnlwdCBtZXNzYWdlIHVzaW5nIGFzeW1tZXRyaWMgZW5jcnlwdGlvbicsIGUpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgY29uc3QgaXNEZWZpbmVkID0gKGRlYzogVWludDhBcnJheSB8IHVuZGVmaW5lZCk6IGRlYyBpcyBVaW50OEFycmF5ID0+IHtcbiAgICAgICAgcmV0dXJuICEhZGVjO1xuICAgICAgfTtcblxuICAgICAgY29uc3QgZGVjb2RlZFJlc3VsdHMgPSBhbGxSZXN1bHRzLmZpbHRlcihpc0RlZmluZWQpO1xuXG4gICAgICBpZiAoZGVjb2RlZFJlc3VsdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGRiZygnRmFpbGVkIHRvIGRlY3J5cHQgcGF5bG9hZC4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZGVjID0gZGVjb2RlZFJlc3VsdHNbMF07XG5cbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHZlcnNpb25fMS5jbGVhckRlY29kZShkZWMpO1xuICAgICAgaWYgKCFyZXMpIHtcbiAgICAgICAgZGJnKCdGYWlsZWQgdG8gZGVjb2RlIHBheWxvYWQuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIE9iamVjdC5hc3NpZ24ocHJvdG9CdWYsIHsgcGF5bG9hZDogcmVzLnBheWxvYWQgfSk7XG4gICAgICBzaWduYXR1cmVQdWJsaWNLZXkgPSByZXMuc2lnPy5wdWJsaWNLZXk7XG4gICAgICBzaWduYXR1cmUgPSByZXMuc2lnPy5zaWduYXR1cmU7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBXYWt1TWVzc2FnZShwcm90b0J1Ziwgc2lnbmF0dXJlUHVibGljS2V5LCBzaWduYXR1cmUpO1xuICB9XG5cbiAgZW5jb2RlKCk6IFVpbnQ4QXJyYXkge1xuICAgIHJldHVybiBwcm90by5XYWt1TWVzc2FnZS5lbmNvZGUodGhpcy5wcm90bykuZmluaXNoKCk7XG4gIH1cblxuICBnZXQgcGF5bG9hZEFzVXRmOCgpOiBzdHJpbmcge1xuICAgIGlmICghdGhpcy5wcm90by5wYXlsb2FkKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgcmV0dXJuIEJ1ZmZlci5mcm9tKHRoaXMucHJvdG8ucGF5bG9hZCkudG9TdHJpbmcoJ3V0Zi04Jyk7XG4gIH1cblxuICBnZXQgcGF5bG9hZCgpOiBVaW50OEFycmF5IHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5wcm90by5wYXlsb2FkO1xuICB9XG5cbiAgZ2V0IGNvbnRlbnRUb3BpYygpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLnByb3RvLmNvbnRlbnRUb3BpYztcbiAgfVxuXG4gIGdldCB2ZXJzaW9uKCk6IG51bWJlciB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMucHJvdG8udmVyc2lvbjtcbiAgfVxuXG4gIGdldCB0aW1lc3RhbXAoKTogRGF0ZSB8IHVuZGVmaW5lZCB7XG4gICAgaWYgKHRoaXMucHJvdG8udGltZXN0YW1wKSB7XG4gICAgICByZXR1cm4gbmV3IERhdGUodGhpcy5wcm90by50aW1lc3RhbXAgKiAxMDAwKTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBwdWJsaWMga2V5IHVzZWQgdG8gc2lnbiB0aGUgbWVzc2FnZS5cbiAgICpcbiAgICogTUFZIGJlIHByZXNlbnQgaWYgdGhlIG1lc3NhZ2UgaXMgdmVyc2lvbiAxLlxuICAgKi9cbiAgZ2V0IHNpZ25hdHVyZVB1YmxpY0tleSgpOiBVaW50OEFycmF5IHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5fc2lnbmF0dXJlUHVibGljS2V5O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBzaWduYXR1cmUgb2YgdGhlIG1lc3NhZ2UuXG4gICAqXG4gICAqIE1BWSBiZSBwcmVzZW50IGlmIHRoZSBtZXNzYWdlIGlzIHZlcnNpb24gMS5cbiAgICovXG4gIGdldCBzaWduYXR1cmUoKTogVWludDhBcnJheSB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMuX3NpZ25hdHVyZTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgSXZTaXplIH0gZnJvbSAnLi9pbmRleCc7XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIFdpbmRvdyB7XG4gICAgbXNDcnlwdG8/OiBDcnlwdG87XG4gIH1cbiAgaW50ZXJmYWNlIENyeXB0byB7XG4gICAgd2Via2l0U3VidGxlPzogU3VidGxlQ3J5cHRvO1xuICB9XG59XG5cbmNvbnN0IGNyeXB0byA9IHdpbmRvdy5jcnlwdG8gfHwgd2luZG93Lm1zQ3J5cHRvO1xuY29uc3Qgc3VidGxlOiBTdWJ0bGVDcnlwdG8gPSBjcnlwdG8uc3VidGxlIHx8IGNyeXB0by53ZWJraXRTdWJ0bGU7XG5cbmNvbnN0IEFsZ29yaXRobSA9IHsgbmFtZTogJ0FFUy1HQ00nLCBsZW5ndGg6IDEyOCB9O1xuXG5pZiAoc3VidGxlID09PSB1bmRlZmluZWQpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gbG9hZCBTdWJ0bGUgQ3J5cHRvQVBJJyk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBlbmNyeXB0KFxuICBpdjogQnVmZmVyIHwgVWludDhBcnJheSxcbiAga2V5OiBCdWZmZXIsXG4gIGNsZWFyVGV4dDogQnVmZmVyXG4pOiBQcm9taXNlPEJ1ZmZlcj4ge1xuICByZXR1cm4gc3VidGxlXG4gICAgLmltcG9ydEtleSgncmF3Jywga2V5LCBBbGdvcml0aG0sIGZhbHNlLCBbJ2VuY3J5cHQnXSlcbiAgICAudGhlbigoY3J5cHRvS2V5KSA9PlxuICAgICAgc3VidGxlLmVuY3J5cHQoeyBpdiwgLi4uQWxnb3JpdGhtIH0sIGNyeXB0b0tleSwgY2xlYXJUZXh0KVxuICAgIClcbiAgICAudGhlbihCdWZmZXIuZnJvbSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWNyeXB0KFxuICBpdjogQnVmZmVyLFxuICBrZXk6IEJ1ZmZlcixcbiAgY2lwaGVyVGV4dDogQnVmZmVyXG4pOiBQcm9taXNlPEJ1ZmZlcj4ge1xuICByZXR1cm4gc3VidGxlXG4gICAgLmltcG9ydEtleSgncmF3Jywga2V5LCBBbGdvcml0aG0sIGZhbHNlLCBbJ2RlY3J5cHQnXSlcbiAgICAudGhlbigoY3J5cHRvS2V5KSA9PlxuICAgICAgc3VidGxlLmRlY3J5cHQoeyBpdiwgLi4uQWxnb3JpdGhtIH0sIGNyeXB0b0tleSwgY2lwaGVyVGV4dClcbiAgICApXG4gICAgLnRoZW4oQnVmZmVyLmZyb20pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVJdigpOiBVaW50OEFycmF5IHtcbiAgY29uc3QgaXYgPSBuZXcgVWludDhBcnJheShJdlNpemUpO1xuICBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKGl2KTtcbiAgcmV0dXJuIGl2O1xufVxuIiwiZXhwb3J0IGNvbnN0IFN5bW1ldHJpY0tleVNpemUgPSAzMjtcbmV4cG9ydCBjb25zdCBJdlNpemUgPSAxMjtcbmV4cG9ydCBjb25zdCBUYWdTaXplID0gMTY7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3ltbWV0cmljIHtcbiAgLyoqXG4gICAqIFByb2NlZWQgd2l0aCBzeW1tZXRyaWMgZW5jcnlwdGlvbiBvZiBgY2xlYXJUZXh0YCB2YWx1ZS5cbiAgICovXG4gIGVuY3J5cHQ6IChcbiAgICBpdjogQnVmZmVyIHwgVWludDhBcnJheSxcbiAgICBrZXk6IEJ1ZmZlcixcbiAgICBjbGVhclRleHQ6IEJ1ZmZlclxuICApID0+IFByb21pc2U8QnVmZmVyPjtcbiAgLyoqXG4gICAqIFByb2NlZWQgd2l0aCBzeW1tZXRyaWMgZGVjcnlwdGlvbiBvZiBgY2lwaGVyVGV4dGAgdmFsdWUuXG4gICAqL1xuICBkZWNyeXB0OiAoaXY6IEJ1ZmZlciwga2V5OiBCdWZmZXIsIGNpcGhlclRleHQ6IEJ1ZmZlcikgPT4gUHJvbWlzZTxCdWZmZXI+O1xuICAvKipcbiAgICogR2VuZXJhdGUgYW4gSW5pdGlhbGl6YXRpb24gVmVjdG9yIChpdikgZm9yIGZvciBTeW1tZXRyaWMgZW5jcnlwdGlvbiBwdXJwb3Nlcy5cbiAgICovXG4gIGdlbmVyYXRlSXY6ICgpID0+IFVpbnQ4QXJyYXk7XG59XG5cbmV4cG9ydCBsZXQgc3ltbWV0cmljOiBTeW1tZXRyaWMgPSB7fSBhcyB1bmtub3duIGFzIFN5bW1ldHJpYztcblxuaW1wb3J0KCcuL2Jyb3dzZXInKVxuICAudGhlbigobW9kKSA9PiB7XG4gICAgc3ltbWV0cmljID0gbW9kO1xuICB9KVxuICAuY2F0Y2goKGVCcm93c2VyKSA9PiB7XG4gICAgaW1wb3J0KCcuL25vZGUnKVxuICAgICAgLnRoZW4oKG1vZCkgPT4ge1xuICAgICAgICBzeW1tZXRyaWMgPSBtb2Q7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlTm9kZSkgPT4ge1xuICAgICAgICB0aHJvdyBgQ291bGQgbm90IGxvYWQgYW55IHN5bW1ldHJpYyBjcnlwdG8gbW9kdWxlczogJHtlQnJvd3Nlcn0sICR7ZU5vZGV9YDtcbiAgICAgIH0pO1xuICB9KTtcbiIsImltcG9ydCB7IGNyZWF0ZUNpcGhlcml2LCBjcmVhdGVEZWNpcGhlcml2LCByYW5kb21CeXRlcyB9IGZyb20gJ2NyeXB0byc7XG5cbmltcG9ydCB7IEl2U2l6ZSwgVGFnU2l6ZSB9IGZyb20gJy4vaW5kZXgnO1xuXG5jb25zdCBBbGdvcml0aG0gPSAnYWVzLTI1Ni1nY20nO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZW5jcnlwdChcbiAgaXY6IEJ1ZmZlciB8IFVpbnQ4QXJyYXksXG4gIGtleTogQnVmZmVyLFxuICBjbGVhclRleHQ6IEJ1ZmZlclxuKTogUHJvbWlzZTxCdWZmZXI+IHtcbiAgY29uc3QgY2lwaGVyID0gY3JlYXRlQ2lwaGVyaXYoQWxnb3JpdGhtLCBrZXksIGl2KTtcbiAgY29uc3QgYSA9IGNpcGhlci51cGRhdGUoY2xlYXJUZXh0KTtcbiAgY29uc3QgYiA9IGNpcGhlci5maW5hbCgpO1xuICBjb25zdCB0YWcgPSBjaXBoZXIuZ2V0QXV0aFRhZygpO1xuICByZXR1cm4gQnVmZmVyLmNvbmNhdChbYSwgYiwgdGFnXSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWNyeXB0KFxuICBpdjogQnVmZmVyLFxuICBrZXk6IEJ1ZmZlcixcbiAgZGF0YTogQnVmZmVyXG4pOiBQcm9taXNlPEJ1ZmZlcj4ge1xuICBjb25zdCB0YWdTdGFydCA9IGRhdGEubGVuZ3RoIC0gVGFnU2l6ZTtcbiAgY29uc3QgY2lwaGVyVGV4dCA9IGRhdGEuc2xpY2UoMCwgdGFnU3RhcnQpO1xuICBjb25zdCB0YWcgPSBkYXRhLnNsaWNlKHRhZ1N0YXJ0KTtcbiAgY29uc3QgZGVjaXBoZXIgPSBjcmVhdGVEZWNpcGhlcml2KEFsZ29yaXRobSwga2V5LCBpdik7XG4gIGRlY2lwaGVyLnNldEF1dGhUYWcodGFnKTtcbiAgY29uc3QgYSA9IGRlY2lwaGVyLnVwZGF0ZShjaXBoZXJUZXh0KTtcbiAgY29uc3QgYiA9IGRlY2lwaGVyLmZpbmFsKCk7XG4gIHJldHVybiBCdWZmZXIuY29uY2F0KFthLCBiXSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZUl2KCk6IEJ1ZmZlciB7XG4gIHJldHVybiByYW5kb21CeXRlcyhJdlNpemUpO1xufVxuIiwiaW1wb3J0IHsgQnVmZmVyIH0gZnJvbSAnYnVmZmVyJztcbmltcG9ydCAqIGFzIGNyeXB0byBmcm9tICdjcnlwdG8nO1xuXG5pbXBvcnQgKiBhcyBlY2llcyBmcm9tICdlY2llcy1nZXRoJztcbmltcG9ydCB7IGtlY2NhazI1NiB9IGZyb20gJ2pzLXNoYTMnO1xuaW1wb3J0ICogYXMgc2VjcDI1NmsxIGZyb20gJ3NlY3AyNTZrMSc7XG5cbmltcG9ydCB7IGhleFRvQnVmIH0gZnJvbSAnLi4vdXRpbHMnO1xuXG5pbXBvcnQgeyBJdlNpemUsIHN5bW1ldHJpYywgU3ltbWV0cmljS2V5U2l6ZSB9IGZyb20gJy4vc3ltbWV0cmljJztcblxuY29uc3QgRmxhZ3NMZW5ndGggPSAxO1xuY29uc3QgRmxhZ01hc2sgPSAzOyAvLyAwMDExXG5jb25zdCBJc1NpZ25lZE1hc2sgPSA0OyAvLyAwMTAwXG5jb25zdCBQYWRkaW5nVGFyZ2V0ID0gMjU2O1xuY29uc3QgU2lnbmF0dXJlTGVuZ3RoID0gNjU7XG5cbmV4cG9ydCBjb25zdCBQcml2YXRlS2V5U2l6ZSA9IDMyO1xuXG4vKipcbiAqIEVuY29kZSB0aGUgcGF5bG9hZCBwcmUtZW5jcnlwdGlvbi5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqIEBwYXJhbSBtZXNzYWdlUGF5bG9hZDogVGhlIHBheWxvYWQgdG8gaW5jbHVkZSBpbiB0aGUgbWVzc2FnZVxuICogQHBhcmFtIHNpZ1ByaXZLZXk6IElmIHNldCwgYSBzaWduYXR1cmUgdXNpbmcgdGhpcyBwcml2YXRlIGtleSBpcyBhZGRlZC5cbiAqIEByZXR1cm5zIFRoZSBlbmNvZGVkIHBheWxvYWQsIHJlYWR5IGZvciBlbmNyeXB0aW9uIHVzaW5nIHtAbGluayBlbmNyeXB0QXN5bW1ldHJpY31cbiAqIG9yIHtAbGluayBlbmNyeXB0U3ltbWV0cmljfS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyRW5jb2RlKFxuICBtZXNzYWdlUGF5bG9hZDogVWludDhBcnJheSxcbiAgc2lnUHJpdktleT86IFVpbnQ4QXJyYXlcbik6IHsgcGF5bG9hZDogVWludDhBcnJheTsgc2lnPzogU2lnbmF0dXJlIH0ge1xuICBsZXQgZW52ZWxvcGUgPSBCdWZmZXIuZnJvbShbMF0pOyAvLyBObyBmbGFnc1xuICBlbnZlbG9wZSA9IGFkZFBheWxvYWRTaXplRmllbGQoZW52ZWxvcGUsIG1lc3NhZ2VQYXlsb2FkKTtcbiAgZW52ZWxvcGUgPSBCdWZmZXIuY29uY2F0KFtlbnZlbG9wZSwgQnVmZmVyLmZyb20obWVzc2FnZVBheWxvYWQpXSk7XG5cbiAgLy8gQ2FsY3VsYXRlIHBhZGRpbmc6XG4gIGxldCByYXdTaXplID1cbiAgICBGbGFnc0xlbmd0aCArXG4gICAgZ2V0U2l6ZU9mUGF5bG9hZFNpemVGaWVsZChtZXNzYWdlUGF5bG9hZCkgK1xuICAgIG1lc3NhZ2VQYXlsb2FkLmxlbmd0aDtcblxuICBpZiAoc2lnUHJpdktleSkge1xuICAgIHJhd1NpemUgKz0gU2lnbmF0dXJlTGVuZ3RoO1xuICB9XG5cbiAgY29uc3QgcmVtYWluZGVyID0gcmF3U2l6ZSAlIFBhZGRpbmdUYXJnZXQ7XG4gIGNvbnN0IHBhZGRpbmdTaXplID0gUGFkZGluZ1RhcmdldCAtIHJlbWFpbmRlcjtcbiAgY29uc3QgcGFkID0gQnVmZmVyLmZyb20ocmFuZG9tQnl0ZXMocGFkZGluZ1NpemUpKTtcblxuICBpZiAoIXZhbGlkYXRlRGF0YUludGVncml0eShwYWQsIHBhZGRpbmdTaXplKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignZmFpbGVkIHRvIGdlbmVyYXRlIHJhbmRvbSBwYWRkaW5nIG9mIHNpemUgJyArIHBhZGRpbmdTaXplKTtcbiAgfVxuXG4gIGVudmVsb3BlID0gQnVmZmVyLmNvbmNhdChbZW52ZWxvcGUsIHBhZF0pO1xuXG4gIGxldCBzaWc7XG4gIGlmIChzaWdQcml2S2V5KSB7XG4gICAgZW52ZWxvcGVbMF0gfD0gSXNTaWduZWRNYXNrO1xuICAgIGNvbnN0IGhhc2ggPSBrZWNjYWsyNTYoZW52ZWxvcGUpO1xuICAgIGNvbnN0IHMgPSBzZWNwMjU2azEuZWNkc2FTaWduKGhleFRvQnVmKGhhc2gpLCBzaWdQcml2S2V5KTtcbiAgICBlbnZlbG9wZSA9IEJ1ZmZlci5jb25jYXQoW2VudmVsb3BlLCBzLnNpZ25hdHVyZSwgQnVmZmVyLmZyb20oW3MucmVjaWRdKV0pO1xuICAgIHNpZyA9IHtcbiAgICAgIHNpZ25hdHVyZTogQnVmZmVyLmZyb20ocy5zaWduYXR1cmUpLFxuICAgICAgcHVibGljS2V5OiBnZXRQdWJsaWNLZXkoc2lnUHJpdktleSksXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiB7IHBheWxvYWQ6IGVudmVsb3BlLCBzaWcgfTtcbn1cblxuZXhwb3J0IHR5cGUgU2lnbmF0dXJlID0ge1xuICBzaWduYXR1cmU6IFVpbnQ4QXJyYXk7XG4gIHB1YmxpY0tleTogVWludDhBcnJheTtcbn07XG5cbi8qKlxuICogRGVjb2RlIGEgZGVjcnlwdGVkIHBheWxvYWQuXG4gKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGVhckRlY29kZShcbiAgbWVzc2FnZTogVWludDhBcnJheSB8IEJ1ZmZlclxuKTogeyBwYXlsb2FkOiBVaW50OEFycmF5OyBzaWc/OiBTaWduYXR1cmUgfSB8IHVuZGVmaW5lZCB7XG4gIGNvbnN0IGJ1ZiA9IEJ1ZmZlci5mcm9tKG1lc3NhZ2UpO1xuICBsZXQgc3RhcnQgPSAxO1xuICBsZXQgc2lnO1xuXG4gIGNvbnN0IHNpemVPZlBheWxvYWRTaXplRmllbGQgPSBidWYucmVhZFVJbnRMRSgwLCAxKSAmIEZsYWdNYXNrO1xuXG4gIGlmIChzaXplT2ZQYXlsb2FkU2l6ZUZpZWxkID09PSAwKSByZXR1cm47XG5cbiAgY29uc3QgcGF5bG9hZFNpemUgPSBidWYucmVhZFVJbnRMRShzdGFydCwgc2l6ZU9mUGF5bG9hZFNpemVGaWVsZCk7XG4gIHN0YXJ0ICs9IHNpemVPZlBheWxvYWRTaXplRmllbGQ7XG4gIGNvbnN0IHBheWxvYWQgPSBidWYuc2xpY2Uoc3RhcnQsIHN0YXJ0ICsgcGF5bG9hZFNpemUpO1xuXG4gIGNvbnN0IGlzU2lnbmVkID0gKGJ1Zi5yZWFkVUludExFKDAsIDEpICYgSXNTaWduZWRNYXNrKSA9PSBJc1NpZ25lZE1hc2s7XG4gIGlmIChpc1NpZ25lZCkge1xuICAgIGNvbnN0IHNpZ25hdHVyZSA9IGdldFNpZ25hdHVyZShidWYpO1xuICAgIGNvbnN0IGhhc2ggPSBnZXRIYXNoKGJ1ZiwgaXNTaWduZWQpO1xuICAgIGNvbnN0IHB1YmxpY0tleSA9IGVjUmVjb3ZlclB1YktleShoYXNoLCBzaWduYXR1cmUpO1xuICAgIHNpZyA9IHsgc2lnbmF0dXJlLCBwdWJsaWNLZXkgfTtcbiAgfVxuXG4gIHJldHVybiB7IHBheWxvYWQsIHNpZyB9O1xufVxuXG4vKipcbiAqIFByb2NlZWQgd2l0aCBBc3ltbWV0cmljIGVuY3J5cHRpb24gb2YgdGhlIGRhdGEgYXMgcGVyIFsyNi9XQUtVLVBBWUxPQURdKGh0dHBzOi8vcmZjLnZhYy5kZXYvc3BlYy8yNi8pLlxuICogVGhlIGRhdGEgTVVTVCBiZSBmbGFncyB8IHBheWxvYWQtbGVuZ3RoIHwgcGF5bG9hZCB8IFtzaWduYXR1cmVdLlxuICogVGhlIHJldHVybmVkIHJlc3VsdCBjYW4gYmUgc2V0IHRvIGBXYWt1TWVzc2FnZS5wYXlsb2FkYC5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGVuY3J5cHRBc3ltbWV0cmljKFxuICBkYXRhOiBVaW50OEFycmF5IHwgQnVmZmVyLFxuICBwdWJsaWNLZXk6IFVpbnQ4QXJyYXkgfCBCdWZmZXIgfCBzdHJpbmdcbik6IFByb21pc2U8VWludDhBcnJheT4ge1xuICByZXR1cm4gZWNpZXMuZW5jcnlwdChoZXhUb0J1ZihwdWJsaWNLZXkpLCBCdWZmZXIuZnJvbShkYXRhKSk7XG59XG5cbi8qKlxuICogUHJvY2VlZCB3aXRoIEFzeW1tZXRyaWMgZGVjcnlwdGlvbiBvZiB0aGUgZGF0YSBhcyBwZXIgWzI2L1dBS1UtUEFZTE9BRF0oaHR0cHM6Ly9yZmMudmFjLmRldi9zcGVjLzI2LykuXG4gKiBUaGUgcmV0dXJuIGRhdGEgaXMgZXhwZWN0IHRvIGJlIGZsYWdzIHwgcGF5bG9hZC1sZW5ndGggfCBwYXlsb2FkIHwgW3NpZ25hdHVyZV0uXG4gKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWNyeXB0QXN5bW1ldHJpYyhcbiAgcGF5bG9hZDogVWludDhBcnJheSB8IEJ1ZmZlcixcbiAgcHJpdktleTogVWludDhBcnJheSB8IEJ1ZmZlclxuKTogUHJvbWlzZTxVaW50OEFycmF5PiB7XG4gIHJldHVybiBlY2llcy5kZWNyeXB0KEJ1ZmZlci5mcm9tKHByaXZLZXkpLCBCdWZmZXIuZnJvbShwYXlsb2FkKSk7XG59XG5cbi8qKlxuICogUHJvY2VlZCB3aXRoIFN5bW1ldHJpYyBlbmNyeXB0aW9uIG9mIHRoZSBkYXRhIGFzIHBlciBbMjYvV0FLVS1QQVlMT0FEXShodHRwczovL3JmYy52YWMuZGV2L3NwZWMvMjYvKS5cbiAqXG4gKiBAcGFyYW0gZGF0YSBUaGUgZGF0YSB0byBlbmNyeXB0LCBleHBlY3RlZCB0byBiZSBgZmxhZ3MgfCBwYXlsb2FkLWxlbmd0aCB8IHBheWxvYWQgfCBbc2lnbmF0dXJlXWAuXG4gKiBAcGFyYW0ga2V5IFRoZSBrZXkgdG8gdXNlIGZvciBlbmNyeXB0aW9uLlxuICogQHJldHVybnMgVGhlIGRlY3J5cHRlZCBkYXRhLCBgY2lwaGVyVGV4dCB8IHRhZyB8IGl2YCBhbmQgY2FuIGJlIHNldCB0byBgV2FrdU1lc3NhZ2UucGF5bG9hZGAuXG4gKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBlbmNyeXB0U3ltbWV0cmljKFxuICBkYXRhOiBVaW50OEFycmF5IHwgQnVmZmVyLFxuICBrZXk6IFVpbnQ4QXJyYXkgfCBCdWZmZXIgfCBzdHJpbmdcbik6IFByb21pc2U8VWludDhBcnJheT4ge1xuICBjb25zdCBpdiA9IHN5bW1ldHJpYy5nZW5lcmF0ZUl2KCk7XG5cbiAgLy8gUmV0dXJucyBgY2lwaGVyIHwgdGFnYFxuICBjb25zdCBjaXBoZXIgPSBhd2FpdCBzeW1tZXRyaWMuZW5jcnlwdChpdiwgaGV4VG9CdWYoa2V5KSwgQnVmZmVyLmZyb20oZGF0YSkpO1xuICByZXR1cm4gQnVmZmVyLmNvbmNhdChbY2lwaGVyLCBCdWZmZXIuZnJvbShpdildKTtcbn1cblxuLyoqXG4gKiBQcm9jZWVkIHdpdGggU3ltbWV0cmljIGRlY3J5cHRpb24gb2YgdGhlIGRhdGEgYXMgcGVyIFsyNi9XQUtVLVBBWUxPQURdKGh0dHBzOi8vcmZjLnZhYy5kZXYvc3BlYy8yNi8pLlxuICpcbiAqIEBwYXJhbSBwYXlsb2FkIFRoZSBjaXBoZXIgZGF0YSwgaXQgaXMgZXhwZWN0ZWQgdG8gYmUgYGNpcGhlclRleHQgfCB0YWcgfCBpdmAuXG4gKiBAcGFyYW0ga2V5IFRoZSBrZXkgdG8gdXNlIGZvciBkZWNyeXB0aW9uLlxuICogQHJldHVybnMgVGhlIGRlY3J5cHRlZCBkYXRhLCBleHBlY3RlZCB0byBiZSBgZmxhZ3MgfCBwYXlsb2FkLWxlbmd0aCB8IHBheWxvYWQgfCBbc2lnbmF0dXJlXWAuXG4gKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWNyeXB0U3ltbWV0cmljKFxuICBwYXlsb2FkOiBVaW50OEFycmF5IHwgQnVmZmVyLFxuICBrZXk6IFVpbnQ4QXJyYXkgfCBCdWZmZXIgfCBzdHJpbmdcbik6IFByb21pc2U8VWludDhBcnJheT4ge1xuICBjb25zdCBkYXRhID0gQnVmZmVyLmZyb20ocGF5bG9hZCk7XG4gIGNvbnN0IGl2U3RhcnQgPSBkYXRhLmxlbmd0aCAtIEl2U2l6ZTtcbiAgY29uc3QgY2lwaGVyID0gZGF0YS5zbGljZSgwLCBpdlN0YXJ0KTtcbiAgY29uc3QgaXYgPSBkYXRhLnNsaWNlKGl2U3RhcnQpO1xuXG4gIHJldHVybiBzeW1tZXRyaWMuZGVjcnlwdChpdiwgaGV4VG9CdWYoa2V5KSwgY2lwaGVyKTtcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZSBhIG5ldyBwcml2YXRlIGtleSB0byBiZSB1c2VkIGZvciBhc3ltbWV0cmljIGVuY3J5cHRpb24uXG4gKlxuICogVXNlIHtAbGluayBnZXRQdWJsaWNLZXl9IHRvIGdldCB0aGUgY29ycmVzcG9uZGluZyBQdWJsaWMgS2V5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVQcml2YXRlS2V5KCk6IFVpbnQ4QXJyYXkge1xuICByZXR1cm4gcmFuZG9tQnl0ZXMoUHJpdmF0ZUtleVNpemUpO1xufVxuXG4vKipcbiAqIEdlbmVyYXRlIGEgbmV3IHN5bW1ldHJpYyBrZXkgdG8gYmUgdXNlZCBmb3Igc3ltbWV0cmljIGVuY3J5cHRpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVN5bW1ldHJpY0tleSgpOiBVaW50OEFycmF5IHtcbiAgcmV0dXJuIHJhbmRvbUJ5dGVzKFN5bW1ldHJpY0tleVNpemUpO1xufVxuXG4vKipcbiAqIFJldHVybiB0aGUgcHVibGljIGtleSBmb3IgdGhlIGdpdmVuIHByaXZhdGUga2V5LCB0byBiZSB1c2VkIGZvciBhc3ltbWV0cmljXG4gKiBlbmNyeXB0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UHVibGljS2V5KHByaXZhdGVLZXk6IFVpbnQ4QXJyYXkgfCBCdWZmZXIpOiBVaW50OEFycmF5IHtcbiAgcmV0dXJuIHNlY3AyNTZrMS5wdWJsaWNLZXlDcmVhdGUocHJpdmF0ZUtleSwgZmFsc2UpO1xufVxuXG4vKipcbiAqIENvbXB1dGVzIHRoZSBmbGFncyAmIGF1eGlsaWFyeS1maWVsZCBhcyBwZXIgWzI2L1dBS1UtUEFZTE9BRF0oaHR0cHM6Ly9yZmMudmFjLmRldi9zcGVjLzI2LykuXG4gKi9cbmZ1bmN0aW9uIGFkZFBheWxvYWRTaXplRmllbGQobXNnOiBCdWZmZXIsIHBheWxvYWQ6IFVpbnQ4QXJyYXkpOiBCdWZmZXIge1xuICBjb25zdCBmaWVsZFNpemUgPSBnZXRTaXplT2ZQYXlsb2FkU2l6ZUZpZWxkKHBheWxvYWQpO1xuICBsZXQgZmllbGQgPSBCdWZmZXIuYWxsb2MoNCk7XG4gIGZpZWxkLndyaXRlVUludDMyTEUocGF5bG9hZC5sZW5ndGgsIDApO1xuICBmaWVsZCA9IGZpZWxkLnNsaWNlKDAsIGZpZWxkU2l6ZSk7XG4gIG1zZyA9IEJ1ZmZlci5jb25jYXQoW21zZywgZmllbGRdKTtcbiAgbXNnWzBdIHw9IGZpZWxkU2l6ZTtcbiAgcmV0dXJuIG1zZztcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBzaXplIG9mIHRoZSBhdXhpbGlhcnktZmllbGQgd2hpY2ggaW4gdHVybnMgY29udGFpbnMgdGhlIHBheWxvYWQgc2l6ZVxuICovXG5mdW5jdGlvbiBnZXRTaXplT2ZQYXlsb2FkU2l6ZUZpZWxkKHBheWxvYWQ6IFVpbnQ4QXJyYXkpOiBudW1iZXIge1xuICBsZXQgcyA9IDE7XG4gIGZvciAobGV0IGkgPSBwYXlsb2FkLmxlbmd0aDsgaSA+PSAyNTY7IGkgLz0gMjU2KSB7XG4gICAgcysrO1xuICB9XG4gIHJldHVybiBzO1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZURhdGFJbnRlZ3JpdHkoXG4gIHZhbHVlOiBVaW50OEFycmF5LFxuICBleHBlY3RlZFNpemU6IG51bWJlclxuKTogYm9vbGVhbiB7XG4gIGlmICh2YWx1ZS5sZW5ndGggIT09IGV4cGVjdGVkU2l6ZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiAhKFxuICAgIGV4cGVjdGVkU2l6ZSA+IDMgJiYgQnVmZmVyLmZyb20odmFsdWUpLmVxdWFscyhCdWZmZXIuYWxsb2ModmFsdWUubGVuZ3RoKSlcbiAgKTtcbn1cblxuZnVuY3Rpb24gZ2V0U2lnbmF0dXJlKG1lc3NhZ2U6IEJ1ZmZlcik6IEJ1ZmZlciB7XG4gIHJldHVybiBtZXNzYWdlLnNsaWNlKG1lc3NhZ2UubGVuZ3RoIC0gU2lnbmF0dXJlTGVuZ3RoLCBtZXNzYWdlLmxlbmd0aCk7XG59XG5cbmZ1bmN0aW9uIGdldEhhc2gobWVzc2FnZTogQnVmZmVyLCBpc1NpZ25lZDogYm9vbGVhbik6IHN0cmluZyB7XG4gIGlmIChpc1NpZ25lZCkge1xuICAgIHJldHVybiBrZWNjYWsyNTYobWVzc2FnZS5zbGljZSgwLCBtZXNzYWdlLmxlbmd0aCAtIFNpZ25hdHVyZUxlbmd0aCkpO1xuICB9XG4gIHJldHVybiBrZWNjYWsyNTYobWVzc2FnZSk7XG59XG5cbmZ1bmN0aW9uIGVjUmVjb3ZlclB1YktleShtZXNzYWdlSGFzaDogc3RyaW5nLCBzaWduYXR1cmU6IEJ1ZmZlcik6IFVpbnQ4QXJyYXkge1xuICBjb25zdCByZWNvdmVyeSA9IHNpZ25hdHVyZS5zbGljZSg2NCkucmVhZEludEJFKDAsIDEpO1xuICByZXR1cm4gc2VjcDI1NmsxLmVjZHNhUmVjb3ZlcihcbiAgICBzaWduYXR1cmUuc2xpY2UoMCwgNjQpLFxuICAgIHJlY292ZXJ5LFxuICAgIGhleFRvQnVmKG1lc3NhZ2VIYXNoKSxcbiAgICBmYWxzZVxuICApO1xufVxuXG5mdW5jdGlvbiByYW5kb21CeXRlcyhsZW5ndGg6IG51bWJlcik6IFVpbnQ4QXJyYXkge1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93ICYmIHdpbmRvdy5jcnlwdG8pIHtcbiAgICBjb25zdCBhcnJheSA9IG5ldyBVaW50OEFycmF5KGxlbmd0aCk7XG4gICAgd2luZG93LmNyeXB0by5nZXRSYW5kb21WYWx1ZXMoYXJyYXkpO1xuICAgIHJldHVybiBhcnJheTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gY3J5cHRvLnJhbmRvbUJ5dGVzKGxlbmd0aCk7XG4gIH1cbn1cbiIsImV4cG9ydCBjb25zdCBzZWNvbmQgPSAxMDAwO1xuZXhwb3J0IGNvbnN0IG1pbnV0ZSA9IDYwICogc2Vjb25kO1xuXG4vKipcbiAqIFJlbGF5Q29kZWMgaXMgdGhlIGxpYnAycCBpZGVudGlmaWVyIGZvciB0aGUgd2FrdSByZWxheSBwcm90b2NvbFxuICovXG5leHBvcnQgY29uc3QgUmVsYXlDb2RlY3MgPSBbXG4gICcvdmFjL3dha3UvcmVsYXkvMi4wLjAtYmV0YTInLFxuICAnL3ZhYy93YWt1L3JlbGF5LzIuMC4wJyxcbl07XG5cbmV4cG9ydCBjb25zdCBSZWxheVBpbmdDb250ZW50VG9waWMgPSAnL3JlbGF5LXBpbmcvMS9waW5nL251bGwnO1xuXG4vKipcbiAqIFJlbGF5R29zc2lwRmFjdG9yIGFmZmVjdHMgaG93IG1hbnkgcGVlcnMgd2Ugd2lsbCBlbWl0IGdvc3NpcCB0byBhdCBlYWNoIGhlYXJ0YmVhdC5cbiAqIFdlIHdpbGwgc2VuZCBnb3NzaXAgdG8gUmVsYXlHb3NzaXBGYWN0b3IgKiAodG90YWwgbnVtYmVyIG9mIG5vbi1tZXNoIHBlZXJzKSwgb3JcbiAqIFJlbGF5RGxhenksIHdoaWNoZXZlciBpcyBncmVhdGVyLlxuICovXG5leHBvcnQgY29uc3QgUmVsYXlHb3NzaXBGYWN0b3IgPSAwLjI1O1xuXG4vKipcbiAqIEdvc3NpcHN1YkhlYXJ0YmVhdEluaXRpYWxEZWxheSBpcyB0aGUgc2hvcnQgZGVsYXkgYmVmb3JlIHRoZSBoZWFydGJlYXQgdGltZXIgYmVnaW5zXG4gKiBhZnRlciB0aGUgcm91dGVyIGlzIGluaXRpYWxpemVkLlxuICovXG5leHBvcnQgY29uc3QgUmVsYXlIZWFydGJlYXRJbml0aWFsRGVsYXkgPSAxMDA7XG5cbi8qKlxuICogUmVsYXlIZWFydGJlYXRJbnRlcnZhbCBjb250cm9scyB0aGUgdGltZSBiZXR3ZWVuIGhlYXJ0YmVhdHMuXG4gKi9cbmV4cG9ydCBjb25zdCBSZWxheUhlYXJ0YmVhdEludGVydmFsID0gc2Vjb25kO1xuXG4vKipcbiAqIFJlbGF5UHJ1bmVQZWVycyBjb250cm9scyB0aGUgbnVtYmVyIG9mIHBlZXJzIHRvIGluY2x1ZGUgaW4gcHJ1bmUgUGVlciBlWGNoYW5nZS5cbiAqIFdoZW4gd2UgcHJ1bmUgYSBwZWVyIHRoYXQncyBlbGlnaWJsZSBmb3IgUFggKGhhcyBhIGdvb2Qgc2NvcmUsIGV0YyksIHdlIHdpbGwgdHJ5IHRvXG4gKiBzZW5kIHRoZW0gc2lnbmVkIHBlZXIgcmVjb3JkcyBmb3IgdXAgdG8gUmVsYXlQcnVuZVBlZXJzIG90aGVyIHBlZXJzIHRoYXQgd2VcbiAqIGtub3cgb2YuXG4gKi9cbmV4cG9ydCBjb25zdCBSZWxheVBydW5lUGVlcnMgPSAxNjtcblxuLyoqXG4gKiBSZWxheVBydW5lQmFja29mZiBjb250cm9scyB0aGUgYmFja29mZiB0aW1lIGZvciBwcnVuZWQgcGVlcnMuIFRoaXMgaXMgaG93IGxvbmdcbiAqIGEgcGVlciBtdXN0IHdhaXQgYmVmb3JlIGF0dGVtcHRpbmcgdG8gZ3JhZnQgaW50byBvdXIgbWVzaCBhZ2FpbiBhZnRlciBiZWluZyBwcnVuZWQuXG4gKiBXaGVuIHBydW5pbmcgYSBwZWVyLCB3ZSBzZW5kIHRoZW0gb3VyIHZhbHVlIG9mIFJlbGF5UHJ1bmVCYWNrb2ZmIHNvIHRoZXkga25vd1xuICogdGhlIG1pbmltdW0gdGltZSB0byB3YWl0LiBQZWVycyBydW5uaW5nIG9sZGVyIHZlcnNpb25zIG1heSBub3Qgc2VuZCBhIGJhY2tvZmYgdGltZSxcbiAqIHNvIGlmIHdlIHJlY2VpdmUgYSBwcnVuZSBtZXNzYWdlIHdpdGhvdXQgb25lLCB3ZSB3aWxsIHdhaXQgYXQgbGVhc3QgUmVsYXlQcnVuZUJhY2tvZmZcbiAqIGJlZm9yZSBhdHRlbXB0aW5nIHRvIHJlLWdyYWZ0LlxuICovXG5leHBvcnQgY29uc3QgUmVsYXlQcnVuZUJhY2tvZmYgPSBtaW51dGU7XG5cbi8qKlxuICogUmVsYXlGYW5vdXRUVEwgY29udHJvbHMgaG93IGxvbmcgd2Uga2VlcCB0cmFjayBvZiB0aGUgZmFub3V0IHN0YXRlLiBJZiBpdCdzIGJlZW5cbiAqIFJlbGF5RmFub3V0VFRMIHNpbmNlIHdlJ3ZlIHB1Ymxpc2hlZCB0byBhIHRvcGljIHRoYXQgd2UncmUgbm90IHN1YnNjcmliZWQgdG8sXG4gKiB3ZSdsbCBkZWxldGUgdGhlIGZhbm91dCBtYXAgZm9yIHRoYXQgdG9waWMuXG4gKi9cbmV4cG9ydCBjb25zdCBSZWxheUZhbm91dFRUTCA9IG1pbnV0ZTtcblxuLyoqXG4gKiBSZWxheU9wcG9ydHVuaXN0aWNHcmFmdFRpY2tzIGlzIHRoZSBudW1iZXIgb2YgaGVhcnRiZWF0IHRpY2tzIGZvciBhdHRlbXB0aW5nIHRvIGltcHJvdmUgdGhlIG1lc2hcbiAqIHdpdGggb3Bwb3J0dW5pc3RpYyBncmFmdGluZy4gRXZlcnkgUmVsYXlPcHBvcnR1bmlzdGljR3JhZnRUaWNrcyB3ZSB3aWxsIGF0dGVtcHQgdG8gc2VsZWN0IHNvbWVcbiAqIGhpZ2gtc2NvcmluZyBtZXNoIHBlZXJzIHRvIHJlcGxhY2UgbG93ZXItc2NvcmluZyBvbmVzLCBpZiB0aGUgbWVkaWFuIHNjb3JlIG9mIG91ciBtZXNoIHBlZXJzIGZhbGxzXG4gKiBiZWxvdyBhIHRocmVzaG9sZFxuICovXG5leHBvcnQgY29uc3QgUmVsYXlPcHBvcnR1bmlzdGljR3JhZnRUaWNrcyA9IDYwO1xuXG4vKipcbiAqIFJlbGF5T3Bwb3J0dW5pc3RpY0dyYWZ0UGVlcnMgaXMgdGhlIG51bWJlciBvZiBwZWVycyB0byBvcHBvcnR1bmlzdGljYWxseSBncmFmdC5cbiAqL1xuZXhwb3J0IGNvbnN0IFJlbGF5T3Bwb3J0dW5pc3RpY0dyYWZ0UGVlcnMgPSAyO1xuXG4vKipcbiAqIFJlbGF5TWF4SUhhdmVMZW5ndGggaXMgdGhlIG1heGltdW0gbnVtYmVyIG9mIG1lc3NhZ2VzIHRvIGluY2x1ZGUgaW4gYW4gSUhBVkUgbWVzc2FnZS5cbiAqIEFsc28gY29udHJvbHMgdGhlIG1heGltdW0gbnVtYmVyIG9mIElIQVZFIGlkcyB3ZSB3aWxsIGFjY2VwdCBhbmQgcmVxdWVzdCB3aXRoIElXQU5UIGZyb20gYVxuICogcGVlciB3aXRoaW4gYSBoZWFydGJlYXQsIHRvIHByb3RlY3QgZnJvbSBJSEFWRSBmbG9vZHMuIFlvdSBzaG91bGQgYWRqdXN0IHRoaXMgdmFsdWUgZnJvbSB0aGVcbiAqIGRlZmF1bHQgaWYgeW91ciBzeXN0ZW0gaXMgcHVzaGluZyBtb3JlIHRoYW4gNTAwMCBtZXNzYWdlcyBpbiBHb3NzaXBzdWJIaXN0b3J5R29zc2lwIGhlYXJ0YmVhdHM7XG4gKiB3aXRoIHRoZSBkZWZhdWx0cyB0aGlzIGlzIDE2NjYgbWVzc2FnZXMvcy5cbiAqL1xuZXhwb3J0IGNvbnN0IFJlbGF5TWF4SUhhdmVMZW5ndGggPSA1MDAwO1xuIiwiaW1wb3J0IEdvc3NpcHN1YiBmcm9tICdsaWJwMnAtZ29zc2lwc3ViJztcbmltcG9ydCB7IHNodWZmbGUgfSBmcm9tICdsaWJwMnAtZ29zc2lwc3ViL3NyYy91dGlscyc7XG5cbmltcG9ydCB7IFJlbGF5Q29kZWNzIH0gZnJvbSAnLi9pbmRleCc7XG5cbi8qKlxuICogR2l2ZW4gYSB0b3BpYywgcmV0dXJucyB1cCB0byBjb3VudCBwZWVycyBzdWJzY3JpYmVkIHRvIHRoYXQgdG9waWNcbiAqIHRoYXQgcGFzcyBhbiBvcHRpb25hbCBmaWx0ZXIgZnVuY3Rpb25cbiAqXG4gKiBAcGFyYW0ge0dvc3NpcHN1Yn0gcm91dGVyXG4gKiBAcGFyYW0ge1N0cmluZ30gdG9waWNcbiAqIEBwYXJhbSB7TnVtYmVyfSBjb3VudFxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2ZpbHRlcl0gYSBmdW5jdGlvbiB0byBmaWx0ZXIgYWNjZXB0YWJsZSBwZWVyc1xuICogQHJldHVybnMge1NldDxzdHJpbmc+fVxuICpcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFJlbGF5UGVlcnMoXG4gIHJvdXRlcjogR29zc2lwc3ViLFxuICB0b3BpYzogc3RyaW5nLFxuICBjb3VudDogbnVtYmVyLFxuICBmaWx0ZXI6IChpZDogc3RyaW5nKSA9PiBib29sZWFuID0gKCk6IGJvb2xlYW4gPT4gdHJ1ZVxuKTogU2V0PHN0cmluZz4ge1xuICBjb25zdCBwZWVyc0luVG9waWMgPSByb3V0ZXIudG9waWNzLmdldCh0b3BpYyk7XG4gIGlmICghcGVlcnNJblRvcGljKSB7XG4gICAgcmV0dXJuIG5ldyBTZXQoKTtcbiAgfVxuXG4gIC8vIEFkZHMgYWxsIHBlZXJzIHVzaW5nIG91ciBwcm90b2NvbFxuICAvLyB0aGF0IGFsc28gcGFzcyB0aGUgZmlsdGVyIGZ1bmN0aW9uXG4gIGxldCBwZWVyczogc3RyaW5nW10gPSBbXTtcbiAgcGVlcnNJblRvcGljLmZvckVhY2goKGlkOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBwZWVyU3RyZWFtcyA9IHJvdXRlci5wZWVycy5nZXQoaWQpO1xuICAgIGlmICghcGVlclN0cmVhbXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKFJlbGF5Q29kZWNzLmluY2x1ZGVzKHBlZXJTdHJlYW1zLnByb3RvY29sKSAmJiBmaWx0ZXIoaWQpKSB7XG4gICAgICBwZWVycy5wdXNoKGlkKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIFBzZXVkby1yYW5kb21seSBzaHVmZmxlcyBwZWVyc1xuICBwZWVycyA9IHNodWZmbGUocGVlcnMpO1xuICBpZiAoY291bnQgPiAwICYmIHBlZXJzLmxlbmd0aCA+IGNvdW50KSB7XG4gICAgcGVlcnMgPSBwZWVycy5zbGljZSgwLCBjb3VudCk7XG4gIH1cblxuICByZXR1cm4gbmV3IFNldChwZWVycyk7XG59XG4iLCJpbXBvcnQgZGVidWcgZnJvbSAnZGVidWcnO1xuaW1wb3J0IExpYnAycCBmcm9tICdsaWJwMnAnO1xuaW1wb3J0IEdvc3NpcHN1YiBmcm9tICdsaWJwMnAtZ29zc2lwc3ViJztcbmltcG9ydCB7IEFkZHJJbmZvLCBNZXNzYWdlSWRGdW5jdGlvbiB9IGZyb20gJ2xpYnAycC1nb3NzaXBzdWIvc3JjL2ludGVyZmFjZXMnO1xuaW1wb3J0IHsgTWVzc2FnZUNhY2hlIH0gZnJvbSAnbGlicDJwLWdvc3NpcHN1Yi9zcmMvbWVzc2FnZS1jYWNoZSc7XG5pbXBvcnQgeyBSUEMgfSBmcm9tICdsaWJwMnAtZ29zc2lwc3ViL3NyYy9tZXNzYWdlL3JwYyc7XG5pbXBvcnQge1xuICBQZWVyU2NvcmVQYXJhbXMsXG4gIFBlZXJTY29yZVRocmVzaG9sZHMsXG59IGZyb20gJ2xpYnAycC1nb3NzaXBzdWIvc3JjL3Njb3JlJztcbmltcG9ydCB7XG4gIGNyZWF0ZUdvc3NpcFJwYyxcbiAgbWVzc2FnZUlkVG9TdHJpbmcsXG4gIHNodWZmbGUsXG59IGZyb20gJ2xpYnAycC1nb3NzaXBzdWIvc3JjL3V0aWxzJztcbmltcG9ydCB7IEluTWVzc2FnZSB9IGZyb20gJ2xpYnAycC1pbnRlcmZhY2VzL3NyYy9wdWJzdWInO1xuaW1wb3J0IHsgU2lnbmF0dXJlUG9saWN5IH0gZnJvbSAnbGlicDJwLWludGVyZmFjZXMvc3JjL3B1YnN1Yi9zaWduYXR1cmUtcG9saWN5JztcbmltcG9ydCBQZWVySWQgZnJvbSAncGVlci1pZCc7XG5cbmltcG9ydCB7IGhleFRvQnVmIH0gZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0IHsgQ3JlYXRlT3B0aW9ucywgRGVmYXVsdFB1YlN1YlRvcGljIH0gZnJvbSAnLi4vd2FrdSc7XG5pbXBvcnQgeyBXYWt1TWVzc2FnZSB9IGZyb20gJy4uL3dha3VfbWVzc2FnZSc7XG5cbmltcG9ydCAqIGFzIGNvbnN0YW50cyBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBSZWxheUNvZGVjcyB9IGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCB7IGdldFJlbGF5UGVlcnMgfSBmcm9tICcuL2dldF9yZWxheV9wZWVycyc7XG5pbXBvcnQgeyBSZWxheUhlYXJ0YmVhdCB9IGZyb20gJy4vcmVsYXlfaGVhcnRiZWF0JztcblxuY29uc3QgZGJnID0gZGVidWcoJ3dha3U6cmVsYXknKTtcblxuZXhwb3J0IHsgUmVsYXlDb2RlY3MgfTtcblxuLyoqXG4gKiBTZWUgY29uc3RydWN0b3IgbGlicDJwLWdvc3NpcHN1YiBbQVBJXShodHRwczovL2dpdGh1Yi5jb20vQ2hhaW5TYWZlL2pzLWxpYnAycC1nb3NzaXBzdWIjYXBpKS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBHb3NzaXBPcHRpb25zIHtcbiAgZW1pdFNlbGY6IGJvb2xlYW47XG4gIGdvc3NpcEluY29taW5nOiBib29sZWFuO1xuICBmYWxsYmFja1RvRmxvb2RzdWI6IGJvb2xlYW47XG4gIGZsb29kUHVibGlzaDogYm9vbGVhbjtcbiAgZG9QWDogYm9vbGVhbjtcbiAgbXNnSWRGbjogTWVzc2FnZUlkRnVuY3Rpb247XG4gIG1lc3NhZ2VDYWNoZTogTWVzc2FnZUNhY2hlO1xuICAvLyBUaGlzIG9wdGlvbiBpcyBhbHdheXMgb3ZlcnJpZGRlblxuICAvLyBnbG9iYWxTaWduYXR1cmVQb2xpY3k6IHN0cmluZztcbiAgc2NvcmVQYXJhbXM6IFBhcnRpYWw8UGVlclNjb3JlUGFyYW1zPjtcbiAgc2NvcmVUaHJlc2hvbGRzOiBQYXJ0aWFsPFBlZXJTY29yZVRocmVzaG9sZHM+O1xuICBkaXJlY3RQZWVyczogQWRkckluZm9bXTtcbiAgRDogbnVtYmVyO1xuICBEbG86IG51bWJlcjtcbiAgRGhpOiBudW1iZXI7XG4gIERzY29yZTogbnVtYmVyO1xuICBEb3V0OiBudW1iZXI7XG4gIERsYXp5OiBudW1iZXI7XG59XG5cbi8qKlxuICogSW1wbGVtZW50cyB0aGUgW1dha3UgdjIgUmVsYXkgcHJvdG9jb2xde0BsaW5rIGh0dHBzOi8vcmZjLnZhYy5kZXYvc3BlYy8xMS99LlxuICogTXVzdCBiZSBwYXNzZWQgYXMgYSBgcHVic3ViYCBtb2R1bGUgdG8gYSB7TGlicDJwfSBpbnN0YW5jZS5cbiAqXG4gKiBAaW1wbGVtZW50cyB7cmVxdWlyZSgnbGlicDJwLWludGVyZmFjZXMvc3JjL3B1YnN1YicpfVxuICogQG5vSW5oZXJpdERvY1xuICovXG5leHBvcnQgY2xhc3MgV2FrdVJlbGF5IGV4dGVuZHMgR29zc2lwc3ViIHtcbiAgaGVhcnRiZWF0OiBSZWxheUhlYXJ0YmVhdDtcbiAgcHViU3ViVG9waWM6IHN0cmluZztcblxuICBwdWJsaWMgZGVjcnlwdGlvbktleXM6IFNldDxVaW50OEFycmF5PjtcblxuICAvKipcbiAgICogb2JzZXJ2ZXJzIGNhbGxlZCB3aGVuIHJlY2VpdmluZyBuZXcgbWVzc2FnZS5cbiAgICogT2JzZXJ2ZXJzIHVuZGVyIGtleSBgXCJcImAgYXJlIGFsd2F5cyBjYWxsZWQuXG4gICAqL1xuICBwdWJsaWMgb2JzZXJ2ZXJzOiB7XG4gICAgW2NvbnRlbnRUb3BpYzogc3RyaW5nXTogU2V0PChtZXNzYWdlOiBXYWt1TWVzc2FnZSkgPT4gdm9pZD47XG4gIH07XG5cbiAgY29uc3RydWN0b3IoXG4gICAgbGlicDJwOiBMaWJwMnAsXG4gICAgb3B0aW9ucz86IFBhcnRpYWw8Q3JlYXRlT3B0aW9ucyAmIEdvc3NpcE9wdGlvbnM+XG4gICkge1xuICAgIHN1cGVyKFxuICAgICAgbGlicDJwLFxuICAgICAgT2JqZWN0LmFzc2lnbihvcHRpb25zLCB7XG4gICAgICAgIC8vIEVuc3VyZSB0aGF0IG5vIHNpZ25hdHVyZSBpcyBpbmNsdWRlZCBub3IgZXhwZWN0ZWQgaW4gdGhlIG1lc3NhZ2VzLlxuICAgICAgICBnbG9iYWxTaWduYXR1cmVQb2xpY3k6IFNpZ25hdHVyZVBvbGljeS5TdHJpY3ROb1NpZ24sXG4gICAgICB9KVxuICAgICk7XG5cbiAgICB0aGlzLmhlYXJ0YmVhdCA9IG5ldyBSZWxheUhlYXJ0YmVhdCh0aGlzKTtcbiAgICB0aGlzLm9ic2VydmVycyA9IHt9O1xuICAgIHRoaXMuZGVjcnlwdGlvbktleXMgPSBuZXcgU2V0KCk7XG5cbiAgICBjb25zdCBtdWx0aWNvZGVjcyA9IGNvbnN0YW50cy5SZWxheUNvZGVjcztcblxuICAgIE9iamVjdC5hc3NpZ24odGhpcywgeyBtdWx0aWNvZGVjcyB9KTtcblxuICAgIHRoaXMucHViU3ViVG9waWMgPSBvcHRpb25zPy5wdWJTdWJUb3BpYyB8fCBEZWZhdWx0UHViU3ViVG9waWM7XG4gIH1cblxuICAvKipcbiAgICogTW91bnRzIHRoZSBnb3NzaXBzdWIgcHJvdG9jb2wgb250byB0aGUgbGlicDJwIG5vZGVcbiAgICogYW5kIHN1YnNjcmliZXMgdG8gdGhlIGRlZmF1bHQgdG9waWMuXG4gICAqXG4gICAqIEBvdmVycmlkZVxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIHB1YmxpYyBzdGFydCgpOiB2b2lkIHtcbiAgICBzdXBlci5zdGFydCgpO1xuICAgIHRoaXMuc3Vic2NyaWJlKHRoaXMucHViU3ViVG9waWMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbmQgV2FrdSBtZXNzYWdlLlxuICAgKlxuICAgKiBAcGFyYW0ge1dha3VNZXNzYWdlfSBtZXNzYWdlXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICAgKi9cbiAgcHVibGljIGFzeW5jIHNlbmQobWVzc2FnZTogV2FrdU1lc3NhZ2UpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBtc2cgPSBtZXNzYWdlLmVuY29kZSgpO1xuICAgIGF3YWl0IHN1cGVyLnB1Ymxpc2godGhpcy5wdWJTdWJUb3BpYywgQnVmZmVyLmZyb20obXNnKSk7XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXIgYSBkZWNyeXB0aW9uIGtleSB0byBhdHRlbXB0IGRlY3J5cHRpb24gb2YgcmVjZWl2ZWQgbWVzc2FnZXMuXG4gICAqIFRoaXMgY2FuIGVpdGhlciBiZSBhIHByaXZhdGUga2V5IGZvciBhc3ltbWV0cmljIGVuY3J5cHRpb24gb3IgYSBzeW1tZXRyaWNcbiAgICoga2V5LiBgV2FrdVJlbGF5YCB3aWxsIGF0dGVtcHQgdG8gZGVjcnlwdCBtZXNzYWdlcyB1c2luZyBib3RoIG1ldGhvZHMuXG4gICAqXG4gICAqIFN0cmluZ3MgbXVzdCBiZSBpbiBoZXggZm9ybWF0LlxuICAgKi9cbiAgYWRkRGVjcnlwdGlvbktleShrZXk6IFVpbnQ4QXJyYXkgfCBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLmRlY3J5cHRpb25LZXlzLmFkZChoZXhUb0J1ZihrZXkpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGUgYSBkZWNyeXB0aW9uIGtleSB0aGF0IHdhcyB1c2VkIHRvIGF0dGVtcHQgZGVjcnlwdGlvbiBvZiByZWNlaXZlZFxuICAgKiBtZXNzYWdlcy5cbiAgICpcbiAgICogU3RyaW5ncyBtdXN0IGJlIGluIGhleCBmb3JtYXQuXG4gICAqL1xuICBkZWxldGVEZWNyeXB0aW9uS2V5KGtleTogVWludDhBcnJheSB8IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuZGVjcnlwdGlvbktleXMuZGVsZXRlKGhleFRvQnVmKGtleSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVyIGFuIG9ic2VydmVyIG9mIG5ldyBtZXNzYWdlcyByZWNlaXZlZCB2aWEgd2FrdSByZWxheVxuICAgKlxuICAgKiBAcGFyYW0gY2FsbGJhY2sgY2FsbGVkIHdoZW4gYSBuZXcgbWVzc2FnZSBpcyByZWNlaXZlZCB2aWEgd2FrdSByZWxheVxuICAgKiBAcGFyYW0gY29udGVudFRvcGljcyBDb250ZW50IFRvcGljcyBmb3Igd2hpY2ggdGhlIGNhbGxiYWNrIHdpdGggYmUgY2FsbGVkLFxuICAgKiBhbGwgb2YgdGhlbSBpZiB1bmRlZmluZWQsIFtdIG9yIFtcIlwiLC4uXSBpcyBwYXNzZWQuXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgYWRkT2JzZXJ2ZXIoXG4gICAgY2FsbGJhY2s6IChtZXNzYWdlOiBXYWt1TWVzc2FnZSkgPT4gdm9pZCxcbiAgICBjb250ZW50VG9waWNzOiBzdHJpbmdbXSA9IFtdXG4gICk6IHZvaWQge1xuICAgIGlmIChjb250ZW50VG9waWNzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgaWYgKCF0aGlzLm9ic2VydmVyc1snJ10pIHtcbiAgICAgICAgdGhpcy5vYnNlcnZlcnNbJyddID0gbmV3IFNldCgpO1xuICAgICAgfVxuICAgICAgdGhpcy5vYnNlcnZlcnNbJyddLmFkZChjYWxsYmFjayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRlbnRUb3BpY3MuZm9yRWFjaCgoY29udGVudFRvcGljKSA9PiB7XG4gICAgICAgIGlmICghdGhpcy5vYnNlcnZlcnNbY29udGVudFRvcGljXSkge1xuICAgICAgICAgIHRoaXMub2JzZXJ2ZXJzW2NvbnRlbnRUb3BpY10gPSBuZXcgU2V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vYnNlcnZlcnNbY29udGVudFRvcGljXS5hZGQoY2FsbGJhY2spO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhbiBvYnNlcnZlciBvZiBuZXcgbWVzc2FnZXMgcmVjZWl2ZWQgdmlhIHdha3UgcmVsYXkuXG4gICAqIFVzZWZ1bCB0byBlbnN1cmUgdGhlIHNhbWUgb2JzZXJ2ZXIgaXMgbm90IHJlZ2lzdGVyZWQgc2V2ZXJhbCB0aW1lXG4gICAqIChlLmcgd2hlbiBsb2FkaW5nIFJlYWN0IGNvbXBvbmVudHMpXG4gICAqL1xuICBkZWxldGVPYnNlcnZlcihcbiAgICBjYWxsYmFjazogKG1lc3NhZ2U6IFdha3VNZXNzYWdlKSA9PiB2b2lkLFxuICAgIGNvbnRlbnRUb3BpY3M6IHN0cmluZ1tdID0gW11cbiAgKTogdm9pZCB7XG4gICAgaWYgKGNvbnRlbnRUb3BpY3MubGVuZ3RoID09PSAwKSB7XG4gICAgICBpZiAodGhpcy5vYnNlcnZlcnNbJyddKSB7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXJzWycnXS5kZWxldGUoY2FsbGJhY2spO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb250ZW50VG9waWNzLmZvckVhY2goKGNvbnRlbnRUb3BpYykgPT4ge1xuICAgICAgICBpZiAodGhpcy5vYnNlcnZlcnNbY29udGVudFRvcGljXSkge1xuICAgICAgICAgIHRoaXMub2JzZXJ2ZXJzW2NvbnRlbnRUb3BpY10uZGVsZXRlKGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgcmVsYXkgcGVlcnMgd2UgYXJlIGNvbm5lY3RlZCB0byBhbmQgd2Ugd291bGQgcHVibGlzaCBhIG1lc3NhZ2UgdG9cbiAgICovXG4gIGdldFBlZXJzKCk6IFNldDxzdHJpbmc+IHtcbiAgICByZXR1cm4gZ2V0UmVsYXlQZWVycyh0aGlzLCB0aGlzLnB1YlN1YlRvcGljLCB0aGlzLl9vcHRpb25zLkQsIChpZCkgPT4ge1xuICAgICAgLy8gRmlsdGVyIHBlZXJzIHdlIHdvdWxkIG5vdCBwdWJsaXNoIHRvXG4gICAgICByZXR1cm4gKFxuICAgICAgICB0aGlzLnNjb3JlLnNjb3JlKGlkKSA+PSB0aGlzLl9vcHRpb25zLnNjb3JlVGhyZXNob2xkcy5wdWJsaXNoVGhyZXNob2xkXG4gICAgICApO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFN1YnNjcmliZSB0byBhIHB1YnN1YiB0b3BpYyBhbmQgc3RhcnQgZW1pdHRpbmcgV2FrdSBtZXNzYWdlcyB0byBvYnNlcnZlcnMuXG4gICAqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3Vic2NyaWJlKHB1YlN1YlRvcGljOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLm9uKHB1YlN1YlRvcGljLCAoZXZlbnQpID0+IHtcbiAgICAgIGRiZyhgTWVzc2FnZSByZWNlaXZlZCBvbiAke3B1YlN1YlRvcGljfWApO1xuICAgICAgV2FrdU1lc3NhZ2UuZGVjb2RlKGV2ZW50LmRhdGEsIEFycmF5LmZyb20odGhpcy5kZWNyeXB0aW9uS2V5cykpXG4gICAgICAgIC50aGVuKCh3YWt1TXNnKSA9PiB7XG4gICAgICAgICAgaWYgKCF3YWt1TXNnKSB7XG4gICAgICAgICAgICBkYmcoJ0ZhaWxlZCB0byBkZWNvZGUgV2FrdSBNZXNzYWdlJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHRoaXMub2JzZXJ2ZXJzWycnXSkge1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlcnNbJyddLmZvckVhY2goKGNhbGxiYWNrRm4pID0+IHtcbiAgICAgICAgICAgICAgY2FsbGJhY2tGbih3YWt1TXNnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAod2FrdU1zZy5jb250ZW50VG9waWMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm9ic2VydmVyc1t3YWt1TXNnLmNvbnRlbnRUb3BpY10pIHtcbiAgICAgICAgICAgICAgdGhpcy5vYnNlcnZlcnNbd2FrdU1zZy5jb250ZW50VG9waWNdLmZvckVhY2goKGNhbGxiYWNrRm4pID0+IHtcbiAgICAgICAgICAgICAgICBjYWxsYmFja0ZuKHdha3VNc2cpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgIGRiZygnRmFpbGVkIHRvIGRlY29kZSBXYWt1IE1lc3NhZ2UnLCBlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBzdXBlci5zdWJzY3JpYmUocHViU3ViVG9waWMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEpvaW4gcHVic3ViIHRvcGljLlxuICAgKiBUaGlzIGlzIHByZXNlbnQgdG8gb3ZlcnJpZGUgdGhlIGJlaGF2aW9yIG9mIEdvc3NpcHN1YiBhbmQgc2hvdWxkIG5vdFxuICAgKiBiZSB1c2VkIGJ5IEFQSSBDb25zdW1lcnNcbiAgICpcbiAgICogQGludGVybmFsXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0b3BpY1xuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBqb2luKHRvcGljOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuc3RhcnRlZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdXYWt1UmVsYXlQdWJTdWIgaGFzIG5vdCBzdGFydGVkJyk7XG4gICAgfVxuXG4gICAgY29uc3QgZmFub3V0UGVlcnMgPSB0aGlzLmZhbm91dC5nZXQodG9waWMpO1xuICAgIGlmIChmYW5vdXRQZWVycykge1xuICAgICAgLy8gdGhlc2UgcGVlcnMgaGF2ZSBhIHNjb3JlIGFib3ZlIHRoZSBwdWJsaXNoIHRocmVzaG9sZCwgd2hpY2ggbWF5IGJlIG5lZ2F0aXZlXG4gICAgICAvLyBzbyBkcm9wIHRoZSBvbmVzIHdpdGggYSBuZWdhdGl2ZSBzY29yZVxuICAgICAgZmFub3V0UGVlcnMuZm9yRWFjaCgoaWQpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuc2NvcmUuc2NvcmUoaWQpIDwgMCkge1xuICAgICAgICAgIGZhbm91dFBlZXJzLmRlbGV0ZShpZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKGZhbm91dFBlZXJzLnNpemUgPCB0aGlzLl9vcHRpb25zLkQpIHtcbiAgICAgICAgLy8gd2UgbmVlZCBtb3JlIHBlZXJzOyBlYWdlciwgYXMgdGhpcyB3b3VsZCBnZXQgZml4ZWQgaW4gdGhlIG5leHQgaGVhcnRiZWF0XG4gICAgICAgIGdldFJlbGF5UGVlcnMoXG4gICAgICAgICAgdGhpcyxcbiAgICAgICAgICB0b3BpYyxcbiAgICAgICAgICB0aGlzLl9vcHRpb25zLkQgLSBmYW5vdXRQZWVycy5zaXplLFxuICAgICAgICAgIChpZDogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gICAgICAgICAgICAvLyBmaWx0ZXIgb3VyIGN1cnJlbnQgcGVlcnMsIGRpcmVjdCBwZWVycywgYW5kIHBlZXJzIHdpdGggbmVnYXRpdmUgc2NvcmVzXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAhZmFub3V0UGVlcnMuaGFzKGlkKSAmJlxuICAgICAgICAgICAgICAhdGhpcy5kaXJlY3QuaGFzKGlkKSAmJlxuICAgICAgICAgICAgICB0aGlzLnNjb3JlLnNjb3JlKGlkKSA+PSAwXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgKS5mb3JFYWNoKChpZCkgPT4gZmFub3V0UGVlcnMuYWRkKGlkKSk7XG4gICAgICB9XG4gICAgICB0aGlzLm1lc2guc2V0KHRvcGljLCBmYW5vdXRQZWVycyk7XG4gICAgICB0aGlzLmZhbm91dC5kZWxldGUodG9waWMpO1xuICAgICAgdGhpcy5sYXN0cHViLmRlbGV0ZSh0b3BpYyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHBlZXJzID0gZ2V0UmVsYXlQZWVycyhcbiAgICAgICAgdGhpcyxcbiAgICAgICAgdG9waWMsXG4gICAgICAgIHRoaXMuX29wdGlvbnMuRCxcbiAgICAgICAgKGlkOiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgICAgICAgICAvLyBmaWx0ZXIgZGlyZWN0IHBlZXJzIGFuZCBwZWVycyB3aXRoIG5lZ2F0aXZlIHNjb3JlXG4gICAgICAgICAgcmV0dXJuICF0aGlzLmRpcmVjdC5oYXMoaWQpICYmIHRoaXMuc2NvcmUuc2NvcmUoaWQpID49IDA7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgICB0aGlzLm1lc2guc2V0KHRvcGljLCBwZWVycyk7XG4gICAgfVxuICAgIHRoaXMubWVzaC5nZXQodG9waWMpPy5mb3JFYWNoKChpZCkgPT4ge1xuICAgICAgdGhpcy5sb2coJ0pPSU46IEFkZCBtZXNoIGxpbmsgdG8gJXMgaW4gJXMnLCBpZCwgdG9waWMpO1xuICAgICAgdGhpcy5fc2VuZEdyYWZ0KGlkLCB0b3BpYyk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUHVibGlzaCBtZXNzYWdlcy5cbiAgICogVGhpcyBpcyBwcmVzZW50IHRvIG92ZXJyaWRlIHRoZSBiZWhhdmlvciBvZiBHb3NzaXBzdWIgYW5kIHNob3VsZCBub3RcbiAgICogYmUgdXNlZCBieSBBUEkgQ29uc3VtZXJzXG4gICAqXG4gICAqIEBpZ25vcmVcbiAgICogQG92ZXJyaWRlXG4gICAqIEBwYXJhbSB7SW5NZXNzYWdlfSBtc2dcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICBhc3luYyBfcHVibGlzaChtc2c6IEluTWVzc2FnZSk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmIChtc2cucmVjZWl2ZWRGcm9tICE9PSB0aGlzLnBlZXJJZC50b0I1OFN0cmluZygpKSB7XG4gICAgICB0aGlzLnNjb3JlLmRlbGl2ZXJNZXNzYWdlKG1zZyk7XG4gICAgICB0aGlzLmdvc3NpcFRyYWNlci5kZWxpdmVyTWVzc2FnZShtc2cpO1xuICAgIH1cblxuICAgIGNvbnN0IG1zZ0lEID0gYXdhaXQgdGhpcy5nZXRNc2dJZChtc2cpO1xuICAgIGNvbnN0IG1zZ0lkU3RyID0gbWVzc2FnZUlkVG9TdHJpbmcobXNnSUQpO1xuICAgIC8vIHB1dCBpbiBzZWVuIGNhY2hlXG4gICAgdGhpcy5zZWVuQ2FjaGUucHV0KG1zZ0lkU3RyKTtcblxuICAgIHRoaXMubWVzc2FnZUNhY2hlLnB1dChtc2cpO1xuXG4gICAgY29uc3QgdG9TZW5kID0gbmV3IFNldDxzdHJpbmc+KCk7XG4gICAgbXNnLnRvcGljSURzLmZvckVhY2goKHRvcGljKSA9PiB7XG4gICAgICBjb25zdCBwZWVyc0luVG9waWMgPSB0aGlzLnRvcGljcy5nZXQodG9waWMpO1xuICAgICAgaWYgKCFwZWVyc0luVG9waWMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBkaXJlY3QgcGVlcnNcbiAgICAgIHRoaXMuZGlyZWN0LmZvckVhY2goKGlkKSA9PiB7XG4gICAgICAgIHRvU2VuZC5hZGQoaWQpO1xuICAgICAgfSk7XG5cbiAgICAgIGxldCBtZXNoUGVlcnMgPSB0aGlzLm1lc2guZ2V0KHRvcGljKTtcbiAgICAgIGlmICghbWVzaFBlZXJzIHx8ICFtZXNoUGVlcnMuc2l6ZSkge1xuICAgICAgICAvLyBXZSBhcmUgbm90IGluIHRoZSBtZXNoIGZvciB0b3BpYywgdXNlIGZhbm91dCBwZWVyc1xuICAgICAgICBtZXNoUGVlcnMgPSB0aGlzLmZhbm91dC5nZXQodG9waWMpO1xuICAgICAgICBpZiAoIW1lc2hQZWVycykge1xuICAgICAgICAgIC8vIElmIHdlIGFyZSBub3QgaW4gdGhlIGZhbm91dCwgdGhlbiBwaWNrIHBlZXJzIGluIHRvcGljIGFib3ZlIHRoZSBwdWJsaXNoVGhyZXNob2xkXG4gICAgICAgICAgY29uc3QgcGVlcnMgPSBnZXRSZWxheVBlZXJzKHRoaXMsIHRvcGljLCB0aGlzLl9vcHRpb25zLkQsIChpZCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgdGhpcy5zY29yZS5zY29yZShpZCkgPj1cbiAgICAgICAgICAgICAgdGhpcy5fb3B0aW9ucy5zY29yZVRocmVzaG9sZHMucHVibGlzaFRocmVzaG9sZFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGlmIChwZWVycy5zaXplID4gMCkge1xuICAgICAgICAgICAgbWVzaFBlZXJzID0gcGVlcnM7XG4gICAgICAgICAgICB0aGlzLmZhbm91dC5zZXQodG9waWMsIHBlZXJzKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbWVzaFBlZXJzID0gbmV3IFNldCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBTdG9yZSB0aGUgbGF0ZXN0IHB1Ymxpc2hpbmcgdGltZVxuICAgICAgICB0aGlzLmxhc3RwdWIuc2V0KHRvcGljLCB0aGlzLl9ub3coKSk7XG4gICAgICB9XG5cbiAgICAgIG1lc2hQZWVycz8uZm9yRWFjaCgocGVlcikgPT4ge1xuICAgICAgICB0b1NlbmQuYWRkKHBlZXIpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgLy8gUHVibGlzaCBtZXNzYWdlcyB0byBwZWVyc1xuICAgIGNvbnN0IHJwYyA9IGNyZWF0ZUdvc3NpcFJwYyhbR29zc2lwc3ViLnV0aWxzLm5vcm1hbGl6ZU91dFJwY01lc3NhZ2UobXNnKV0pO1xuICAgIHRvU2VuZC5mb3JFYWNoKChpZCkgPT4ge1xuICAgICAgaWYgKGlkID09PSBtc2cuZnJvbSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLl9zZW5kUnBjKGlkLCBycGMpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEVtaXRzIGdvc3NpcCB0byBwZWVycyBpbiBhIHBhcnRpY3VsYXIgdG9waWMuXG4gICAqXG4gICAqIFRoaXMgaXMgcHJlc2VudCB0byBvdmVycmlkZSB0aGUgYmVoYXZpb3Igb2YgR29zc2lwc3ViIGFuZCBzaG91bGQgbm90XG4gICAqIGJlIHVzZWQgYnkgQVBJIENvbnN1bWVyc1xuICAgKlxuICAgKiBAaWdub3JlXG4gICAqIEBvdmVycmlkZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdG9waWNcbiAgICogQHBhcmFtIHtTZXQ8c3RyaW5nPn0gZXhjbHVkZSBwZWVycyB0byBleGNsdWRlXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgX2VtaXRHb3NzaXAodG9waWM6IHN0cmluZywgZXhjbHVkZTogU2V0PHN0cmluZz4pOiB2b2lkIHtcbiAgICBjb25zdCBtZXNzYWdlSURzID0gdGhpcy5tZXNzYWdlQ2FjaGUuZ2V0R29zc2lwSURzKHRvcGljKTtcbiAgICBpZiAoIW1lc3NhZ2VJRHMubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gc2h1ZmZsZSB0byBlbWl0IGluIHJhbmRvbSBvcmRlclxuICAgIHNodWZmbGUobWVzc2FnZUlEcyk7XG5cbiAgICAvLyBpZiB3ZSBhcmUgZW1pdHRpbmcgbW9yZSB0aGFuIEdvc3NpcHN1Yk1heElIYXZlTGVuZ3RoIGlkcywgdHJ1bmNhdGUgdGhlIGxpc3RcbiAgICBpZiAobWVzc2FnZUlEcy5sZW5ndGggPiBjb25zdGFudHMuUmVsYXlNYXhJSGF2ZUxlbmd0aCkge1xuICAgICAgLy8gd2UgZG8gdGhlIHRydW5jYXRpb24gKHdpdGggc2h1ZmZsaW5nKSBwZXIgcGVlciBiZWxvd1xuICAgICAgdGhpcy5sb2coXG4gICAgICAgICd0b28gbWFueSBtZXNzYWdlcyBmb3IgZ29zc2lwOyB3aWxsIHRydW5jYXRlIElIQVZFIGxpc3QgKCVkIG1lc3NhZ2VzKScsXG4gICAgICAgIG1lc3NhZ2VJRHMubGVuZ3RoXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIFNlbmQgZ29zc2lwIHRvIEdvc3NpcEZhY3RvciBwZWVycyBhYm92ZSB0aHJlc2hvbGQgd2l0aCBhIG1pbmltdW0gb2YgRF9sYXp5XG4gICAgLy8gRmlyc3Qgd2UgY29sbGVjdCB0aGUgcGVlcnMgYWJvdmUgZ29zc2lwVGhyZXNob2xkIHRoYXQgYXJlIG5vdCBpbiB0aGUgZXhjbHVkZSBzZXRcbiAgICAvLyBhbmQgdGhlbiByYW5kb21seSBzZWxlY3QgZnJvbSB0aGF0IHNldFxuICAgIC8vIFdlIGFsc28gZXhjbHVkZSBkaXJlY3QgcGVlcnMsIGFzIHRoZXJlIGlzIG5vIHJlYXNvbiB0byBlbWl0IGdvc3NpcCB0byB0aGVtXG4gICAgY29uc3QgcGVlcnNUb0dvc3NpcDogc3RyaW5nW10gPSBbXTtcbiAgICBjb25zdCB0b3BpY1BlZXJzID0gdGhpcy50b3BpY3MuZ2V0KHRvcGljKTtcbiAgICBpZiAoIXRvcGljUGVlcnMpIHtcbiAgICAgIC8vIG5vIHRvcGljIHBlZXJzLCBubyBnb3NzaXBcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdG9waWNQZWVycy5mb3JFYWNoKChpZCkgPT4ge1xuICAgICAgY29uc3QgcGVlclN0cmVhbXMgPSB0aGlzLnBlZXJzLmdldChpZCk7XG4gICAgICBpZiAoIXBlZXJTdHJlYW1zKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChcbiAgICAgICAgIWV4Y2x1ZGUuaGFzKGlkKSAmJlxuICAgICAgICAhdGhpcy5kaXJlY3QuaGFzKGlkKSAmJlxuICAgICAgICBjb25zdGFudHMuUmVsYXlDb2RlY3MuaW5jbHVkZXMocGVlclN0cmVhbXMucHJvdG9jb2wpICYmXG4gICAgICAgIHRoaXMuc2NvcmUuc2NvcmUoaWQpID49IHRoaXMuX29wdGlvbnMuc2NvcmVUaHJlc2hvbGRzLmdvc3NpcFRocmVzaG9sZFxuICAgICAgKSB7XG4gICAgICAgIHBlZXJzVG9Hb3NzaXAucHVzaChpZCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBsZXQgdGFyZ2V0ID0gdGhpcy5fb3B0aW9ucy5EbGF6eTtcbiAgICBjb25zdCBmYWN0b3IgPSBjb25zdGFudHMuUmVsYXlHb3NzaXBGYWN0b3IgKiBwZWVyc1RvR29zc2lwLmxlbmd0aDtcbiAgICBpZiAoZmFjdG9yID4gdGFyZ2V0KSB7XG4gICAgICB0YXJnZXQgPSBmYWN0b3I7XG4gICAgfVxuICAgIGlmICh0YXJnZXQgPiBwZWVyc1RvR29zc2lwLmxlbmd0aCkge1xuICAgICAgdGFyZ2V0ID0gcGVlcnNUb0dvc3NpcC5sZW5ndGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNodWZmbGUocGVlcnNUb0dvc3NpcCk7XG4gICAgfVxuICAgIC8vIEVtaXQgdGhlIElIQVZFIGdvc3NpcCB0byB0aGUgc2VsZWN0ZWQgcGVlcnMgdXAgdG8gdGhlIHRhcmdldFxuICAgIHBlZXJzVG9Hb3NzaXAuc2xpY2UoMCwgdGFyZ2V0KS5mb3JFYWNoKChpZCkgPT4ge1xuICAgICAgbGV0IHBlZXJNZXNzYWdlSURzID0gbWVzc2FnZUlEcztcbiAgICAgIGlmIChtZXNzYWdlSURzLmxlbmd0aCA+IGNvbnN0YW50cy5SZWxheU1heElIYXZlTGVuZ3RoKSB7XG4gICAgICAgIC8vIHNodWZmbGUgYW5kIHNsaWNlIG1lc3NhZ2UgSURzIHBlciBwZWVyIHNvIHRoYXQgd2UgZW1pdCBhIGRpZmZlcmVudCBzZXQgZm9yIGVhY2ggcGVlclxuICAgICAgICAvLyB3ZSBoYXZlIGVub3VnaCByZWR1bmRhbmN5IGluIHRoZSBzeXN0ZW0gdGhhdCB0aGlzIHdpbGwgc2lnbmlmaWNhbnRseSBpbmNyZWFzZSB0aGUgbWVzc2FnZVxuICAgICAgICAvLyBjb3ZlcmFnZSB3aGVuIHdlIGRvIHRydW5jYXRlXG4gICAgICAgIHBlZXJNZXNzYWdlSURzID0gc2h1ZmZsZShwZWVyTWVzc2FnZUlEcy5zbGljZSgpKS5zbGljZShcbiAgICAgICAgICAwLFxuICAgICAgICAgIGNvbnN0YW50cy5SZWxheU1heElIYXZlTGVuZ3RoXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICB0aGlzLl9wdXNoR29zc2lwKGlkLCB7XG4gICAgICAgIHRvcGljSUQ6IHRvcGljLFxuICAgICAgICBtZXNzYWdlSURzOiBwZWVyTWVzc2FnZUlEcyxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIE1ha2UgYSBQUlVORSBjb250cm9sIG1lc3NhZ2UgZm9yIGEgcGVlciBpbiBhIHRvcGljLlxuICAgKiBUaGlzIGlzIHByZXNlbnQgdG8gb3ZlcnJpZGUgdGhlIGJlaGF2aW9yIG9mIEdvc3NpcHN1YiBhbmQgc2hvdWxkIG5vdFxuICAgKiBiZSB1c2VkIGJ5IEFQSSBDb25zdW1lcnNcbiAgICpcbiAgICogQGlnbm9yZVxuICAgKiBAb3ZlcnJpZGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0b3BpY1xuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGRvUFhcbiAgICogQHJldHVybnMge1JQQy5JQ29udHJvbFBydW5lfVxuICAgKi9cbiAgX21ha2VQcnVuZShpZDogc3RyaW5nLCB0b3BpYzogc3RyaW5nLCBkb1BYOiBib29sZWFuKTogUlBDLklDb250cm9sUHJ1bmUge1xuICAgIC8vIGJhY2tvZmYgaXMgbWVhc3VyZWQgaW4gc2Vjb25kc1xuICAgIC8vIFJlbGF5UHJ1bmVCYWNrb2ZmIGlzIG1lYXN1cmVkIGluIG1pbGxpc2Vjb25kc1xuICAgIGNvbnN0IGJhY2tvZmYgPSBjb25zdGFudHMuUmVsYXlQcnVuZUJhY2tvZmYgLyAxMDAwO1xuICAgIGNvbnN0IHB4OiBSUEMuSVBlZXJJbmZvW10gPSBbXTtcbiAgICBpZiAoZG9QWCkge1xuICAgICAgLy8gc2VsZWN0IHBlZXJzIGZvciBQZWVyIGVYY2hhbmdlXG4gICAgICBjb25zdCBwZWVycyA9IGdldFJlbGF5UGVlcnMoXG4gICAgICAgIHRoaXMsXG4gICAgICAgIHRvcGljLFxuICAgICAgICBjb25zdGFudHMuUmVsYXlQcnVuZVBlZXJzLFxuICAgICAgICAoeGlkOiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgICAgICAgICByZXR1cm4geGlkICE9PSBpZCAmJiB0aGlzLnNjb3JlLnNjb3JlKHhpZCkgPj0gMDtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICAgIHBlZXJzLmZvckVhY2goKHApID0+IHtcbiAgICAgICAgLy8gc2VlIGlmIHdlIGhhdmUgYSBzaWduZWQgcmVjb3JkIHRvIHNlbmQgYmFjazsgaWYgd2UgZG9uJ3QsIGp1c3Qgc2VuZFxuICAgICAgICAvLyB0aGUgcGVlciBJRCBhbmQgbGV0IHRoZSBwcnVuZWQgcGVlciBmaW5kIHRoZW0gaW4gdGhlIERIVCAtLSB3ZSBjYW4ndCB0cnVzdFxuICAgICAgICAvLyB1bnNpZ25lZCBhZGRyZXNzIHJlY29yZHMgdGhyb3VnaCBQWCBhbnl3YXlzXG4gICAgICAgIC8vIEZpbmRpbmcgc2lnbmVkIHJlY29yZHMgaW4gdGhlIERIVCBpcyBub3Qgc3VwcG9ydGVkIGF0IHRoZSB0aW1lIG9mIHdyaXRpbmcgaW4ganMtbGlicDJwXG4gICAgICAgIGNvbnN0IHBlZXJJZCA9IFBlZXJJZC5jcmVhdGVGcm9tQjU4U3RyaW5nKHApO1xuICAgICAgICBweC5wdXNoKHtcbiAgICAgICAgICBwZWVySUQ6IHBlZXJJZC50b0J5dGVzKCksXG4gICAgICAgICAgc2lnbmVkUGVlclJlY29yZDpcbiAgICAgICAgICAgIHRoaXMuX2xpYnAycC5wZWVyU3RvcmUuYWRkcmVzc0Jvb2suZ2V0UmF3RW52ZWxvcGUocGVlcklkKSxcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHRvcGljSUQ6IHRvcGljLFxuICAgICAgcGVlcnM6IHB4LFxuICAgICAgYmFja29mZjogYmFja29mZixcbiAgICB9O1xuICB9XG59XG4iLCIvKipcbiAqIEBoaWRkZW5cbiAqIEBtb2R1bGVcbiAqL1xuXG5pbXBvcnQgR29zc2lwc3ViIGZyb20gJ2xpYnAycC1nb3NzaXBzdWInO1xuaW1wb3J0IHsgSGVhcnRiZWF0IH0gZnJvbSAnbGlicDJwLWdvc3NpcHN1Yi9zcmMvaGVhcnRiZWF0JztcbmltcG9ydCB7IHNodWZmbGUgfSBmcm9tICdsaWJwMnAtZ29zc2lwc3ViL3NyYy91dGlscyc7XG5cbmltcG9ydCAqIGFzIGNvbnN0YW50cyBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBnZXRSZWxheVBlZXJzIH0gZnJvbSAnLi9nZXRfcmVsYXlfcGVlcnMnO1xuXG5leHBvcnQgY2xhc3MgUmVsYXlIZWFydGJlYXQgZXh0ZW5kcyBIZWFydGJlYXQge1xuICAvKipcbiAgICogQHBhcmFtIHtPYmplY3R9IGdvc3NpcHN1YlxuICAgKiBAY29uc3RydWN0b3JcbiAgICovXG4gIGNvbnN0cnVjdG9yKGdvc3NpcHN1YjogR29zc2lwc3ViKSB7XG4gICAgc3VwZXIoZ29zc2lwc3ViKTtcbiAgfVxuXG4gIHN0YXJ0KCk6IHZvaWQge1xuICAgIGlmICh0aGlzLl9oZWFydGJlYXRUaW1lcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGhlYXJ0YmVhdCA9IHRoaXMuX2hlYXJ0YmVhdC5iaW5kKHRoaXMpO1xuXG4gICAgY29uc3QgdGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaGVhcnRiZWF0KCk7XG4gICAgICB0aGlzLl9oZWFydGJlYXRUaW1lcj8ucnVuUGVyaW9kaWNhbGx5KFxuICAgICAgICBoZWFydGJlYXQsXG4gICAgICAgIGNvbnN0YW50cy5SZWxheUhlYXJ0YmVhdEludGVydmFsXG4gICAgICApO1xuICAgIH0sIGNvbnN0YW50cy5SZWxheUhlYXJ0YmVhdEluaXRpYWxEZWxheSk7XG5cbiAgICB0aGlzLl9oZWFydGJlYXRUaW1lciA9IHtcbiAgICAgIF9pbnRlcnZhbElkOiB1bmRlZmluZWQsXG4gICAgICBydW5QZXJpb2RpY2FsbHk6IChmbiwgcGVyaW9kKTogdm9pZCA9PiB7XG4gICAgICAgIC8vIHRoaXMuX2hlYXJ0YmVhdFRpbWVyIGNhbm5vdCBiZSBudWxsLCBpdCBpcyBiZWluZyBhc3NpZ25lZC5cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgICAgdGhpcy5faGVhcnRiZWF0VGltZXIhLl9pbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoZm4sIHBlcmlvZCk7XG4gICAgICB9LFxuICAgICAgY2FuY2VsOiAoKTogdm9pZCA9PiB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLl9oZWFydGJlYXRUaW1lcj8uX2ludGVydmFsSWQgYXMgTm9kZUpTLlRpbWVvdXQpO1xuICAgICAgfSxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFVubW91bnRzIHRoZSBnb3NzaXBzdWIgcHJvdG9jb2wgYW5kIHNodXRzIGRvd24gZXZlcnkgY29ubmVjdGlvblxuICAgKiBAb3ZlcnJpZGVcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICBzdG9wKCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5faGVhcnRiZWF0VGltZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9oZWFydGJlYXRUaW1lci5jYW5jZWwoKTtcbiAgICB0aGlzLl9oZWFydGJlYXRUaW1lciA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogTWFpbnRhaW5zIHRoZSBtZXNoIGFuZCBmYW5vdXQgbWFwcyBpbiBnb3NzaXBzdWIuXG4gICAqXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgX2hlYXJ0YmVhdCgpOiB2b2lkIHtcbiAgICBjb25zdCB7IEQsIERsbywgRGhpLCBEc2NvcmUsIERvdXQgfSA9IHRoaXMuZ29zc2lwc3ViLl9vcHRpb25zO1xuICAgIHRoaXMuZ29zc2lwc3ViLmhlYXJ0YmVhdFRpY2tzKys7XG5cbiAgICAvLyBjYWNoZSBzY29yZXMgdGhyb3VnaCB0aGUgaGVhcnRiZWF0XG4gICAgY29uc3Qgc2NvcmVzID0gbmV3IE1hcDxzdHJpbmcsIG51bWJlcj4oKTtcbiAgICBjb25zdCBnZXRTY29yZSA9IChpZDogc3RyaW5nKTogbnVtYmVyID0+IHtcbiAgICAgIGxldCBzID0gc2NvcmVzLmdldChpZCk7XG4gICAgICBpZiAocyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHMgPSB0aGlzLmdvc3NpcHN1Yi5zY29yZS5zY29yZShpZCk7XG4gICAgICAgIHNjb3Jlcy5zZXQoaWQsIHMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHM7XG4gICAgfTtcblxuICAgIC8vIHBlZXIgaWQgPT4gdG9waWNbXVxuICAgIGNvbnN0IHRvR3JhZnQgPSBuZXcgTWFwPHN0cmluZywgc3RyaW5nW10+KCk7XG4gICAgLy8gcGVlciBpZCA9PiB0b3BpY1tdXG4gICAgY29uc3QgdG9QcnVuZSA9IG5ldyBNYXA8c3RyaW5nLCBzdHJpbmdbXT4oKTtcbiAgICAvLyBwZWVyIGlkID0+IGRvbid0IHB4XG4gICAgY29uc3Qgbm9QWCA9IG5ldyBNYXA8c3RyaW5nLCBib29sZWFuPigpO1xuXG4gICAgLy8gY2xlYW4gdXAgZXhwaXJlZCBiYWNrb2Zmc1xuICAgIHRoaXMuZ29zc2lwc3ViLl9jbGVhckJhY2tvZmYoKTtcblxuICAgIC8vIGNsZWFuIHVwIHBlZXJoYXZlL2lhc2tlZCBjb3VudGVyc1xuICAgIHRoaXMuZ29zc2lwc3ViLnBlZXJoYXZlLmNsZWFyKCk7XG4gICAgdGhpcy5nb3NzaXBzdWIuaWFza2VkLmNsZWFyKCk7XG5cbiAgICAvLyBhcHBseSBJV0FOVCByZXF1ZXN0IHBlbmFsdGllc1xuICAgIHRoaXMuZ29zc2lwc3ViLl9hcHBseUl3YW50UGVuYWx0aWVzKCk7XG5cbiAgICAvLyBlbnN1cmUgZGlyZWN0IHBlZXJzIGFyZSBjb25uZWN0ZWRcbiAgICB0aGlzLmdvc3NpcHN1Yi5fZGlyZWN0Q29ubmVjdCgpO1xuXG4gICAgLy8gbWFpbnRhaW4gdGhlIG1lc2ggZm9yIHRvcGljcyB3ZSBoYXZlIGpvaW5lZFxuICAgIHRoaXMuZ29zc2lwc3ViLm1lc2guZm9yRWFjaCgocGVlcnMsIHRvcGljKSA9PiB7XG4gICAgICAvLyBwcnVuZS9ncmFmdCBoZWxwZXIgZnVuY3Rpb25zIChkZWZpbmVkIHBlciB0b3BpYylcbiAgICAgIGNvbnN0IHBydW5lUGVlciA9IChpZDogc3RyaW5nKTogdm9pZCA9PiB7XG4gICAgICAgIHRoaXMuZ29zc2lwc3ViLmxvZyhcbiAgICAgICAgICAnSEVBUlRCRUFUOiBSZW1vdmUgbWVzaCBsaW5rIHRvICVzIGluICVzJyxcbiAgICAgICAgICBpZCxcbiAgICAgICAgICB0b3BpY1xuICAgICAgICApO1xuICAgICAgICAvLyB1cGRhdGUgcGVlciBzY29yZVxuICAgICAgICB0aGlzLmdvc3NpcHN1Yi5zY29yZS5wcnVuZShpZCwgdG9waWMpO1xuICAgICAgICAvLyBhZGQgcHJ1bmUgYmFja29mZiByZWNvcmRcbiAgICAgICAgdGhpcy5nb3NzaXBzdWIuX2FkZEJhY2tvZmYoaWQsIHRvcGljKTtcbiAgICAgICAgLy8gcmVtb3ZlIHBlZXIgZnJvbSBtZXNoXG4gICAgICAgIHBlZXJzLmRlbGV0ZShpZCk7XG4gICAgICAgIC8vIGFkZCB0byB0b1BydW5lXG4gICAgICAgIGNvbnN0IHRvcGljcyA9IHRvUHJ1bmUuZ2V0KGlkKTtcbiAgICAgICAgaWYgKCF0b3BpY3MpIHtcbiAgICAgICAgICB0b1BydW5lLnNldChpZCwgW3RvcGljXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdG9waWNzLnB1c2godG9waWMpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgY29uc3QgZ3JhZnRQZWVyID0gKGlkOiBzdHJpbmcpOiB2b2lkID0+IHtcbiAgICAgICAgdGhpcy5nb3NzaXBzdWIubG9nKCdIRUFSVEJFQVQ6IEFkZCBtZXNoIGxpbmsgdG8gJXMgaW4gJXMnLCBpZCwgdG9waWMpO1xuICAgICAgICAvLyB1cGRhdGUgcGVlciBzY29yZVxuICAgICAgICB0aGlzLmdvc3NpcHN1Yi5zY29yZS5ncmFmdChpZCwgdG9waWMpO1xuICAgICAgICAvLyBhZGQgcGVlciB0byBtZXNoXG4gICAgICAgIHBlZXJzLmFkZChpZCk7XG4gICAgICAgIC8vIGFkZCB0byB0b0dyYWZ0XG4gICAgICAgIGNvbnN0IHRvcGljcyA9IHRvR3JhZnQuZ2V0KGlkKTtcbiAgICAgICAgaWYgKCF0b3BpY3MpIHtcbiAgICAgICAgICB0b0dyYWZ0LnNldChpZCwgW3RvcGljXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdG9waWNzLnB1c2godG9waWMpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAvLyBkcm9wIGFsbCBwZWVycyB3aXRoIG5lZ2F0aXZlIHNjb3JlLCB3aXRob3V0IFBYXG4gICAgICBwZWVycy5mb3JFYWNoKChpZCkgPT4ge1xuICAgICAgICBjb25zdCBzY29yZSA9IGdldFNjb3JlKGlkKTtcbiAgICAgICAgaWYgKHNjb3JlIDwgMCkge1xuICAgICAgICAgIHRoaXMuZ29zc2lwc3ViLmxvZyhcbiAgICAgICAgICAgICdIRUFSVEJFQVQ6IFBydW5lIHBlZXIgJXMgd2l0aCBuZWdhdGl2ZSBzY29yZTogc2NvcmU9JWQsIHRvcGljPSVzJyxcbiAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgc2NvcmUsXG4gICAgICAgICAgICB0b3BpY1xuICAgICAgICAgICk7XG4gICAgICAgICAgcHJ1bmVQZWVyKGlkKTtcbiAgICAgICAgICBub1BYLnNldChpZCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyBkbyB3ZSBoYXZlIGVub3VnaCBwZWVycz9cbiAgICAgIGlmIChwZWVycy5zaXplIDwgRGxvKSB7XG4gICAgICAgIGNvbnN0IGJhY2tvZmYgPSB0aGlzLmdvc3NpcHN1Yi5iYWNrb2ZmLmdldCh0b3BpYyk7XG4gICAgICAgIGNvbnN0IGluZWVkID0gRCAtIHBlZXJzLnNpemU7XG4gICAgICAgIGNvbnN0IHBlZXJzU2V0ID0gZ2V0UmVsYXlQZWVycyhcbiAgICAgICAgICB0aGlzLmdvc3NpcHN1YixcbiAgICAgICAgICB0b3BpYyxcbiAgICAgICAgICBpbmVlZCxcbiAgICAgICAgICAoaWQ6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgLy8gZmlsdGVyIG91dCBtZXNoIHBlZXJzLCBkaXJlY3QgcGVlcnMsIHBlZXJzIHdlIGFyZSBiYWNraW5nIG9mZiwgcGVlcnMgd2l0aCBuZWdhdGl2ZSBzY29yZVxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgIXBlZXJzLmhhcyhpZCkgJiZcbiAgICAgICAgICAgICAgIXRoaXMuZ29zc2lwc3ViLmRpcmVjdC5oYXMoaWQpICYmXG4gICAgICAgICAgICAgICghYmFja29mZiB8fCAhYmFja29mZi5oYXMoaWQpKSAmJlxuICAgICAgICAgICAgICBnZXRTY29yZShpZCkgPj0gMFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICAgICAgcGVlcnNTZXQuZm9yRWFjaChncmFmdFBlZXIpO1xuICAgICAgfVxuXG4gICAgICAvLyBkbyB3ZSBoYXZlIHRvIG1hbnkgcGVlcnM/XG4gICAgICBpZiAocGVlcnMuc2l6ZSA+IERoaSkge1xuICAgICAgICBsZXQgcGVlcnNBcnJheSA9IEFycmF5LmZyb20ocGVlcnMpO1xuICAgICAgICAvLyBzb3J0IGJ5IHNjb3JlXG4gICAgICAgIHBlZXJzQXJyYXkuc29ydCgoYSwgYikgPT4gZ2V0U2NvcmUoYikgLSBnZXRTY29yZShhKSk7XG4gICAgICAgIC8vIFdlIGtlZXAgdGhlIGZpcnN0IERfc2NvcmUgcGVlcnMgYnkgc2NvcmUgYW5kIHRoZSByZW1haW5pbmcgdXAgdG8gRCByYW5kb21seVxuICAgICAgICAvLyB1bmRlciB0aGUgY29uc3RyYWludCB0aGF0IHdlIGtlZXAgRF9vdXQgcGVlcnMgaW4gdGhlIG1lc2ggKGlmIHdlIGhhdmUgdGhhdCBtYW55KVxuICAgICAgICBwZWVyc0FycmF5ID0gcGVlcnNBcnJheVxuICAgICAgICAgIC5zbGljZSgwLCBEc2NvcmUpXG4gICAgICAgICAgLmNvbmNhdChzaHVmZmxlKHBlZXJzQXJyYXkuc2xpY2UoRHNjb3JlKSkpO1xuXG4gICAgICAgIC8vIGNvdW50IHRoZSBvdXRib3VuZCBwZWVycyB3ZSBhcmUga2VlcGluZ1xuICAgICAgICBsZXQgb3V0Ym91bmQgPSAwO1xuICAgICAgICBwZWVyc0FycmF5LnNsaWNlKDAsIEQpLmZvckVhY2goKHApID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5nb3NzaXBzdWIub3V0Ym91bmQuZ2V0KHApKSB7XG4gICAgICAgICAgICBvdXRib3VuZCsrO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaWYgaXQncyBsZXNzIHRoYW4gRF9vdXQsIGJ1YmJsZSB1cCBzb21lIG91dGJvdW5kIHBlZXJzIGZyb20gdGhlIHJhbmRvbSBzZWxlY3Rpb25cbiAgICAgICAgaWYgKG91dGJvdW5kIDwgRG91dCkge1xuICAgICAgICAgIGNvbnN0IHJvdGF0ZSA9IChpOiBudW1iZXIpOiB2b2lkID0+IHtcbiAgICAgICAgICAgIC8vIHJvdGF0ZSB0aGUgcGVlcnNBcnJheSB0byB0aGUgcmlnaHQgYW5kIHB1dCB0aGUgaXRoIHBlZXIgaW4gdGhlIGZyb250XG4gICAgICAgICAgICBjb25zdCBwID0gcGVlcnNBcnJheVtpXTtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSBpOyBqID4gMDsgai0tKSB7XG4gICAgICAgICAgICAgIHBlZXJzQXJyYXlbal0gPSBwZWVyc0FycmF5W2ogLSAxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBlZXJzQXJyYXlbMF0gPSBwO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICAvLyBmaXJzdCBidWJibGUgdXAgYWxsIG91dGJvdW5kIHBlZXJzIGFscmVhZHkgaW4gdGhlIHNlbGVjdGlvbiB0byB0aGUgZnJvbnRcbiAgICAgICAgICBpZiAob3V0Ym91bmQgPiAwKSB7XG4gICAgICAgICAgICBsZXQgaWhhdmUgPSBvdXRib3VuZDtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgRCAmJiBpaGF2ZSA+IDA7IGkrKykge1xuICAgICAgICAgICAgICBpZiAodGhpcy5nb3NzaXBzdWIub3V0Ym91bmQuZ2V0KHBlZXJzQXJyYXlbaV0pKSB7XG4gICAgICAgICAgICAgICAgcm90YXRlKGkpO1xuICAgICAgICAgICAgICAgIGloYXZlLS07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBub3cgYnViYmxlIHVwIGVub3VnaCBvdXRib3VuZCBwZWVycyBvdXRzaWRlIHRoZSBzZWxlY3Rpb24gdG8gdGhlIGZyb250XG4gICAgICAgICAgbGV0IGluZWVkID0gRCAtIG91dGJvdW5kO1xuICAgICAgICAgIGZvciAobGV0IGkgPSBEOyBpIDwgcGVlcnNBcnJheS5sZW5ndGggJiYgaW5lZWQgPiAwOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmdvc3NpcHN1Yi5vdXRib3VuZC5nZXQocGVlcnNBcnJheVtpXSkpIHtcbiAgICAgICAgICAgICAgcm90YXRlKGkpO1xuICAgICAgICAgICAgICBpbmVlZC0tO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHBydW5lIHRoZSBleGNlc3MgcGVlcnNcbiAgICAgICAgcGVlcnNBcnJheS5zbGljZShEKS5mb3JFYWNoKHBydW5lUGVlcik7XG4gICAgICB9XG5cbiAgICAgIC8vIGRvIHdlIGhhdmUgZW5vdWdoIG91dGJvdW5kIHBlZXJzP1xuICAgICAgaWYgKHBlZXJzLnNpemUgPj0gRGxvKSB7XG4gICAgICAgIC8vIGNvdW50IHRoZSBvdXRib3VuZCBwZWVycyB3ZSBoYXZlXG4gICAgICAgIGxldCBvdXRib3VuZCA9IDA7XG4gICAgICAgIHBlZXJzLmZvckVhY2goKHApID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5nb3NzaXBzdWIub3V0Ym91bmQuZ2V0KHApKSB7XG4gICAgICAgICAgICBvdXRib3VuZCsrO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaWYgaXQncyBsZXNzIHRoYW4gRF9vdXQsIHNlbGVjdCBzb21lIHBlZXJzIHdpdGggb3V0Ym91bmQgY29ubmVjdGlvbnMgYW5kIGdyYWZ0IHRoZW1cbiAgICAgICAgaWYgKG91dGJvdW5kIDwgRG91dCkge1xuICAgICAgICAgIGNvbnN0IGluZWVkID0gRG91dCAtIG91dGJvdW5kO1xuICAgICAgICAgIGNvbnN0IGJhY2tvZmYgPSB0aGlzLmdvc3NpcHN1Yi5iYWNrb2ZmLmdldCh0b3BpYyk7XG4gICAgICAgICAgZ2V0UmVsYXlQZWVycyh0aGlzLmdvc3NpcHN1YiwgdG9waWMsIGluZWVkLCAoaWQ6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICAgICAgICAgICAgLy8gZmlsdGVyIG91ciBjdXJyZW50IG1lc2ggcGVlcnMsIGRpcmVjdCBwZWVycywgcGVlcnMgd2UgYXJlIGJhY2tpbmcgb2ZmLCBwZWVycyB3aXRoIG5lZ2F0aXZlIHNjb3JlXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAhcGVlcnMuaGFzKGlkKSAmJlxuICAgICAgICAgICAgICAhdGhpcy5nb3NzaXBzdWIuZGlyZWN0LmhhcyhpZCkgJiZcbiAgICAgICAgICAgICAgKCFiYWNrb2ZmIHx8ICFiYWNrb2ZmLmhhcyhpZCkpICYmXG4gICAgICAgICAgICAgIGdldFNjb3JlKGlkKSA+PSAwXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pLmZvckVhY2goZ3JhZnRQZWVyKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBzaG91bGQgd2UgdHJ5IHRvIGltcHJvdmUgdGhlIG1lc2ggd2l0aCBvcHBvcnR1bmlzdGljIGdyYWZ0aW5nP1xuICAgICAgaWYgKFxuICAgICAgICB0aGlzLmdvc3NpcHN1Yi5oZWFydGJlYXRUaWNrcyAlXG4gICAgICAgICAgY29uc3RhbnRzLlJlbGF5T3Bwb3J0dW5pc3RpY0dyYWZ0VGlja3MgPT09XG4gICAgICAgICAgMCAmJlxuICAgICAgICBwZWVycy5zaXplID4gMVxuICAgICAgKSB7XG4gICAgICAgIC8vIE9wcG9ydHVuaXN0aWMgZ3JhZnRpbmcgd29ya3MgYXMgZm9sbG93czogd2UgY2hlY2sgdGhlIG1lZGlhbiBzY29yZSBvZiBwZWVycyBpbiB0aGVcbiAgICAgICAgLy8gbWVzaDsgaWYgdGhpcyBzY29yZSBpcyBiZWxvdyB0aGUgb3Bwb3J0dW5pc3RpY0dyYWZ0VGhyZXNob2xkLCB3ZSBzZWxlY3QgYSBmZXcgcGVlcnMgYXRcbiAgICAgICAgLy8gcmFuZG9tIHdpdGggc2NvcmUgb3ZlciB0aGUgbWVkaWFuLlxuICAgICAgICAvLyBUaGUgaW50ZW50aW9uIGlzIHRvIChzbG93bHkpIGltcHJvdmUgYW4gdW5kZXIgcGVyZm9ybWluZyBtZXNoIGJ5IGludHJvZHVjaW5nIGdvb2RcbiAgICAgICAgLy8gc2NvcmluZyBwZWVycyB0aGF0IG1heSBoYXZlIGJlZW4gZ29zc2lwaW5nIGF0IHVzLiBUaGlzIGFsbG93cyB1cyB0byBnZXQgb3V0IG9mIHN0aWNreVxuICAgICAgICAvLyBzaXR1YXRpb25zIHdoZXJlIHdlIGFyZSBzdHVjayB3aXRoIHBvb3IgcGVlcnMgYW5kIGFsc28gcmVjb3ZlciBmcm9tIGNodXJuIG9mIGdvb2QgcGVlcnMuXG5cbiAgICAgICAgLy8gbm93IGNvbXB1dGUgdGhlIG1lZGlhbiBwZWVyIHNjb3JlIGluIHRoZSBtZXNoXG4gICAgICAgIGNvbnN0IHBlZXJzTGlzdCA9IEFycmF5LmZyb20ocGVlcnMpLnNvcnQoXG4gICAgICAgICAgKGEsIGIpID0+IGdldFNjb3JlKGEpIC0gZ2V0U2NvcmUoYilcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgbWVkaWFuSW5kZXggPSBNYXRoLmZsb29yKHBlZXJzLnNpemUgLyAyKTtcbiAgICAgICAgY29uc3QgbWVkaWFuU2NvcmUgPSBnZXRTY29yZShwZWVyc0xpc3RbbWVkaWFuSW5kZXhdKTtcblxuICAgICAgICAvLyBpZiB0aGUgbWVkaWFuIHNjb3JlIGlzIGJlbG93IHRoZSB0aHJlc2hvbGQsIHNlbGVjdCBhIGJldHRlciBwZWVyIChpZiBhbnkpIGFuZCBHUkFGVFxuICAgICAgICBpZiAoXG4gICAgICAgICAgbWVkaWFuU2NvcmUgPFxuICAgICAgICAgIHRoaXMuZ29zc2lwc3ViLl9vcHRpb25zLnNjb3JlVGhyZXNob2xkcy5vcHBvcnR1bmlzdGljR3JhZnRUaHJlc2hvbGRcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29uc3QgYmFja29mZiA9IHRoaXMuZ29zc2lwc3ViLmJhY2tvZmYuZ2V0KHRvcGljKTtcbiAgICAgICAgICBjb25zdCBwZWVyc1RvR3JhZnQgPSBnZXRSZWxheVBlZXJzKFxuICAgICAgICAgICAgdGhpcy5nb3NzaXBzdWIsXG4gICAgICAgICAgICB0b3BpYyxcbiAgICAgICAgICAgIGNvbnN0YW50cy5SZWxheU9wcG9ydHVuaXN0aWNHcmFmdFBlZXJzLFxuICAgICAgICAgICAgKGlkOiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgICAgICAgICAgICAgLy8gZmlsdGVyIG91dCBjdXJyZW50IG1lc2ggcGVlcnMsIGRpcmVjdCBwZWVycywgcGVlcnMgd2UgYXJlIGJhY2tpbmcgb2ZmLCBwZWVycyBiZWxvdyBvciBhdCB0aHJlc2hvbGRcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICBwZWVycy5oYXMoaWQpICYmXG4gICAgICAgICAgICAgICAgIXRoaXMuZ29zc2lwc3ViLmRpcmVjdC5oYXMoaWQpICYmXG4gICAgICAgICAgICAgICAgKCFiYWNrb2ZmIHx8ICFiYWNrb2ZmLmhhcyhpZCkpICYmXG4gICAgICAgICAgICAgICAgZ2V0U2NvcmUoaWQpID4gbWVkaWFuU2NvcmVcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApO1xuICAgICAgICAgIHBlZXJzVG9HcmFmdC5mb3JFYWNoKChpZDogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmdvc3NpcHN1Yi5sb2coXG4gICAgICAgICAgICAgICdIRUFSVEJFQVQ6IE9wcG9ydHVuaXN0aWNhbGx5IGdyYWZ0IHBlZXIgJXMgb24gdG9waWMgJXMnLFxuICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgdG9waWNcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBncmFmdFBlZXIoaWQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIDJuZCBhcmcgYXJlIG1lc2ggcGVlcnMgZXhjbHVkZWQgZnJvbSBnb3NzaXAuIFdlIGhhdmUgYWxyZWFkeSBwdXNoZWRcbiAgICAgIC8vIG1lc3NhZ2VzIHRvIHRoZW0sIHNvIGl0cyByZWR1bmRhbnQgdG8gZ29zc2lwIElIQVZFcy5cbiAgICAgIHRoaXMuZ29zc2lwc3ViLl9lbWl0R29zc2lwKHRvcGljLCBwZWVycyk7XG4gICAgfSk7XG5cbiAgICAvLyBleHBpcmUgZmFub3V0IGZvciB0b3BpY3Mgd2UgaGF2ZW4ndCBwdWJsaXNoZWQgdG8gaW4gYSB3aGlsZVxuICAgIGNvbnN0IG5vdyA9IHRoaXMuZ29zc2lwc3ViLl9ub3coKTtcbiAgICB0aGlzLmdvc3NpcHN1Yi5sYXN0cHViLmZvckVhY2goKGxhc3RwdWIsIHRvcGljKSA9PiB7XG4gICAgICBpZiAobGFzdHB1YiArIGNvbnN0YW50cy5SZWxheUZhbm91dFRUTCA8IG5vdykge1xuICAgICAgICB0aGlzLmdvc3NpcHN1Yi5mYW5vdXQuZGVsZXRlKHRvcGljKTtcbiAgICAgICAgdGhpcy5nb3NzaXBzdWIubGFzdHB1Yi5kZWxldGUodG9waWMpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gbWFpbnRhaW4gb3VyIGZhbm91dCBmb3IgdG9waWNzIHdlIGFyZSBwdWJsaXNoaW5nIGJ1dCB3ZSBoYXZlIG5vdCBqb2luZWRcbiAgICB0aGlzLmdvc3NpcHN1Yi5mYW5vdXQuZm9yRWFjaCgoZmFub3V0UGVlcnMsIHRvcGljKSA9PiB7XG4gICAgICAvLyBjaGVja3Mgd2hldGhlciBvdXIgcGVlcnMgYXJlIHN0aWxsIGluIHRoZSB0b3BpYyBhbmQgaGF2ZSBhIHNjb3JlIGFib3ZlIHRoZSBwdWJsaXNoIHRocmVzaG9sZFxuICAgICAgY29uc3QgdG9waWNQZWVycyA9IHRoaXMuZ29zc2lwc3ViLnRvcGljcy5nZXQodG9waWMpO1xuICAgICAgZmFub3V0UGVlcnMuZm9yRWFjaCgoaWQpID0+IHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICF0b3BpY1BlZXJzPy5oYXMoaWQpIHx8XG4gICAgICAgICAgZ2V0U2NvcmUoaWQpIDxcbiAgICAgICAgICAgIHRoaXMuZ29zc2lwc3ViLl9vcHRpb25zLnNjb3JlVGhyZXNob2xkcy5wdWJsaXNoVGhyZXNob2xkXG4gICAgICAgICkge1xuICAgICAgICAgIGZhbm91dFBlZXJzLmRlbGV0ZShpZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyBkbyB3ZSBuZWVkIG1vcmUgcGVlcnM/XG4gICAgICBpZiAoZmFub3V0UGVlcnMuc2l6ZSA8IEQpIHtcbiAgICAgICAgY29uc3QgaW5lZWQgPSBEIC0gZmFub3V0UGVlcnMuc2l6ZTtcbiAgICAgICAgY29uc3QgcGVlcnNTZXQgPSBnZXRSZWxheVBlZXJzKFxuICAgICAgICAgIHRoaXMuZ29zc2lwc3ViLFxuICAgICAgICAgIHRvcGljLFxuICAgICAgICAgIGluZWVkLFxuICAgICAgICAgIChpZDogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gICAgICAgICAgICAvLyBmaWx0ZXIgb3V0IGV4aXN0aW5nIGZhbm91dCBwZWVycywgZGlyZWN0IHBlZXJzLCBhbmQgcGVlcnMgd2l0aCBzY29yZSBhYm92ZSB0aGUgcHVibGlzaCB0aHJlc2hvbGRcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICFmYW5vdXRQZWVycy5oYXMoaWQpICYmXG4gICAgICAgICAgICAgICF0aGlzLmdvc3NpcHN1Yi5kaXJlY3QuaGFzKGlkKSAmJlxuICAgICAgICAgICAgICBnZXRTY29yZShpZCkgPj1cbiAgICAgICAgICAgICAgICB0aGlzLmdvc3NpcHN1Yi5fb3B0aW9ucy5zY29yZVRocmVzaG9sZHMucHVibGlzaFRocmVzaG9sZFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICAgIHBlZXJzU2V0LmZvckVhY2goKGlkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICBmYW5vdXRQZWVycy5hZGQoaWQpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gMm5kIGFyZyBhcmUgZmFub3V0IHBlZXJzIGV4Y2x1ZGVkIGZyb20gZ29zc2lwLlxuICAgICAgLy8gV2UgaGF2ZSBhbHJlYWR5IHB1c2hlZCBtZXNzYWdlcyB0byB0aGVtLCBzbyBpdHMgcmVkdW5kYW50IHRvIGdvc3NpcCBJSEFWRXNcbiAgICAgIHRoaXMuZ29zc2lwc3ViLl9lbWl0R29zc2lwKHRvcGljLCBmYW5vdXRQZWVycyk7XG4gICAgfSk7XG5cbiAgICAvLyBzZW5kIGNvYWxlc2NlZCBHUkFGVC9QUlVORSBtZXNzYWdlcyAod2lsbCBwaWdneWJhY2sgZ29zc2lwKVxuICAgIHRoaXMuZ29zc2lwc3ViLl9zZW5kR3JhZnRQcnVuZSh0b0dyYWZ0LCB0b1BydW5lLCBub1BYKTtcblxuICAgIC8vIGZsdXNoIHBlbmRpbmcgZ29zc2lwIHRoYXQgd2Fzbid0IHBpZ2d5YmFja2VkIGFib3ZlXG4gICAgdGhpcy5nb3NzaXBzdWIuX2ZsdXNoKCk7XG5cbiAgICAvLyBhZHZhbmNlIHRoZSBtZXNzYWdlIGhpc3Rvcnkgd2luZG93XG4gICAgdGhpcy5nb3NzaXBzdWIubWVzc2FnZUNhY2hlLnNoaWZ0KCk7XG5cbiAgICB0aGlzLmdvc3NpcHN1Yi5lbWl0KCdnb3NzaXBzdWI6aGVhcnRiZWF0Jyk7XG4gIH1cbn1cbiIsImltcG9ydCB7IFJlYWRlciB9IGZyb20gJ3Byb3RvYnVmanMvbWluaW1hbCc7XG5pbXBvcnQgeyB2NCBhcyB1dWlkIH0gZnJvbSAndXVpZCc7XG5cbmltcG9ydCAqIGFzIHByb3RvIGZyb20gJy4uLy4uL3Byb3RvL3dha3UvdjIvc3RvcmUnO1xuXG5leHBvcnQgZW51bSBQYWdlRGlyZWN0aW9uIHtcbiAgQkFDS1dBUkQgPSAnYmFja3dhcmQnLFxuICBGT1JXQVJEID0gJ2ZvcndhcmQnLFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBhcmFtcyB7XG4gIGNvbnRlbnRUb3BpY3M6IHN0cmluZ1tdO1xuICBwdWJTdWJUb3BpYzogc3RyaW5nO1xuICBwYWdlRGlyZWN0aW9uOiBQYWdlRGlyZWN0aW9uO1xuICBwYWdlU2l6ZTogbnVtYmVyO1xuICBzdGFydFRpbWU/OiBudW1iZXI7XG4gIGVuZFRpbWU/OiBudW1iZXI7XG4gIGN1cnNvcj86IHByb3RvLkluZGV4O1xufVxuXG5leHBvcnQgY2xhc3MgSGlzdG9yeVJQQyB7XG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihwdWJsaWMgcHJvdG86IHByb3RvLkhpc3RvcnlSUEMpIHt9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBIaXN0b3J5IFF1ZXJ5LlxuICAgKi9cbiAgc3RhdGljIGNyZWF0ZVF1ZXJ5KHBhcmFtczogUGFyYW1zKTogSGlzdG9yeVJQQyB7XG4gICAgY29uc3QgZGlyZWN0aW9uID0gZGlyZWN0aW9uVG9Qcm90byhwYXJhbXMucGFnZURpcmVjdGlvbik7XG4gICAgY29uc3QgcGFnaW5nSW5mbyA9IHtcbiAgICAgIHBhZ2VTaXplOiBwYXJhbXMucGFnZVNpemUsXG4gICAgICBjdXJzb3I6IHBhcmFtcy5jdXJzb3IsXG4gICAgICBkaXJlY3Rpb24sXG4gICAgfTtcblxuICAgIGNvbnN0IGNvbnRlbnRGaWx0ZXJzID0gcGFyYW1zLmNvbnRlbnRUb3BpY3MubWFwKChjb250ZW50VG9waWMpID0+IHtcbiAgICAgIHJldHVybiB7IGNvbnRlbnRUb3BpYyB9O1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIG5ldyBIaXN0b3J5UlBDKHtcbiAgICAgIHJlcXVlc3RJZDogdXVpZCgpLFxuICAgICAgcXVlcnk6IHtcbiAgICAgICAgcHViU3ViVG9waWM6IHBhcmFtcy5wdWJTdWJUb3BpYyxcbiAgICAgICAgY29udGVudEZpbHRlcnMsXG4gICAgICAgIHBhZ2luZ0luZm8sXG4gICAgICAgIHN0YXJ0VGltZTogcGFyYW1zLnN0YXJ0VGltZSxcbiAgICAgICAgZW5kVGltZTogcGFyYW1zLmVuZFRpbWUsXG4gICAgICB9LFxuICAgICAgcmVzcG9uc2U6IHVuZGVmaW5lZCxcbiAgICB9KTtcbiAgfVxuXG4gIHN0YXRpYyBkZWNvZGUoYnl0ZXM6IFVpbnQ4QXJyYXkpOiBIaXN0b3J5UlBDIHtcbiAgICBjb25zdCByZXMgPSBwcm90by5IaXN0b3J5UlBDLmRlY29kZShSZWFkZXIuY3JlYXRlKGJ5dGVzKSk7XG4gICAgcmV0dXJuIG5ldyBIaXN0b3J5UlBDKHJlcyk7XG4gIH1cblxuICBlbmNvZGUoKTogVWludDhBcnJheSB7XG4gICAgcmV0dXJuIHByb3RvLkhpc3RvcnlSUEMuZW5jb2RlKHRoaXMucHJvdG8pLmZpbmlzaCgpO1xuICB9XG5cbiAgZ2V0IHF1ZXJ5KCk6IHByb3RvLkhpc3RvcnlRdWVyeSB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMucHJvdG8ucXVlcnk7XG4gIH1cblxuICBnZXQgcmVzcG9uc2UoKTogcHJvdG8uSGlzdG9yeVJlc3BvbnNlIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5wcm90by5yZXNwb25zZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBkaXJlY3Rpb25Ub1Byb3RvKFxuICBwYWdlRGlyZWN0aW9uOiBQYWdlRGlyZWN0aW9uXG4pOiBwcm90by5QYWdpbmdJbmZvX0RpcmVjdGlvbiB7XG4gIHN3aXRjaCAocGFnZURpcmVjdGlvbikge1xuICAgIGNhc2UgUGFnZURpcmVjdGlvbi5CQUNLV0FSRDpcbiAgICAgIHJldHVybiBwcm90by5QYWdpbmdJbmZvX0RpcmVjdGlvbi5ESVJFQ1RJT05fQkFDS1dBUkRfVU5TUEVDSUZJRUQ7XG4gICAgY2FzZSBQYWdlRGlyZWN0aW9uLkZPUldBUkQ6XG4gICAgICByZXR1cm4gcHJvdG8uUGFnaW5nSW5mb19EaXJlY3Rpb24uRElSRUNUSU9OX0ZPUldBUkQ7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBwcm90by5QYWdpbmdJbmZvX0RpcmVjdGlvbi5ESVJFQ1RJT05fQkFDS1dBUkRfVU5TUEVDSUZJRUQ7XG4gIH1cbn1cbiIsImltcG9ydCBkZWJ1ZyBmcm9tICdkZWJ1Zyc7XG5pbXBvcnQgY29uY2F0IGZyb20gJ2l0LWNvbmNhdCc7XG5pbXBvcnQgbHAgZnJvbSAnaXQtbGVuZ3RoLXByZWZpeGVkJztcbmltcG9ydCBwaXBlIGZyb20gJ2l0LXBpcGUnO1xuaW1wb3J0IExpYnAycCBmcm9tICdsaWJwMnAnO1xuaW1wb3J0IHsgUGVlciB9IGZyb20gJ2xpYnAycC9zcmMvcGVlci1zdG9yZSc7XG5pbXBvcnQgUGVlcklkIGZyb20gJ3BlZXItaWQnO1xuXG5pbXBvcnQgeyBIaXN0b3J5UmVzcG9uc2VfRXJyb3IgfSBmcm9tICcuLi8uLi9wcm90by93YWt1L3YyL3N0b3JlJztcbmltcG9ydCB7IGdldFBlZXJzRm9yUHJvdG9jb2wsIHNlbGVjdFJhbmRvbVBlZXIgfSBmcm9tICcuLi9zZWxlY3RfcGVlcic7XG5pbXBvcnQgeyBoZXhUb0J1ZiB9IGZyb20gJy4uL3V0aWxzJztcbmltcG9ydCB7IERlZmF1bHRQdWJTdWJUb3BpYyB9IGZyb20gJy4uL3dha3UnO1xuaW1wb3J0IHsgV2FrdU1lc3NhZ2UgfSBmcm9tICcuLi93YWt1X21lc3NhZ2UnO1xuXG5pbXBvcnQgeyBIaXN0b3J5UlBDLCBQYWdlRGlyZWN0aW9uIH0gZnJvbSAnLi9oaXN0b3J5X3JwYyc7XG5cbmNvbnN0IGRiZyA9IGRlYnVnKCd3YWt1OnN0b3JlJyk7XG5cbmV4cG9ydCBjb25zdCBTdG9yZUNvZGVjID0gJy92YWMvd2FrdS9zdG9yZS8yLjAuMC1iZXRhMyc7XG5cbmV4cG9ydCBjb25zdCBEZWZhdWx0UGFnZVNpemUgPSAxMDtcblxuZXhwb3J0IHsgUGFnZURpcmVjdGlvbiB9O1xuXG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZU9wdGlvbnMge1xuICAvKipcbiAgICogVGhlIFB1YlN1YiBUb3BpYyB0byB1c2UuIERlZmF1bHRzIHRvIHtAbGluayBEZWZhdWx0UHViU3ViVG9waWN9LlxuICAgKlxuICAgKiBUaGUgdXNhZ2Ugb2YgdGhlIGRlZmF1bHQgcHVic3ViIHRvcGljIGlzIHJlY29tbWVuZGVkLlxuICAgKiBTZWUgW1dha3UgdjIgVG9waWMgVXNhZ2UgUmVjb21tZW5kYXRpb25zXShodHRwczovL3JmYy52YWMuZGV2L3NwZWMvMjMvKSBmb3IgZGV0YWlscy5cbiAgICpcbiAgICogQGRlZmF1bHQge0BsaW5rIERlZmF1bHRQdWJTdWJUb3BpY31cbiAgICovXG4gIHB1YlN1YlRvcGljPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRpbWVGaWx0ZXIge1xuICBzdGFydFRpbWU6IERhdGU7XG4gIGVuZFRpbWU6IERhdGU7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUXVlcnlPcHRpb25zIHtcbiAgLyoqXG4gICAqIFRoZSBwZWVyIHRvIHF1ZXJ5LiBJZiB1bmRlZmluZWQsIGEgcHNldWRvLXJhbmRvbSBwZWVyIGlzIHNlbGVjdGVkIGZyb20gdGhlIGNvbm5lY3RlZCBXYWt1IFN0b3JlIHBlZXJzLlxuICAgKi9cbiAgcGVlcklkPzogUGVlcklkO1xuICAvKipcbiAgICogVGhlIHB1YnN1YiB0b3BpYyB0byBwYXNzIHRvIHRoZSBxdWVyeS5cbiAgICogU2VlIFtXYWt1IHYyIFRvcGljIFVzYWdlIFJlY29tbWVuZGF0aW9uc10oaHR0cHM6Ly9yZmMudmFjLmRldi9zcGVjLzIzLykuXG4gICAqL1xuICBwdWJTdWJUb3BpYz86IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSBkaXJlY3Rpb24gaW4gd2hpY2ggcGFnZXMgYXJlIHJldHJpZXZlZDpcbiAgICogLSBbW0RpcmVjdGlvbi5CQUNLV0FSRF1dOiBNb3N0IHJlY2VudCBwYWdlIGZpcnN0LlxuICAgKiAtIFtbRGlyZWN0aW9uLkZPUldBUkRdXTogT2xkZXN0IHBhZ2UgZmlyc3QuXG4gICAqXG4gICAqIE5vdGU6IFRoaXMgZG9lcyBub3QgYWZmZWN0IHRoZSBvcmRlcmluZyBvZiBtZXNzYWdlcyB3aXRoIHRoZSBwYWdlXG4gICAqIChvbGRlc3QgbWVzc2FnZSBpcyBhbHdheXMgZmlyc3QpLlxuICAgKlxuICAgKiBAZGVmYXVsdCBbW0RpcmVjdGlvbi5CQUNLV0FSRF1dXG4gICAqL1xuICBwYWdlRGlyZWN0aW9uPzogUGFnZURpcmVjdGlvbjtcbiAgLyoqXG4gICAqIFRoZSBudW1iZXIgb2YgbWVzc2FnZSBwZXIgcGFnZS5cbiAgICpcbiAgICogQGRlZmF1bHQgW1tEZWZhdWx0UGFnZVNpemVdXVxuICAgKi9cbiAgcGFnZVNpemU/OiBudW1iZXI7XG4gIC8qKlxuICAgKiBSZXRyaWV2ZSBtZXNzYWdlcyB3aXRoIGEgdGltZXN0YW1wIHdpdGhpbiB0aGUgcHJvdmlkZWQgdmFsdWVzLlxuICAgKi9cbiAgdGltZUZpbHRlcj86IFRpbWVGaWx0ZXI7XG4gIC8qKlxuICAgKiBDYWxsYmFjayBjYWxsZWQgb24gcGFnZXMgb2Ygc3RvcmVkIG1lc3NhZ2VzIGFzIHRoZXkgYXJlIHJldHJpZXZlZC5cbiAgICpcbiAgICogQWxsb3dzIGZvciBhIGZhc3RlciBhY2Nlc3MgdG8gdGhlIHJlc3VsdHMgYXMgaXQgaXMgY2FsbGVkIGFzIHNvb24gYXMgYSBwYWdlXG4gICAqIGlzIHJlY2VpdmVkLiBUcmF2ZXJzYWwgb2YgdGhlIHBhZ2VzIGlzIGRvbmUgYXV0b21hdGljYWxseSBzbyB0aGlzIGZ1bmN0aW9uXG4gICAqIHdpbGwgaW52b2tlZCBmb3IgZWFjaCByZXRyaWV2ZWQgcGFnZS5cbiAgICpcbiAgICogSWYgdGhlIGNhbGwgb24gYSBwYWdlIHJldHVybnMgYHRydWVgLCB0aGVuIHRyYXZlcnNhbCBvZiB0aGUgcGFnZXMgaXMgYWJvcnRlZC5cbiAgICogRm9yIGV4YW1wbGUsIHRoaXMgY2FuIGJlIHVzZWQgZm9yIHRoZSBjYWxsZXIgdG8gc3RvcCB0aGUgcXVlcnkgYWZ0ZXIgYVxuICAgKiBzcGVjaWZpYyBtZXNzYWdlIGlzIGZvdW5kLlxuICAgKi9cbiAgY2FsbGJhY2s/OiAobWVzc2FnZXM6IFdha3VNZXNzYWdlW10pID0+IHZvaWQgfCBib29sZWFuO1xuICAvKipcbiAgICogS2V5cyB0aGF0IHdpbGwgYmUgdXNlZCB0byBkZWNyeXB0IG1lc3NhZ2VzLlxuICAgKlxuICAgKiBJdCBjYW4gYmUgQXN5bW1ldHJpYyBQcml2YXRlIEtleXMgYW5kIFN5bW1ldHJpYyBLZXlzIGluIHRoZSBzYW1lIGFycmF5LFxuICAgKiBhbGwga2V5cyB3aWxsIGJlIHRyaWVkIHdpdGggYm90aCBtZXRob2RzLlxuICAgKi9cbiAgZGVjcnlwdGlvbktleXM/OiBBcnJheTxVaW50OEFycmF5IHwgc3RyaW5nPjtcbn1cblxuLyoqXG4gKiBJbXBsZW1lbnRzIHRoZSBbV2FrdSB2MiBTdG9yZSBwcm90b2NvbF0oaHR0cHM6Ly9yZmMudmFjLmRldi9zcGVjLzEzLykuXG4gKi9cbmV4cG9ydCBjbGFzcyBXYWt1U3RvcmUge1xuICBwdWJTdWJUb3BpYzogc3RyaW5nO1xuICBwdWJsaWMgZGVjcnlwdGlvbktleXM6IFNldDxVaW50OEFycmF5PjtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgbGlicDJwOiBMaWJwMnAsIG9wdGlvbnM/OiBDcmVhdGVPcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnM/LnB1YlN1YlRvcGljKSB7XG4gICAgICB0aGlzLnB1YlN1YlRvcGljID0gb3B0aW9ucy5wdWJTdWJUb3BpYztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wdWJTdWJUb3BpYyA9IERlZmF1bHRQdWJTdWJUb3BpYztcbiAgICB9XG5cbiAgICB0aGlzLmRlY3J5cHRpb25LZXlzID0gbmV3IFNldCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIERvIGEgSGlzdG9yeSBRdWVyeSB0byBhIFdha3UgU3RvcmUuXG4gICAqXG4gICAqIEBwYXJhbSBjb250ZW50VG9waWNzIFRoZSBjb250ZW50IHRvcGljcyB0byBwYXNzIHRvIHRoZSBxdWVyeSwgbGVhdmUgZW1wdHkgdG9cbiAgICogcmV0cmlldmUgYWxsIG1lc3NhZ2VzLlxuICAgKlxuICAgKiBAdGhyb3dzIElmIG5vdCBhYmxlIHRvIHJlYWNoIGEgV2FrdSBTdG9yZSBwZWVyIHRvIHF1ZXJ5XG4gICAqIG9yIGlmIGFuIGVycm9yIGlzIGVuY291bnRlcmVkIHdoZW4gcHJvY2Vzc2luZyB0aGUgcmVwbHkuXG4gICAqL1xuICBhc3luYyBxdWVyeUhpc3RvcnkoXG4gICAgY29udGVudFRvcGljczogc3RyaW5nW10sXG4gICAgb3B0aW9ucz86IFF1ZXJ5T3B0aW9uc1xuICApOiBQcm9taXNlPFdha3VNZXNzYWdlW10+IHtcbiAgICBsZXQgc3RhcnRUaW1lLCBlbmRUaW1lO1xuICAgIGlmIChvcHRpb25zPy50aW1lRmlsdGVyKSB7XG4gICAgICBzdGFydFRpbWUgPSBvcHRpb25zLnRpbWVGaWx0ZXIuc3RhcnRUaW1lLmdldFRpbWUoKSAvIDEwMDA7XG4gICAgICBlbmRUaW1lID0gb3B0aW9ucy50aW1lRmlsdGVyLmVuZFRpbWUuZ2V0VGltZSgpIC8gMTAwMDtcbiAgICB9XG5cbiAgICBjb25zdCBvcHRzID0gT2JqZWN0LmFzc2lnbihcbiAgICAgIHtcbiAgICAgICAgcHViU3ViVG9waWM6IHRoaXMucHViU3ViVG9waWMsXG4gICAgICAgIHBhZ2VEaXJlY3Rpb246IFBhZ2VEaXJlY3Rpb24uQkFDS1dBUkQsXG4gICAgICAgIHBhZ2VTaXplOiBEZWZhdWx0UGFnZVNpemUsXG4gICAgICB9LFxuICAgICAgb3B0aW9ucyxcbiAgICAgIHtcbiAgICAgICAgc3RhcnRUaW1lLFxuICAgICAgICBlbmRUaW1lLFxuICAgICAgfSxcbiAgICAgIHsgY29udGVudFRvcGljcyB9XG4gICAgKTtcbiAgICBkYmcoJ1F1ZXJ5aW5nIGhpc3Rvcnkgd2l0aCB0aGUgZm9sbG93aW5nIG9wdGlvbnMnLCBvcHRpb25zKTtcblxuICAgIGxldCBwZWVyO1xuICAgIGlmIChvcHRzLnBlZXJJZCkge1xuICAgICAgcGVlciA9IHRoaXMubGlicDJwLnBlZXJTdG9yZS5nZXQob3B0cy5wZWVySWQpO1xuICAgICAgaWYgKCFwZWVyKVxuICAgICAgICB0aHJvdyBgRmFpbGVkIHRvIHJldHJpZXZlIGNvbm5lY3Rpb24gZGV0YWlscyBmb3IgcHJvdmlkZWQgcGVlciBpbiBwZWVyIHN0b3JlOiAke29wdHMucGVlcklkLnRvQjU4U3RyaW5nKCl9YDtcbiAgICB9IGVsc2Uge1xuICAgICAgcGVlciA9IHRoaXMucmFuZG9tUGVlcjtcbiAgICAgIGlmICghcGVlcilcbiAgICAgICAgdGhyb3cgJ0ZhaWxlZCB0byBmaW5kIGtub3duIHBlZXIgdGhhdCByZWdpc3RlcnMgd2FrdSBzdG9yZSBwcm90b2NvbCc7XG4gICAgfVxuICAgIGlmICghcGVlci5wcm90b2NvbHMuaW5jbHVkZXMoU3RvcmVDb2RlYykpXG4gICAgICB0aHJvdyBgUGVlciBkb2VzIG5vdCByZWdpc3RlciB3YWt1IHN0b3JlIHByb3RvY29sOiAke3BlZXIuaWQudG9CNThTdHJpbmcoKX1gO1xuICAgIGNvbnN0IGNvbm5lY3Rpb24gPSB0aGlzLmxpYnAycC5jb25uZWN0aW9uTWFuYWdlci5nZXQocGVlci5pZCk7XG4gICAgaWYgKCFjb25uZWN0aW9uKSB0aHJvdyAnRmFpbGVkIHRvIGdldCBhIGNvbm5lY3Rpb24gdG8gdGhlIHBlZXInO1xuXG4gICAgY29uc3QgZGVjcnlwdGlvbktleXMgPSBBcnJheS5mcm9tKHRoaXMuZGVjcnlwdGlvbktleXMudmFsdWVzKCkpO1xuICAgIGlmIChvcHRzLmRlY3J5cHRpb25LZXlzKSB7XG4gICAgICBvcHRzLmRlY3J5cHRpb25LZXlzLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICBkZWNyeXB0aW9uS2V5cy5wdXNoKGhleFRvQnVmKGtleSkpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgbWVzc2FnZXM6IFdha3VNZXNzYWdlW10gPSBbXTtcbiAgICBsZXQgY3Vyc29yID0gdW5kZWZpbmVkO1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBjb25zdCB7IHN0cmVhbSB9ID0gYXdhaXQgY29ubmVjdGlvbi5uZXdTdHJlYW0oU3RvcmVDb2RlYyk7XG4gICAgICBjb25zdCBxdWVyeU9wdHMgPSBPYmplY3QuYXNzaWduKG9wdHMsIHsgY3Vyc29yIH0pO1xuICAgICAgY29uc3QgaGlzdG9yeVJwY1F1ZXJ5ID0gSGlzdG9yeVJQQy5jcmVhdGVRdWVyeShxdWVyeU9wdHMpO1xuICAgICAgZGJnKCdRdWVyeWluZyBzdG9yZSBwZWVyJywgY29ubmVjdGlvbi5yZW1vdGVBZGRyLnRvU3RyaW5nKCkpO1xuXG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBwaXBlKFxuICAgICAgICBbaGlzdG9yeVJwY1F1ZXJ5LmVuY29kZSgpXSxcbiAgICAgICAgbHAuZW5jb2RlKCksXG4gICAgICAgIHN0cmVhbSxcbiAgICAgICAgbHAuZGVjb2RlKCksXG4gICAgICAgIGNvbmNhdFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHJlcGx5ID0gSGlzdG9yeVJQQy5kZWNvZGUocmVzLnNsaWNlKCkpO1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IHJlcGx5LnJlc3BvbnNlO1xuICAgICAgaWYgKCFyZXNwb25zZSkge1xuICAgICAgICB0aHJvdyAnSGlzdG9yeSByZXNwb25zZSBtaXNzZXMgcmVzcG9uc2UgZmllbGQnO1xuICAgICAgfVxuXG4gICAgICBpZiAoXG4gICAgICAgIHJlc3BvbnNlLmVycm9yICYmXG4gICAgICAgIHJlc3BvbnNlLmVycm9yID09PSBIaXN0b3J5UmVzcG9uc2VfRXJyb3IuRVJST1JfSU5WQUxJRF9DVVJTT1JcbiAgICAgICkge1xuICAgICAgICB0aHJvdyAnSGlzdG9yeSByZXNwb25zZSBjb250YWlucyBhbiBFcnJvcjogSU5WQUxJRCBDVVJTT1InO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXJlc3BvbnNlLm1lc3NhZ2VzIHx8ICFyZXNwb25zZS5tZXNzYWdlcy5sZW5ndGgpIHtcbiAgICAgICAgLy8gTm8gbWVzc2FnZXMgbGVmdCAob3Igc3RvcmVkKVxuICAgICAgICBjb25zb2xlLmxvZygnTm8gbWVzc2FnZXMgcHJlc2VudCBpbiBIaXN0b3J5UlBDIHJlc3BvbnNlJyk7XG4gICAgICAgIHJldHVybiBtZXNzYWdlcztcbiAgICAgIH1cblxuICAgICAgZGJnKFxuICAgICAgICBgJHtyZXNwb25zZS5tZXNzYWdlcy5sZW5ndGh9IG1lc3NhZ2VzIHJldHJpZXZlZCBmb3IgcHVic3ViIHRvcGljICR7b3B0cy5wdWJTdWJUb3BpY31gXG4gICAgICApO1xuXG4gICAgICBjb25zdCBwYWdlTWVzc2FnZXM6IFdha3VNZXNzYWdlW10gPSBbXTtcbiAgICAgIGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICByZXNwb25zZS5tZXNzYWdlcy5tYXAoYXN5bmMgKHByb3RvTXNnKSA9PiB7XG4gICAgICAgICAgY29uc3QgbXNnID0gYXdhaXQgV2FrdU1lc3NhZ2UuZGVjb2RlUHJvdG8ocHJvdG9Nc2csIGRlY3J5cHRpb25LZXlzKTtcblxuICAgICAgICAgIGlmIChtc2cpIHtcbiAgICAgICAgICAgIG1lc3NhZ2VzLnB1c2gobXNnKTtcbiAgICAgICAgICAgIHBhZ2VNZXNzYWdlcy5wdXNoKG1zZyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgbGV0IGFib3J0ID0gZmFsc2U7XG4gICAgICBpZiAob3B0cy5jYWxsYmFjaykge1xuICAgICAgICBhYm9ydCA9IEJvb2xlYW4ob3B0cy5jYWxsYmFjayhwYWdlTWVzc2FnZXMpKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzcG9uc2VQYWdlU2l6ZSA9IHJlc3BvbnNlLnBhZ2luZ0luZm8/LnBhZ2VTaXplO1xuICAgICAgY29uc3QgcXVlcnlQYWdlU2l6ZSA9IGhpc3RvcnlScGNRdWVyeS5xdWVyeT8ucGFnaW5nSW5mbz8ucGFnZVNpemU7XG4gICAgICBpZiAoXG4gICAgICAgIGFib3J0IHx8XG4gICAgICAgIC8vIFJlc3BvbnNlIHBhZ2Ugc2l6ZSBzbWFsbGVyIHRoYW4gcXVlcnksIG1lYW5pbmcgdGhpcyBpcyB0aGUgbGFzdCBwYWdlXG4gICAgICAgIChyZXNwb25zZVBhZ2VTaXplICYmIHF1ZXJ5UGFnZVNpemUgJiYgcmVzcG9uc2VQYWdlU2l6ZSA8IHF1ZXJ5UGFnZVNpemUpXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2VzO1xuICAgICAgfVxuXG4gICAgICBjdXJzb3IgPSByZXNwb25zZS5wYWdpbmdJbmZvPy5jdXJzb3I7XG4gICAgICBpZiAoY3Vyc29yID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gSWYgdGhlIHNlcnZlciBkb2VzIG5vdCByZXR1cm4gY3Vyc29yIHRoZW4gdGhlcmUgaXMgYW4gaXNzdWUsXG4gICAgICAgIC8vIE5lZWQgdG8gYWJvcnQgb3Igd2UgZW5kIHVwIGluIGFuIGluZmluaXRlIGxvb3BcbiAgICAgICAgY29uc29sZS5sb2coJ05vIGN1cnNvciByZXR1cm5lZCBieSBwZWVyLicpO1xuICAgICAgICByZXR1cm4gbWVzc2FnZXM7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVyIGEgZGVjcnlwdGlvbiBrZXkgdG8gYXR0ZW1wdCBkZWNyeXB0aW9uIG9mIG1lc3NhZ2VzIHJlY2VpdmVkIGluIGFueVxuICAgKiBzdWJzZXF1ZW50IFtbcXVlcnlIaXN0b3J5XV0gY2FsbC4gVGhpcyBjYW4gZWl0aGVyIGJlIGEgcHJpdmF0ZSBrZXkgZm9yXG4gICAqIGFzeW1tZXRyaWMgZW5jcnlwdGlvbiBvciBhIHN5bW1ldHJpYyBrZXkuIFtbV2FrdVN0b3JlXV0gd2lsbCBhdHRlbXB0IHRvXG4gICAqIGRlY3J5cHQgbWVzc2FnZXMgdXNpbmcgYm90aCBtZXRob2RzLlxuICAgKlxuICAgKiBTdHJpbmdzIG11c3QgYmUgaW4gaGV4IGZvcm1hdC5cbiAgICovXG4gIGFkZERlY3J5cHRpb25LZXkoa2V5OiBVaW50OEFycmF5IHwgc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5kZWNyeXB0aW9uS2V5cy5hZGQoaGV4VG9CdWYoa2V5KSk7XG4gIH1cblxuICAvKipcbiAgICogRGVsZXRlIGEgZGVjcnlwdGlvbiBrZXkgdGhhdCB3YXMgdXNlZCB0byBhdHRlbXB0IGRlY3J5cHRpb24gb2YgbWVzc2FnZXNcbiAgICogcmVjZWl2ZWQgaW4gc3Vic2VxdWVudCBbW3F1ZXJ5SGlzdG9yeV1dIGNhbGxzLlxuICAgKlxuICAgKiBTdHJpbmdzIG11c3QgYmUgaW4gaGV4IGZvcm1hdC5cbiAgICovXG4gIGRlbGV0ZURlY3J5cHRpb25LZXkoa2V5OiBVaW50OEFycmF5IHwgc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5kZWNyeXB0aW9uS2V5cy5kZWxldGUoaGV4VG9CdWYoa2V5KSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBrbm93biBwZWVycyBmcm9tIHRoZSBhZGRyZXNzIGJvb2sgKGBsaWJwMnAucGVlclN0b3JlYCkgdGhhdCBzdXBwb3J0XG4gICAqIHN0b3JlIHByb3RvY29sLiBXYWt1IG1heSBvciAgbWF5IG5vdCBiZSBjdXJyZW50bHkgY29ubmVjdGVkIHRvIHRoZXNlIHBlZXJzLlxuICAgKi9cbiAgZ2V0IHBlZXJzKCk6IFBlZXJbXSB7XG4gICAgcmV0dXJuIGdldFBlZXJzRm9yUHJvdG9jb2wodGhpcy5saWJwMnAsIFN0b3JlQ29kZWMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSByYW5kb20gcGVlciB0aGF0IHN1cHBvcnRzIHN0b3JlIHByb3RvY29sIGZyb20gdGhlIGFkZHJlc3NcbiAgICogYm9vayAoYGxpYnAycC5wZWVyU3RvcmVgKS4gV2FrdSBtYXkgb3IgIG1heSBub3QgYmUgY3VycmVudGx5IGNvbm5lY3RlZCB0b1xuICAgKiB0aGlzIHBlZXIuXG4gICAqL1xuICBnZXQgcmFuZG9tUGVlcigpOiBQZWVyIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gc2VsZWN0UmFuZG9tUGVlcih0aGlzLnBlZXJzKTtcbiAgfVxufVxuIiwiZXhwb3J0IHsgV2FrdU1lc3NhZ2UgfSBmcm9tICcuL3dha3UvdjIvbWVzc2FnZSc7XG5cbmV4cG9ydCB7XG4gIEluZGV4LFxuICBQYWdpbmdJbmZvLFxuICBQYWdpbmdJbmZvX0RpcmVjdGlvbixcbiAgQ29udGVudEZpbHRlcixcbiAgSGlzdG9yeVF1ZXJ5LFxuICBIaXN0b3J5UmVzcG9uc2UsXG4gIEhpc3RvcnlSUEMsXG59IGZyb20gJy4vd2FrdS92Mi9zdG9yZSc7XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IExvbmcgZnJvbSAnbG9uZyc7XG5pbXBvcnQgX20wIGZyb20gJ3Byb3RvYnVmanMvbWluaW1hbCc7XG5pbXBvcnQgeyBXYWt1TWVzc2FnZSB9IGZyb20gJy4uLy4uL3dha3UvdjIvbWVzc2FnZSc7XG5cbmV4cG9ydCBjb25zdCBwcm90b2J1ZlBhY2thZ2UgPSAnd2FrdS52Mic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHVzaFJlcXVlc3Qge1xuICBwdWJTdWJUb3BpYzogc3RyaW5nO1xuICBtZXNzYWdlOiBXYWt1TWVzc2FnZSB8IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQdXNoUmVzcG9uc2Uge1xuICBpc1N1Y2Nlc3M6IGJvb2xlYW47XG4gIGluZm86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQdXNoUlBDIHtcbiAgcmVxdWVzdElkOiBzdHJpbmc7XG4gIHJlcXVlc3Q6IFB1c2hSZXF1ZXN0IHwgdW5kZWZpbmVkO1xuICByZXNwb25zZTogUHVzaFJlc3BvbnNlIHwgdW5kZWZpbmVkO1xufVxuXG5jb25zdCBiYXNlUHVzaFJlcXVlc3Q6IG9iamVjdCA9IHsgcHViU3ViVG9waWM6ICcnIH07XG5cbmV4cG9ydCBjb25zdCBQdXNoUmVxdWVzdCA9IHtcbiAgZW5jb2RlKFxuICAgIG1lc3NhZ2U6IFB1c2hSZXF1ZXN0LFxuICAgIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKClcbiAgKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2UucHViU3ViVG9waWMgIT09ICcnKSB7XG4gICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS5wdWJTdWJUb3BpYyk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLm1lc3NhZ2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgV2FrdU1lc3NhZ2UuZW5jb2RlKG1lc3NhZ2UubWVzc2FnZSwgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBQdXNoUmVxdWVzdCB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IHsgLi4uYmFzZVB1c2hSZXF1ZXN0IH0gYXMgUHVzaFJlcXVlc3Q7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLnB1YlN1YlRvcGljID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgbWVzc2FnZS5tZXNzYWdlID0gV2FrdU1lc3NhZ2UuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogUHVzaFJlcXVlc3Qge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSB7IC4uLmJhc2VQdXNoUmVxdWVzdCB9IGFzIFB1c2hSZXF1ZXN0O1xuICAgIGlmIChvYmplY3QucHViU3ViVG9waWMgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QucHViU3ViVG9waWMgIT09IG51bGwpIHtcbiAgICAgIG1lc3NhZ2UucHViU3ViVG9waWMgPSBTdHJpbmcob2JqZWN0LnB1YlN1YlRvcGljKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbWVzc2FnZS5wdWJTdWJUb3BpYyA9ICcnO1xuICAgIH1cbiAgICBpZiAob2JqZWN0Lm1lc3NhZ2UgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QubWVzc2FnZSAhPT0gbnVsbCkge1xuICAgICAgbWVzc2FnZS5tZXNzYWdlID0gV2FrdU1lc3NhZ2UuZnJvbUpTT04ob2JqZWN0Lm1lc3NhZ2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICBtZXNzYWdlLm1lc3NhZ2UgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBQdXNoUmVxdWVzdCk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgbWVzc2FnZS5wdWJTdWJUb3BpYyAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAob2JqLnB1YlN1YlRvcGljID0gbWVzc2FnZS5wdWJTdWJUb3BpYyk7XG4gICAgbWVzc2FnZS5tZXNzYWdlICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIChvYmoubWVzc2FnZSA9IG1lc3NhZ2UubWVzc2FnZVxuICAgICAgICA/IFdha3VNZXNzYWdlLnRvSlNPTihtZXNzYWdlLm1lc3NhZ2UpXG4gICAgICAgIDogdW5kZWZpbmVkKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsKG9iamVjdDogRGVlcFBhcnRpYWw8UHVzaFJlcXVlc3Q+KTogUHVzaFJlcXVlc3Qge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSB7IC4uLmJhc2VQdXNoUmVxdWVzdCB9IGFzIFB1c2hSZXF1ZXN0O1xuICAgIGlmIChvYmplY3QucHViU3ViVG9waWMgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QucHViU3ViVG9waWMgIT09IG51bGwpIHtcbiAgICAgIG1lc3NhZ2UucHViU3ViVG9waWMgPSBvYmplY3QucHViU3ViVG9waWM7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1lc3NhZ2UucHViU3ViVG9waWMgPSAnJztcbiAgICB9XG4gICAgaWYgKG9iamVjdC5tZXNzYWdlICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0Lm1lc3NhZ2UgIT09IG51bGwpIHtcbiAgICAgIG1lc3NhZ2UubWVzc2FnZSA9IFdha3VNZXNzYWdlLmZyb21QYXJ0aWFsKG9iamVjdC5tZXNzYWdlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbWVzc2FnZS5tZXNzYWdlID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmNvbnN0IGJhc2VQdXNoUmVzcG9uc2U6IG9iamVjdCA9IHsgaXNTdWNjZXNzOiBmYWxzZSwgaW5mbzogJycgfTtcblxuZXhwb3J0IGNvbnN0IFB1c2hSZXNwb25zZSA9IHtcbiAgZW5jb2RlKFxuICAgIG1lc3NhZ2U6IFB1c2hSZXNwb25zZSxcbiAgICB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpXG4gICk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLmlzU3VjY2VzcyA9PT0gdHJ1ZSkge1xuICAgICAgd3JpdGVyLnVpbnQzMig4KS5ib29sKG1lc3NhZ2UuaXNTdWNjZXNzKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuaW5mbyAhPT0gJycpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTgpLnN0cmluZyhtZXNzYWdlLmluZm8pO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IFB1c2hSZXNwb25zZSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IHsgLi4uYmFzZVB1c2hSZXNwb25zZSB9IGFzIFB1c2hSZXNwb25zZTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG1lc3NhZ2UuaXNTdWNjZXNzID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIG1lc3NhZ2UuaW5mbyA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogUHVzaFJlc3BvbnNlIHtcbiAgICBjb25zdCBtZXNzYWdlID0geyAuLi5iYXNlUHVzaFJlc3BvbnNlIH0gYXMgUHVzaFJlc3BvbnNlO1xuICAgIGlmIChvYmplY3QuaXNTdWNjZXNzICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmlzU3VjY2VzcyAhPT0gbnVsbCkge1xuICAgICAgbWVzc2FnZS5pc1N1Y2Nlc3MgPSBCb29sZWFuKG9iamVjdC5pc1N1Y2Nlc3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICBtZXNzYWdlLmlzU3VjY2VzcyA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAob2JqZWN0LmluZm8gIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuaW5mbyAhPT0gbnVsbCkge1xuICAgICAgbWVzc2FnZS5pbmZvID0gU3RyaW5nKG9iamVjdC5pbmZvKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbWVzc2FnZS5pbmZvID0gJyc7XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBQdXNoUmVzcG9uc2UpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2UuaXNTdWNjZXNzICE9PSB1bmRlZmluZWQgJiYgKG9iai5pc1N1Y2Nlc3MgPSBtZXNzYWdlLmlzU3VjY2Vzcyk7XG4gICAgbWVzc2FnZS5pbmZvICE9PSB1bmRlZmluZWQgJiYgKG9iai5pbmZvID0gbWVzc2FnZS5pbmZvKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsKG9iamVjdDogRGVlcFBhcnRpYWw8UHVzaFJlc3BvbnNlPik6IFB1c2hSZXNwb25zZSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IHsgLi4uYmFzZVB1c2hSZXNwb25zZSB9IGFzIFB1c2hSZXNwb25zZTtcbiAgICBpZiAob2JqZWN0LmlzU3VjY2VzcyAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5pc1N1Y2Nlc3MgIT09IG51bGwpIHtcbiAgICAgIG1lc3NhZ2UuaXNTdWNjZXNzID0gb2JqZWN0LmlzU3VjY2VzcztcbiAgICB9IGVsc2Uge1xuICAgICAgbWVzc2FnZS5pc1N1Y2Nlc3MgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKG9iamVjdC5pbmZvICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmluZm8gIT09IG51bGwpIHtcbiAgICAgIG1lc3NhZ2UuaW5mbyA9IG9iamVjdC5pbmZvO1xuICAgIH0gZWxzZSB7XG4gICAgICBtZXNzYWdlLmluZm8gPSAnJztcbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5jb25zdCBiYXNlUHVzaFJQQzogb2JqZWN0ID0geyByZXF1ZXN0SWQ6ICcnIH07XG5cbmV4cG9ydCBjb25zdCBQdXNoUlBDID0ge1xuICBlbmNvZGUoXG4gICAgbWVzc2FnZTogUHVzaFJQQyxcbiAgICB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpXG4gICk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLnJlcXVlc3RJZCAhPT0gJycpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLnJlcXVlc3RJZCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnJlcXVlc3QgIT09IHVuZGVmaW5lZCkge1xuICAgICAgUHVzaFJlcXVlc3QuZW5jb2RlKG1lc3NhZ2UucmVxdWVzdCwgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UucmVzcG9uc2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgUHVzaFJlc3BvbnNlLmVuY29kZShtZXNzYWdlLnJlc3BvbnNlLCB3cml0ZXIudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IFB1c2hSUEMge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSB7IC4uLmJhc2VQdXNoUlBDIH0gYXMgUHVzaFJQQztcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG1lc3NhZ2UucmVxdWVzdElkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgbWVzc2FnZS5yZXF1ZXN0ID0gUHVzaFJlcXVlc3QuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIG1lc3NhZ2UucmVzcG9uc2UgPSBQdXNoUmVzcG9uc2UuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogUHVzaFJQQyB7XG4gICAgY29uc3QgbWVzc2FnZSA9IHsgLi4uYmFzZVB1c2hSUEMgfSBhcyBQdXNoUlBDO1xuICAgIGlmIChvYmplY3QucmVxdWVzdElkICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnJlcXVlc3RJZCAhPT0gbnVsbCkge1xuICAgICAgbWVzc2FnZS5yZXF1ZXN0SWQgPSBTdHJpbmcob2JqZWN0LnJlcXVlc3RJZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1lc3NhZ2UucmVxdWVzdElkID0gJyc7XG4gICAgfVxuICAgIGlmIChvYmplY3QucmVxdWVzdCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5yZXF1ZXN0ICE9PSBudWxsKSB7XG4gICAgICBtZXNzYWdlLnJlcXVlc3QgPSBQdXNoUmVxdWVzdC5mcm9tSlNPTihvYmplY3QucmVxdWVzdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1lc3NhZ2UucmVxdWVzdCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKG9iamVjdC5yZXNwb25zZSAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5yZXNwb25zZSAhPT0gbnVsbCkge1xuICAgICAgbWVzc2FnZS5yZXNwb25zZSA9IFB1c2hSZXNwb25zZS5mcm9tSlNPTihvYmplY3QucmVzcG9uc2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICBtZXNzYWdlLnJlc3BvbnNlID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogUHVzaFJQQyk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgbWVzc2FnZS5yZXF1ZXN0SWQgIT09IHVuZGVmaW5lZCAmJiAob2JqLnJlcXVlc3RJZCA9IG1lc3NhZ2UucmVxdWVzdElkKTtcbiAgICBtZXNzYWdlLnJlcXVlc3QgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgKG9iai5yZXF1ZXN0ID0gbWVzc2FnZS5yZXF1ZXN0XG4gICAgICAgID8gUHVzaFJlcXVlc3QudG9KU09OKG1lc3NhZ2UucmVxdWVzdClcbiAgICAgICAgOiB1bmRlZmluZWQpO1xuICAgIG1lc3NhZ2UucmVzcG9uc2UgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgKG9iai5yZXNwb25zZSA9IG1lc3NhZ2UucmVzcG9uc2VcbiAgICAgICAgPyBQdXNoUmVzcG9uc2UudG9KU09OKG1lc3NhZ2UucmVzcG9uc2UpXG4gICAgICAgIDogdW5kZWZpbmVkKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsKG9iamVjdDogRGVlcFBhcnRpYWw8UHVzaFJQQz4pOiBQdXNoUlBDIHtcbiAgICBjb25zdCBtZXNzYWdlID0geyAuLi5iYXNlUHVzaFJQQyB9IGFzIFB1c2hSUEM7XG4gICAgaWYgKG9iamVjdC5yZXF1ZXN0SWQgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QucmVxdWVzdElkICE9PSBudWxsKSB7XG4gICAgICBtZXNzYWdlLnJlcXVlc3RJZCA9IG9iamVjdC5yZXF1ZXN0SWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1lc3NhZ2UucmVxdWVzdElkID0gJyc7XG4gICAgfVxuICAgIGlmIChvYmplY3QucmVxdWVzdCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5yZXF1ZXN0ICE9PSBudWxsKSB7XG4gICAgICBtZXNzYWdlLnJlcXVlc3QgPSBQdXNoUmVxdWVzdC5mcm9tUGFydGlhbChvYmplY3QucmVxdWVzdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1lc3NhZ2UucmVxdWVzdCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKG9iamVjdC5yZXNwb25zZSAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5yZXNwb25zZSAhPT0gbnVsbCkge1xuICAgICAgbWVzc2FnZS5yZXNwb25zZSA9IFB1c2hSZXNwb25zZS5mcm9tUGFydGlhbChvYmplY3QucmVzcG9uc2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICBtZXNzYWdlLnJlc3BvbnNlID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbnR5cGUgQnVpbHRpbiA9XG4gIHwgRGF0ZVxuICB8IEZ1bmN0aW9uXG4gIHwgVWludDhBcnJheVxuICB8IHN0cmluZ1xuICB8IG51bWJlclxuICB8IGJvb2xlYW5cbiAgfCB1bmRlZmluZWQ7XG5leHBvcnQgdHlwZSBEZWVwUGFydGlhbDxUPiA9IFQgZXh0ZW5kcyBCdWlsdGluXG4gID8gVFxuICA6IFQgZXh0ZW5kcyBBcnJheTxpbmZlciBVPlxuICA/IEFycmF5PERlZXBQYXJ0aWFsPFU+PlxuICA6IFQgZXh0ZW5kcyBSZWFkb25seUFycmF5PGluZmVyIFU+XG4gID8gUmVhZG9ubHlBcnJheTxEZWVwUGFydGlhbDxVPj5cbiAgOiBUIGV4dGVuZHMge31cbiAgPyB7IFtLIGluIGtleW9mIFRdPzogRGVlcFBhcnRpYWw8VFtLXT4gfVxuICA6IFBhcnRpYWw8VD47XG5cbmlmIChfbTAudXRpbC5Mb25nICE9PSBMb25nKSB7XG4gIF9tMC51dGlsLkxvbmcgPSBMb25nIGFzIGFueTtcbiAgX20wLmNvbmZpZ3VyZSgpO1xufVxuIiwiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBMb25nIGZyb20gJ2xvbmcnO1xuaW1wb3J0IF9tMCBmcm9tICdwcm90b2J1ZmpzL21pbmltYWwnO1xuXG5leHBvcnQgY29uc3QgcHJvdG9idWZQYWNrYWdlID0gJ3dha3UudjInO1xuXG5leHBvcnQgaW50ZXJmYWNlIFdha3VNZXNzYWdlIHtcbiAgcGF5bG9hZD86IFVpbnQ4QXJyYXkgfCB1bmRlZmluZWQ7XG4gIGNvbnRlbnRUb3BpYz86IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgdmVyc2lvbj86IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgdGltZXN0YW1wPzogbnVtYmVyIHwgdW5kZWZpbmVkO1xufVxuXG5jb25zdCBiYXNlV2FrdU1lc3NhZ2U6IG9iamVjdCA9IHt9O1xuXG5leHBvcnQgY29uc3QgV2FrdU1lc3NhZ2UgPSB7XG4gIGVuY29kZShcbiAgICBtZXNzYWdlOiBXYWt1TWVzc2FnZSxcbiAgICB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpXG4gICk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLnBheWxvYWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigxMCkuYnl0ZXMobWVzc2FnZS5wYXlsb2FkKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuY29udGVudFRvcGljICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTgpLnN0cmluZyhtZXNzYWdlLmNvbnRlbnRUb3BpYyk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnZlcnNpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigyNCkudWludDMyKG1lc3NhZ2UudmVyc2lvbik7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnRpbWVzdGFtcCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB3cml0ZXIudWludDMyKDMzKS5kb3VibGUobWVzc2FnZS50aW1lc3RhbXApO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IFdha3VNZXNzYWdlIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0geyAuLi5iYXNlV2FrdU1lc3NhZ2UgfSBhcyBXYWt1TWVzc2FnZTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG1lc3NhZ2UucGF5bG9hZCA9IHJlYWRlci5ieXRlcygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgbWVzc2FnZS5jb250ZW50VG9waWMgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBtZXNzYWdlLnZlcnNpb24gPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBtZXNzYWdlLnRpbWVzdGFtcCA9IHJlYWRlci5kb3VibGUoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogV2FrdU1lc3NhZ2Uge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSB7IC4uLmJhc2VXYWt1TWVzc2FnZSB9IGFzIFdha3VNZXNzYWdlO1xuICAgIGlmIChvYmplY3QucGF5bG9hZCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5wYXlsb2FkICE9PSBudWxsKSB7XG4gICAgICBtZXNzYWdlLnBheWxvYWQgPSBieXRlc0Zyb21CYXNlNjQob2JqZWN0LnBheWxvYWQpO1xuICAgIH1cbiAgICBpZiAob2JqZWN0LmNvbnRlbnRUb3BpYyAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5jb250ZW50VG9waWMgIT09IG51bGwpIHtcbiAgICAgIG1lc3NhZ2UuY29udGVudFRvcGljID0gU3RyaW5nKG9iamVjdC5jb250ZW50VG9waWMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBtZXNzYWdlLmNvbnRlbnRUb3BpYyA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKG9iamVjdC52ZXJzaW9uICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnZlcnNpb24gIT09IG51bGwpIHtcbiAgICAgIG1lc3NhZ2UudmVyc2lvbiA9IE51bWJlcihvYmplY3QudmVyc2lvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1lc3NhZ2UudmVyc2lvbiA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKG9iamVjdC50aW1lc3RhbXAgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QudGltZXN0YW1wICE9PSBudWxsKSB7XG4gICAgICBtZXNzYWdlLnRpbWVzdGFtcCA9IE51bWJlcihvYmplY3QudGltZXN0YW1wKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbWVzc2FnZS50aW1lc3RhbXAgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBXYWt1TWVzc2FnZSk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgbWVzc2FnZS5wYXlsb2FkICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIChvYmoucGF5bG9hZCA9XG4gICAgICAgIG1lc3NhZ2UucGF5bG9hZCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgPyBiYXNlNjRGcm9tQnl0ZXMobWVzc2FnZS5wYXlsb2FkKVxuICAgICAgICAgIDogdW5kZWZpbmVkKTtcbiAgICBtZXNzYWdlLmNvbnRlbnRUb3BpYyAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAob2JqLmNvbnRlbnRUb3BpYyA9IG1lc3NhZ2UuY29udGVudFRvcGljKTtcbiAgICBtZXNzYWdlLnZlcnNpb24gIT09IHVuZGVmaW5lZCAmJiAob2JqLnZlcnNpb24gPSBtZXNzYWdlLnZlcnNpb24pO1xuICAgIG1lc3NhZ2UudGltZXN0YW1wICE9PSB1bmRlZmluZWQgJiYgKG9iai50aW1lc3RhbXAgPSBtZXNzYWdlLnRpbWVzdGFtcCk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbChvYmplY3Q6IERlZXBQYXJ0aWFsPFdha3VNZXNzYWdlPik6IFdha3VNZXNzYWdlIHtcbiAgICBjb25zdCBtZXNzYWdlID0geyAuLi5iYXNlV2FrdU1lc3NhZ2UgfSBhcyBXYWt1TWVzc2FnZTtcbiAgICBpZiAob2JqZWN0LnBheWxvYWQgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QucGF5bG9hZCAhPT0gbnVsbCkge1xuICAgICAgbWVzc2FnZS5wYXlsb2FkID0gb2JqZWN0LnBheWxvYWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1lc3NhZ2UucGF5bG9hZCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKG9iamVjdC5jb250ZW50VG9waWMgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuY29udGVudFRvcGljICE9PSBudWxsKSB7XG4gICAgICBtZXNzYWdlLmNvbnRlbnRUb3BpYyA9IG9iamVjdC5jb250ZW50VG9waWM7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1lc3NhZ2UuY29udGVudFRvcGljID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAob2JqZWN0LnZlcnNpb24gIT09IHVuZGVmaW5lZCAmJiBvYmplY3QudmVyc2lvbiAhPT0gbnVsbCkge1xuICAgICAgbWVzc2FnZS52ZXJzaW9uID0gb2JqZWN0LnZlcnNpb247XG4gICAgfSBlbHNlIHtcbiAgICAgIG1lc3NhZ2UudmVyc2lvbiA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKG9iamVjdC50aW1lc3RhbXAgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QudGltZXN0YW1wICE9PSBudWxsKSB7XG4gICAgICBtZXNzYWdlLnRpbWVzdGFtcCA9IG9iamVjdC50aW1lc3RhbXA7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1lc3NhZ2UudGltZXN0YW1wID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmRlY2xhcmUgdmFyIHNlbGY6IGFueSB8IHVuZGVmaW5lZDtcbmRlY2xhcmUgdmFyIHdpbmRvdzogYW55IHwgdW5kZWZpbmVkO1xudmFyIGdsb2JhbFRoaXM6IGFueSA9ICgoKSA9PiB7XG4gIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCcpIHJldHVybiBnbG9iYWxUaGlzO1xuICBpZiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnKSByZXR1cm4gc2VsZjtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSByZXR1cm4gd2luZG93O1xuICBpZiAodHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcpIHJldHVybiBnbG9iYWw7XG4gIHRocm93ICdVbmFibGUgdG8gbG9jYXRlIGdsb2JhbCBvYmplY3QnO1xufSkoKTtcblxuY29uc3QgYXRvYjogKGI2NDogc3RyaW5nKSA9PiBzdHJpbmcgPVxuICBnbG9iYWxUaGlzLmF0b2IgfHxcbiAgKChiNjQpID0+IGdsb2JhbFRoaXMuQnVmZmVyLmZyb20oYjY0LCAnYmFzZTY0JykudG9TdHJpbmcoJ2JpbmFyeScpKTtcbmZ1bmN0aW9uIGJ5dGVzRnJvbUJhc2U2NChiNjQ6IHN0cmluZyk6IFVpbnQ4QXJyYXkge1xuICBjb25zdCBiaW4gPSBhdG9iKGI2NCk7XG4gIGNvbnN0IGFyciA9IG5ldyBVaW50OEFycmF5KGJpbi5sZW5ndGgpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGJpbi5sZW5ndGg7ICsraSkge1xuICAgIGFycltpXSA9IGJpbi5jaGFyQ29kZUF0KGkpO1xuICB9XG4gIHJldHVybiBhcnI7XG59XG5cbmNvbnN0IGJ0b2E6IChiaW46IHN0cmluZykgPT4gc3RyaW5nID1cbiAgZ2xvYmFsVGhpcy5idG9hIHx8XG4gICgoYmluKSA9PiBnbG9iYWxUaGlzLkJ1ZmZlci5mcm9tKGJpbiwgJ2JpbmFyeScpLnRvU3RyaW5nKCdiYXNlNjQnKSk7XG5mdW5jdGlvbiBiYXNlNjRGcm9tQnl0ZXMoYXJyOiBVaW50OEFycmF5KTogc3RyaW5nIHtcbiAgY29uc3QgYmluOiBzdHJpbmdbXSA9IFtdO1xuICBmb3IgKGNvbnN0IGJ5dGUgb2YgYXJyKSB7XG4gICAgYmluLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShieXRlKSk7XG4gIH1cbiAgcmV0dXJuIGJ0b2EoYmluLmpvaW4oJycpKTtcbn1cblxudHlwZSBCdWlsdGluID1cbiAgfCBEYXRlXG4gIHwgRnVuY3Rpb25cbiAgfCBVaW50OEFycmF5XG4gIHwgc3RyaW5nXG4gIHwgbnVtYmVyXG4gIHwgYm9vbGVhblxuICB8IHVuZGVmaW5lZDtcbmV4cG9ydCB0eXBlIERlZXBQYXJ0aWFsPFQ+ID0gVCBleHRlbmRzIEJ1aWx0aW5cbiAgPyBUXG4gIDogVCBleHRlbmRzIEFycmF5PGluZmVyIFU+XG4gID8gQXJyYXk8RGVlcFBhcnRpYWw8VT4+XG4gIDogVCBleHRlbmRzIFJlYWRvbmx5QXJyYXk8aW5mZXIgVT5cbiAgPyBSZWFkb25seUFycmF5PERlZXBQYXJ0aWFsPFU+PlxuICA6IFQgZXh0ZW5kcyB7fVxuICA/IHsgW0sgaW4ga2V5b2YgVF0/OiBEZWVwUGFydGlhbDxUW0tdPiB9XG4gIDogUGFydGlhbDxUPjtcblxuaWYgKF9tMC51dGlsLkxvbmcgIT09IExvbmcpIHtcbiAgX20wLnV0aWwuTG9uZyA9IExvbmcgYXMgYW55O1xuICBfbTAuY29uZmlndXJlKCk7XG59XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IExvbmcgZnJvbSAnbG9uZyc7XG5pbXBvcnQgX20wIGZyb20gJ3Byb3RvYnVmanMvbWluaW1hbCc7XG5pbXBvcnQgeyBXYWt1TWVzc2FnZSB9IGZyb20gJy4uLy4uL3dha3UvdjIvbWVzc2FnZSc7XG5cbmV4cG9ydCBjb25zdCBwcm90b2J1ZlBhY2thZ2UgPSAnd2FrdS52Mic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW5kZXgge1xuICBkaWdlc3Q6IFVpbnQ4QXJyYXk7XG4gIHJlY2VpdmVkVGltZTogbnVtYmVyO1xuICBzZW5kZXJUaW1lOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGFnaW5nSW5mbyB7XG4gIHBhZ2VTaXplOiBudW1iZXI7XG4gIGN1cnNvcjogSW5kZXggfCB1bmRlZmluZWQ7XG4gIGRpcmVjdGlvbjogUGFnaW5nSW5mb19EaXJlY3Rpb247XG59XG5cbmV4cG9ydCBlbnVtIFBhZ2luZ0luZm9fRGlyZWN0aW9uIHtcbiAgRElSRUNUSU9OX0JBQ0tXQVJEX1VOU1BFQ0lGSUVEID0gMCxcbiAgRElSRUNUSU9OX0ZPUldBUkQgPSAxLFxuICBVTlJFQ09HTklaRUQgPSAtMSxcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhZ2luZ0luZm9fRGlyZWN0aW9uRnJvbUpTT04oXG4gIG9iamVjdDogYW55XG4pOiBQYWdpbmdJbmZvX0RpcmVjdGlvbiB7XG4gIHN3aXRjaCAob2JqZWN0KSB7XG4gICAgY2FzZSAwOlxuICAgIGNhc2UgJ0RJUkVDVElPTl9CQUNLV0FSRF9VTlNQRUNJRklFRCc6XG4gICAgICByZXR1cm4gUGFnaW5nSW5mb19EaXJlY3Rpb24uRElSRUNUSU9OX0JBQ0tXQVJEX1VOU1BFQ0lGSUVEO1xuICAgIGNhc2UgMTpcbiAgICBjYXNlICdESVJFQ1RJT05fRk9SV0FSRCc6XG4gICAgICByZXR1cm4gUGFnaW5nSW5mb19EaXJlY3Rpb24uRElSRUNUSU9OX0ZPUldBUkQ7XG4gICAgY2FzZSAtMTpcbiAgICBjYXNlICdVTlJFQ09HTklaRUQnOlxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gUGFnaW5nSW5mb19EaXJlY3Rpb24uVU5SRUNPR05JWkVEO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYWdpbmdJbmZvX0RpcmVjdGlvblRvSlNPTihcbiAgb2JqZWN0OiBQYWdpbmdJbmZvX0RpcmVjdGlvblxuKTogc3RyaW5nIHtcbiAgc3dpdGNoIChvYmplY3QpIHtcbiAgICBjYXNlIFBhZ2luZ0luZm9fRGlyZWN0aW9uLkRJUkVDVElPTl9CQUNLV0FSRF9VTlNQRUNJRklFRDpcbiAgICAgIHJldHVybiAnRElSRUNUSU9OX0JBQ0tXQVJEX1VOU1BFQ0lGSUVEJztcbiAgICBjYXNlIFBhZ2luZ0luZm9fRGlyZWN0aW9uLkRJUkVDVElPTl9GT1JXQVJEOlxuICAgICAgcmV0dXJuICdESVJFQ1RJT05fRk9SV0FSRCc7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiAnVU5LTk9XTic7XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb250ZW50RmlsdGVyIHtcbiAgY29udGVudFRvcGljOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSGlzdG9yeVF1ZXJ5IHtcbiAgcHViU3ViVG9waWM/OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIGNvbnRlbnRGaWx0ZXJzOiBDb250ZW50RmlsdGVyW107XG4gIHBhZ2luZ0luZm8/OiBQYWdpbmdJbmZvIHwgdW5kZWZpbmVkO1xuICBzdGFydFRpbWU/OiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gIGVuZFRpbWU/OiBudW1iZXIgfCB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSGlzdG9yeVJlc3BvbnNlIHtcbiAgbWVzc2FnZXM6IFdha3VNZXNzYWdlW107XG4gIHBhZ2luZ0luZm86IFBhZ2luZ0luZm8gfCB1bmRlZmluZWQ7XG4gIGVycm9yOiBIaXN0b3J5UmVzcG9uc2VfRXJyb3I7XG59XG5cbmV4cG9ydCBlbnVtIEhpc3RvcnlSZXNwb25zZV9FcnJvciB7XG4gIEVSUk9SX05PTkVfVU5TUEVDSUZJRUQgPSAwLFxuICBFUlJPUl9JTlZBTElEX0NVUlNPUiA9IDEsXG4gIFVOUkVDT0dOSVpFRCA9IC0xLFxufVxuXG5leHBvcnQgZnVuY3Rpb24gaGlzdG9yeVJlc3BvbnNlX0Vycm9yRnJvbUpTT04oXG4gIG9iamVjdDogYW55XG4pOiBIaXN0b3J5UmVzcG9uc2VfRXJyb3Ige1xuICBzd2l0Y2ggKG9iamVjdCkge1xuICAgIGNhc2UgMDpcbiAgICBjYXNlICdFUlJPUl9OT05FX1VOU1BFQ0lGSUVEJzpcbiAgICAgIHJldHVybiBIaXN0b3J5UmVzcG9uc2VfRXJyb3IuRVJST1JfTk9ORV9VTlNQRUNJRklFRDtcbiAgICBjYXNlIDE6XG4gICAgY2FzZSAnRVJST1JfSU5WQUxJRF9DVVJTT1InOlxuICAgICAgcmV0dXJuIEhpc3RvcnlSZXNwb25zZV9FcnJvci5FUlJPUl9JTlZBTElEX0NVUlNPUjtcbiAgICBjYXNlIC0xOlxuICAgIGNhc2UgJ1VOUkVDT0dOSVpFRCc6XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBIaXN0b3J5UmVzcG9uc2VfRXJyb3IuVU5SRUNPR05JWkVEO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoaXN0b3J5UmVzcG9uc2VfRXJyb3JUb0pTT04oXG4gIG9iamVjdDogSGlzdG9yeVJlc3BvbnNlX0Vycm9yXG4pOiBzdHJpbmcge1xuICBzd2l0Y2ggKG9iamVjdCkge1xuICAgIGNhc2UgSGlzdG9yeVJlc3BvbnNlX0Vycm9yLkVSUk9SX05PTkVfVU5TUEVDSUZJRUQ6XG4gICAgICByZXR1cm4gJ0VSUk9SX05PTkVfVU5TUEVDSUZJRUQnO1xuICAgIGNhc2UgSGlzdG9yeVJlc3BvbnNlX0Vycm9yLkVSUk9SX0lOVkFMSURfQ1VSU09SOlxuICAgICAgcmV0dXJuICdFUlJPUl9JTlZBTElEX0NVUlNPUic7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiAnVU5LTk9XTic7XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBIaXN0b3J5UlBDIHtcbiAgcmVxdWVzdElkOiBzdHJpbmc7XG4gIHF1ZXJ5OiBIaXN0b3J5UXVlcnkgfCB1bmRlZmluZWQ7XG4gIHJlc3BvbnNlOiBIaXN0b3J5UmVzcG9uc2UgfCB1bmRlZmluZWQ7XG59XG5cbmNvbnN0IGJhc2VJbmRleDogb2JqZWN0ID0geyByZWNlaXZlZFRpbWU6IDAsIHNlbmRlclRpbWU6IDAgfTtcblxuZXhwb3J0IGNvbnN0IEluZGV4ID0ge1xuICBlbmNvZGUobWVzc2FnZTogSW5kZXgsIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpOiBfbTAuV3JpdGVyIHtcbiAgICBpZiAobWVzc2FnZS5kaWdlc3QubGVuZ3RoICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDEwKS5ieXRlcyhtZXNzYWdlLmRpZ2VzdCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnJlY2VpdmVkVGltZSAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigxNykuZG91YmxlKG1lc3NhZ2UucmVjZWl2ZWRUaW1lKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2Uuc2VuZGVyVGltZSAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigyNSkuZG91YmxlKG1lc3NhZ2Uuc2VuZGVyVGltZSk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogSW5kZXgge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSB7IC4uLmJhc2VJbmRleCB9IGFzIEluZGV4O1xuICAgIG1lc3NhZ2UuZGlnZXN0ID0gbmV3IFVpbnQ4QXJyYXkoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG1lc3NhZ2UuZGlnZXN0ID0gcmVhZGVyLmJ5dGVzKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBtZXNzYWdlLnJlY2VpdmVkVGltZSA9IHJlYWRlci5kb3VibGUoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIG1lc3NhZ2Uuc2VuZGVyVGltZSA9IHJlYWRlci5kb3VibGUoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogSW5kZXgge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSB7IC4uLmJhc2VJbmRleCB9IGFzIEluZGV4O1xuICAgIG1lc3NhZ2UuZGlnZXN0ID0gbmV3IFVpbnQ4QXJyYXkoKTtcbiAgICBpZiAob2JqZWN0LmRpZ2VzdCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5kaWdlc3QgIT09IG51bGwpIHtcbiAgICAgIG1lc3NhZ2UuZGlnZXN0ID0gYnl0ZXNGcm9tQmFzZTY0KG9iamVjdC5kaWdlc3QpO1xuICAgIH1cbiAgICBpZiAob2JqZWN0LnJlY2VpdmVkVGltZSAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5yZWNlaXZlZFRpbWUgIT09IG51bGwpIHtcbiAgICAgIG1lc3NhZ2UucmVjZWl2ZWRUaW1lID0gTnVtYmVyKG9iamVjdC5yZWNlaXZlZFRpbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBtZXNzYWdlLnJlY2VpdmVkVGltZSA9IDA7XG4gICAgfVxuICAgIGlmIChvYmplY3Quc2VuZGVyVGltZSAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5zZW5kZXJUaW1lICE9PSBudWxsKSB7XG4gICAgICBtZXNzYWdlLnNlbmRlclRpbWUgPSBOdW1iZXIob2JqZWN0LnNlbmRlclRpbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBtZXNzYWdlLnNlbmRlclRpbWUgPSAwO1xuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogSW5kZXgpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2UuZGlnZXN0ICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIChvYmouZGlnZXN0ID0gYmFzZTY0RnJvbUJ5dGVzKFxuICAgICAgICBtZXNzYWdlLmRpZ2VzdCAhPT0gdW5kZWZpbmVkID8gbWVzc2FnZS5kaWdlc3QgOiBuZXcgVWludDhBcnJheSgpXG4gICAgICApKTtcbiAgICBtZXNzYWdlLnJlY2VpdmVkVGltZSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAob2JqLnJlY2VpdmVkVGltZSA9IG1lc3NhZ2UucmVjZWl2ZWRUaW1lKTtcbiAgICBtZXNzYWdlLnNlbmRlclRpbWUgIT09IHVuZGVmaW5lZCAmJiAob2JqLnNlbmRlclRpbWUgPSBtZXNzYWdlLnNlbmRlclRpbWUpO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWwob2JqZWN0OiBEZWVwUGFydGlhbDxJbmRleD4pOiBJbmRleCB7XG4gICAgY29uc3QgbWVzc2FnZSA9IHsgLi4uYmFzZUluZGV4IH0gYXMgSW5kZXg7XG4gICAgaWYgKG9iamVjdC5kaWdlc3QgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuZGlnZXN0ICE9PSBudWxsKSB7XG4gICAgICBtZXNzYWdlLmRpZ2VzdCA9IG9iamVjdC5kaWdlc3Q7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1lc3NhZ2UuZGlnZXN0ID0gbmV3IFVpbnQ4QXJyYXkoKTtcbiAgICB9XG4gICAgaWYgKG9iamVjdC5yZWNlaXZlZFRpbWUgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QucmVjZWl2ZWRUaW1lICE9PSBudWxsKSB7XG4gICAgICBtZXNzYWdlLnJlY2VpdmVkVGltZSA9IG9iamVjdC5yZWNlaXZlZFRpbWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1lc3NhZ2UucmVjZWl2ZWRUaW1lID0gMDtcbiAgICB9XG4gICAgaWYgKG9iamVjdC5zZW5kZXJUaW1lICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnNlbmRlclRpbWUgIT09IG51bGwpIHtcbiAgICAgIG1lc3NhZ2Uuc2VuZGVyVGltZSA9IG9iamVjdC5zZW5kZXJUaW1lO1xuICAgIH0gZWxzZSB7XG4gICAgICBtZXNzYWdlLnNlbmRlclRpbWUgPSAwO1xuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmNvbnN0IGJhc2VQYWdpbmdJbmZvOiBvYmplY3QgPSB7IHBhZ2VTaXplOiAwLCBkaXJlY3Rpb246IDAgfTtcblxuZXhwb3J0IGNvbnN0IFBhZ2luZ0luZm8gPSB7XG4gIGVuY29kZShcbiAgICBtZXNzYWdlOiBQYWdpbmdJbmZvLFxuICAgIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKClcbiAgKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2UucGFnZVNpemUgIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoOCkudWludDY0KG1lc3NhZ2UucGFnZVNpemUpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5jdXJzb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgSW5kZXguZW5jb2RlKG1lc3NhZ2UuY3Vyc29yLCB3cml0ZXIudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5kaXJlY3Rpb24gIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMjQpLmludDMyKG1lc3NhZ2UuZGlyZWN0aW9uKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBQYWdpbmdJbmZvIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0geyAuLi5iYXNlUGFnaW5nSW5mbyB9IGFzIFBhZ2luZ0luZm87XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLnBhZ2VTaXplID0gbG9uZ1RvTnVtYmVyKHJlYWRlci51aW50NjQoKSBhcyBMb25nKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIG1lc3NhZ2UuY3Vyc29yID0gSW5kZXguZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIG1lc3NhZ2UuZGlyZWN0aW9uID0gcmVhZGVyLmludDMyKCkgYXMgYW55O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBQYWdpbmdJbmZvIHtcbiAgICBjb25zdCBtZXNzYWdlID0geyAuLi5iYXNlUGFnaW5nSW5mbyB9IGFzIFBhZ2luZ0luZm87XG4gICAgaWYgKG9iamVjdC5wYWdlU2l6ZSAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5wYWdlU2l6ZSAhPT0gbnVsbCkge1xuICAgICAgbWVzc2FnZS5wYWdlU2l6ZSA9IE51bWJlcihvYmplY3QucGFnZVNpemUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBtZXNzYWdlLnBhZ2VTaXplID0gMDtcbiAgICB9XG4gICAgaWYgKG9iamVjdC5jdXJzb3IgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuY3Vyc29yICE9PSBudWxsKSB7XG4gICAgICBtZXNzYWdlLmN1cnNvciA9IEluZGV4LmZyb21KU09OKG9iamVjdC5jdXJzb3IpO1xuICAgIH0gZWxzZSB7XG4gICAgICBtZXNzYWdlLmN1cnNvciA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKG9iamVjdC5kaXJlY3Rpb24gIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuZGlyZWN0aW9uICE9PSBudWxsKSB7XG4gICAgICBtZXNzYWdlLmRpcmVjdGlvbiA9IHBhZ2luZ0luZm9fRGlyZWN0aW9uRnJvbUpTT04ob2JqZWN0LmRpcmVjdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1lc3NhZ2UuZGlyZWN0aW9uID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgdG9KU09OKG1lc3NhZ2U6IFBhZ2luZ0luZm8pOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2UucGFnZVNpemUgIT09IHVuZGVmaW5lZCAmJiAob2JqLnBhZ2VTaXplID0gbWVzc2FnZS5wYWdlU2l6ZSk7XG4gICAgbWVzc2FnZS5jdXJzb3IgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgKG9iai5jdXJzb3IgPSBtZXNzYWdlLmN1cnNvciA/IEluZGV4LnRvSlNPTihtZXNzYWdlLmN1cnNvcikgOiB1bmRlZmluZWQpO1xuICAgIG1lc3NhZ2UuZGlyZWN0aW9uICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIChvYmouZGlyZWN0aW9uID0gcGFnaW5nSW5mb19EaXJlY3Rpb25Ub0pTT04obWVzc2FnZS5kaXJlY3Rpb24pKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsKG9iamVjdDogRGVlcFBhcnRpYWw8UGFnaW5nSW5mbz4pOiBQYWdpbmdJbmZvIHtcbiAgICBjb25zdCBtZXNzYWdlID0geyAuLi5iYXNlUGFnaW5nSW5mbyB9IGFzIFBhZ2luZ0luZm87XG4gICAgaWYgKG9iamVjdC5wYWdlU2l6ZSAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5wYWdlU2l6ZSAhPT0gbnVsbCkge1xuICAgICAgbWVzc2FnZS5wYWdlU2l6ZSA9IG9iamVjdC5wYWdlU2l6ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgbWVzc2FnZS5wYWdlU2l6ZSA9IDA7XG4gICAgfVxuICAgIGlmIChvYmplY3QuY3Vyc29yICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmN1cnNvciAhPT0gbnVsbCkge1xuICAgICAgbWVzc2FnZS5jdXJzb3IgPSBJbmRleC5mcm9tUGFydGlhbChvYmplY3QuY3Vyc29yKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbWVzc2FnZS5jdXJzb3IgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmIChvYmplY3QuZGlyZWN0aW9uICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmRpcmVjdGlvbiAhPT0gbnVsbCkge1xuICAgICAgbWVzc2FnZS5kaXJlY3Rpb24gPSBvYmplY3QuZGlyZWN0aW9uO1xuICAgIH0gZWxzZSB7XG4gICAgICBtZXNzYWdlLmRpcmVjdGlvbiA9IDA7XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuY29uc3QgYmFzZUNvbnRlbnRGaWx0ZXI6IG9iamVjdCA9IHsgY29udGVudFRvcGljOiAnJyB9O1xuXG5leHBvcnQgY29uc3QgQ29udGVudEZpbHRlciA9IHtcbiAgZW5jb2RlKFxuICAgIG1lc3NhZ2U6IENvbnRlbnRGaWx0ZXIsXG4gICAgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKVxuICApOiBfbTAuV3JpdGVyIHtcbiAgICBpZiAobWVzc2FnZS5jb250ZW50VG9waWMgIT09ICcnKSB7XG4gICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS5jb250ZW50VG9waWMpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IENvbnRlbnRGaWx0ZXIge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSB7IC4uLmJhc2VDb250ZW50RmlsdGVyIH0gYXMgQ29udGVudEZpbHRlcjtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG1lc3NhZ2UuY29udGVudFRvcGljID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBDb250ZW50RmlsdGVyIHtcbiAgICBjb25zdCBtZXNzYWdlID0geyAuLi5iYXNlQ29udGVudEZpbHRlciB9IGFzIENvbnRlbnRGaWx0ZXI7XG4gICAgaWYgKG9iamVjdC5jb250ZW50VG9waWMgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuY29udGVudFRvcGljICE9PSBudWxsKSB7XG4gICAgICBtZXNzYWdlLmNvbnRlbnRUb3BpYyA9IFN0cmluZyhvYmplY3QuY29udGVudFRvcGljKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbWVzc2FnZS5jb250ZW50VG9waWMgPSAnJztcbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgdG9KU09OKG1lc3NhZ2U6IENvbnRlbnRGaWx0ZXIpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2UuY29udGVudFRvcGljICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIChvYmouY29udGVudFRvcGljID0gbWVzc2FnZS5jb250ZW50VG9waWMpO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWwob2JqZWN0OiBEZWVwUGFydGlhbDxDb250ZW50RmlsdGVyPik6IENvbnRlbnRGaWx0ZXIge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSB7IC4uLmJhc2VDb250ZW50RmlsdGVyIH0gYXMgQ29udGVudEZpbHRlcjtcbiAgICBpZiAob2JqZWN0LmNvbnRlbnRUb3BpYyAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5jb250ZW50VG9waWMgIT09IG51bGwpIHtcbiAgICAgIG1lc3NhZ2UuY29udGVudFRvcGljID0gb2JqZWN0LmNvbnRlbnRUb3BpYztcbiAgICB9IGVsc2Uge1xuICAgICAgbWVzc2FnZS5jb250ZW50VG9waWMgPSAnJztcbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5jb25zdCBiYXNlSGlzdG9yeVF1ZXJ5OiBvYmplY3QgPSB7fTtcblxuZXhwb3J0IGNvbnN0IEhpc3RvcnlRdWVyeSA9IHtcbiAgZW5jb2RlKFxuICAgIG1lc3NhZ2U6IEhpc3RvcnlRdWVyeSxcbiAgICB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpXG4gICk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLnB1YlN1YlRvcGljICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTgpLnN0cmluZyhtZXNzYWdlLnB1YlN1YlRvcGljKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCB2IG9mIG1lc3NhZ2UuY29udGVudEZpbHRlcnMpIHtcbiAgICAgIENvbnRlbnRGaWx0ZXIuZW5jb2RlKHYhLCB3cml0ZXIudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5wYWdpbmdJbmZvICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIFBhZ2luZ0luZm8uZW5jb2RlKG1lc3NhZ2UucGFnaW5nSW5mbywgd3JpdGVyLnVpbnQzMigzNCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2Uuc3RhcnRUaW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHdyaXRlci51aW50MzIoNDEpLmRvdWJsZShtZXNzYWdlLnN0YXJ0VGltZSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmVuZFRpbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgd3JpdGVyLnVpbnQzMig0OSkuZG91YmxlKG1lc3NhZ2UuZW5kVGltZSk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogSGlzdG9yeVF1ZXJ5IHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0geyAuLi5iYXNlSGlzdG9yeVF1ZXJ5IH0gYXMgSGlzdG9yeVF1ZXJ5O1xuICAgIG1lc3NhZ2UuY29udGVudEZpbHRlcnMgPSBbXTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIG1lc3NhZ2UucHViU3ViVG9waWMgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBtZXNzYWdlLmNvbnRlbnRGaWx0ZXJzLnB1c2goXG4gICAgICAgICAgICBDb250ZW50RmlsdGVyLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSlcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgbWVzc2FnZS5wYWdpbmdJbmZvID0gUGFnaW5nSW5mby5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgbWVzc2FnZS5zdGFydFRpbWUgPSByZWFkZXIuZG91YmxlKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNjpcbiAgICAgICAgICBtZXNzYWdlLmVuZFRpbWUgPSByZWFkZXIuZG91YmxlKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihvYmplY3Q6IGFueSk6IEhpc3RvcnlRdWVyeSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IHsgLi4uYmFzZUhpc3RvcnlRdWVyeSB9IGFzIEhpc3RvcnlRdWVyeTtcbiAgICBtZXNzYWdlLmNvbnRlbnRGaWx0ZXJzID0gW107XG4gICAgaWYgKG9iamVjdC5wdWJTdWJUb3BpYyAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5wdWJTdWJUb3BpYyAhPT0gbnVsbCkge1xuICAgICAgbWVzc2FnZS5wdWJTdWJUb3BpYyA9IFN0cmluZyhvYmplY3QucHViU3ViVG9waWMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBtZXNzYWdlLnB1YlN1YlRvcGljID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAob2JqZWN0LmNvbnRlbnRGaWx0ZXJzICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmNvbnRlbnRGaWx0ZXJzICE9PSBudWxsKSB7XG4gICAgICBmb3IgKGNvbnN0IGUgb2Ygb2JqZWN0LmNvbnRlbnRGaWx0ZXJzKSB7XG4gICAgICAgIG1lc3NhZ2UuY29udGVudEZpbHRlcnMucHVzaChDb250ZW50RmlsdGVyLmZyb21KU09OKGUpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG9iamVjdC5wYWdpbmdJbmZvICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnBhZ2luZ0luZm8gIT09IG51bGwpIHtcbiAgICAgIG1lc3NhZ2UucGFnaW5nSW5mbyA9IFBhZ2luZ0luZm8uZnJvbUpTT04ob2JqZWN0LnBhZ2luZ0luZm8pO1xuICAgIH0gZWxzZSB7XG4gICAgICBtZXNzYWdlLnBhZ2luZ0luZm8gPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmIChvYmplY3Quc3RhcnRUaW1lICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnN0YXJ0VGltZSAhPT0gbnVsbCkge1xuICAgICAgbWVzc2FnZS5zdGFydFRpbWUgPSBOdW1iZXIob2JqZWN0LnN0YXJ0VGltZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1lc3NhZ2Uuc3RhcnRUaW1lID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAob2JqZWN0LmVuZFRpbWUgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuZW5kVGltZSAhPT0gbnVsbCkge1xuICAgICAgbWVzc2FnZS5lbmRUaW1lID0gTnVtYmVyKG9iamVjdC5lbmRUaW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbWVzc2FnZS5lbmRUaW1lID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogSGlzdG9yeVF1ZXJ5KTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICBtZXNzYWdlLnB1YlN1YlRvcGljICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIChvYmoucHViU3ViVG9waWMgPSBtZXNzYWdlLnB1YlN1YlRvcGljKTtcbiAgICBpZiAobWVzc2FnZS5jb250ZW50RmlsdGVycykge1xuICAgICAgb2JqLmNvbnRlbnRGaWx0ZXJzID0gbWVzc2FnZS5jb250ZW50RmlsdGVycy5tYXAoKGUpID0+XG4gICAgICAgIGUgPyBDb250ZW50RmlsdGVyLnRvSlNPTihlKSA6IHVuZGVmaW5lZFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2JqLmNvbnRlbnRGaWx0ZXJzID0gW107XG4gICAgfVxuICAgIG1lc3NhZ2UucGFnaW5nSW5mbyAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAob2JqLnBhZ2luZ0luZm8gPSBtZXNzYWdlLnBhZ2luZ0luZm9cbiAgICAgICAgPyBQYWdpbmdJbmZvLnRvSlNPTihtZXNzYWdlLnBhZ2luZ0luZm8pXG4gICAgICAgIDogdW5kZWZpbmVkKTtcbiAgICBtZXNzYWdlLnN0YXJ0VGltZSAhPT0gdW5kZWZpbmVkICYmIChvYmouc3RhcnRUaW1lID0gbWVzc2FnZS5zdGFydFRpbWUpO1xuICAgIG1lc3NhZ2UuZW5kVGltZSAhPT0gdW5kZWZpbmVkICYmIChvYmouZW5kVGltZSA9IG1lc3NhZ2UuZW5kVGltZSk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbChvYmplY3Q6IERlZXBQYXJ0aWFsPEhpc3RvcnlRdWVyeT4pOiBIaXN0b3J5UXVlcnkge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSB7IC4uLmJhc2VIaXN0b3J5UXVlcnkgfSBhcyBIaXN0b3J5UXVlcnk7XG4gICAgbWVzc2FnZS5jb250ZW50RmlsdGVycyA9IFtdO1xuICAgIGlmIChvYmplY3QucHViU3ViVG9waWMgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QucHViU3ViVG9waWMgIT09IG51bGwpIHtcbiAgICAgIG1lc3NhZ2UucHViU3ViVG9waWMgPSBvYmplY3QucHViU3ViVG9waWM7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1lc3NhZ2UucHViU3ViVG9waWMgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmIChvYmplY3QuY29udGVudEZpbHRlcnMgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuY29udGVudEZpbHRlcnMgIT09IG51bGwpIHtcbiAgICAgIGZvciAoY29uc3QgZSBvZiBvYmplY3QuY29udGVudEZpbHRlcnMpIHtcbiAgICAgICAgbWVzc2FnZS5jb250ZW50RmlsdGVycy5wdXNoKENvbnRlbnRGaWx0ZXIuZnJvbVBhcnRpYWwoZSkpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAob2JqZWN0LnBhZ2luZ0luZm8gIT09IHVuZGVmaW5lZCAmJiBvYmplY3QucGFnaW5nSW5mbyAhPT0gbnVsbCkge1xuICAgICAgbWVzc2FnZS5wYWdpbmdJbmZvID0gUGFnaW5nSW5mby5mcm9tUGFydGlhbChvYmplY3QucGFnaW5nSW5mbyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1lc3NhZ2UucGFnaW5nSW5mbyA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKG9iamVjdC5zdGFydFRpbWUgIT09IHVuZGVmaW5lZCAmJiBvYmplY3Quc3RhcnRUaW1lICE9PSBudWxsKSB7XG4gICAgICBtZXNzYWdlLnN0YXJ0VGltZSA9IG9iamVjdC5zdGFydFRpbWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1lc3NhZ2Uuc3RhcnRUaW1lID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAob2JqZWN0LmVuZFRpbWUgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuZW5kVGltZSAhPT0gbnVsbCkge1xuICAgICAgbWVzc2FnZS5lbmRUaW1lID0gb2JqZWN0LmVuZFRpbWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1lc3NhZ2UuZW5kVGltZSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5jb25zdCBiYXNlSGlzdG9yeVJlc3BvbnNlOiBvYmplY3QgPSB7IGVycm9yOiAwIH07XG5cbmV4cG9ydCBjb25zdCBIaXN0b3J5UmVzcG9uc2UgPSB7XG4gIGVuY29kZShcbiAgICBtZXNzYWdlOiBIaXN0b3J5UmVzcG9uc2UsXG4gICAgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKVxuICApOiBfbTAuV3JpdGVyIHtcbiAgICBmb3IgKGNvbnN0IHYgb2YgbWVzc2FnZS5tZXNzYWdlcykge1xuICAgICAgV2FrdU1lc3NhZ2UuZW5jb2RlKHYhLCB3cml0ZXIudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5wYWdpbmdJbmZvICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIFBhZ2luZ0luZm8uZW5jb2RlKG1lc3NhZ2UucGFnaW5nSW5mbywgd3JpdGVyLnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuZXJyb3IgIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMzIpLmludDMyKG1lc3NhZ2UuZXJyb3IpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuXG4gIGRlY29kZShpbnB1dDogX20wLlJlYWRlciB8IFVpbnQ4QXJyYXksIGxlbmd0aD86IG51bWJlcik6IEhpc3RvcnlSZXNwb25zZSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IHsgLi4uYmFzZUhpc3RvcnlSZXNwb25zZSB9IGFzIEhpc3RvcnlSZXNwb25zZTtcbiAgICBtZXNzYWdlLm1lc3NhZ2VzID0gW107XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBtZXNzYWdlLm1lc3NhZ2VzLnB1c2goV2FrdU1lc3NhZ2UuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBtZXNzYWdlLnBhZ2luZ0luZm8gPSBQYWdpbmdJbmZvLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBtZXNzYWdlLmVycm9yID0gcmVhZGVyLmludDMyKCkgYXMgYW55O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBIaXN0b3J5UmVzcG9uc2Uge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSB7IC4uLmJhc2VIaXN0b3J5UmVzcG9uc2UgfSBhcyBIaXN0b3J5UmVzcG9uc2U7XG4gICAgbWVzc2FnZS5tZXNzYWdlcyA9IFtdO1xuICAgIGlmIChvYmplY3QubWVzc2FnZXMgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QubWVzc2FnZXMgIT09IG51bGwpIHtcbiAgICAgIGZvciAoY29uc3QgZSBvZiBvYmplY3QubWVzc2FnZXMpIHtcbiAgICAgICAgbWVzc2FnZS5tZXNzYWdlcy5wdXNoKFdha3VNZXNzYWdlLmZyb21KU09OKGUpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG9iamVjdC5wYWdpbmdJbmZvICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnBhZ2luZ0luZm8gIT09IG51bGwpIHtcbiAgICAgIG1lc3NhZ2UucGFnaW5nSW5mbyA9IFBhZ2luZ0luZm8uZnJvbUpTT04ob2JqZWN0LnBhZ2luZ0luZm8pO1xuICAgIH0gZWxzZSB7XG4gICAgICBtZXNzYWdlLnBhZ2luZ0luZm8gPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmIChvYmplY3QuZXJyb3IgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuZXJyb3IgIT09IG51bGwpIHtcbiAgICAgIG1lc3NhZ2UuZXJyb3IgPSBoaXN0b3J5UmVzcG9uc2VfRXJyb3JGcm9tSlNPTihvYmplY3QuZXJyb3IpO1xuICAgIH0gZWxzZSB7XG4gICAgICBtZXNzYWdlLmVycm9yID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgdG9KU09OKG1lc3NhZ2U6IEhpc3RvcnlSZXNwb25zZSk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgaWYgKG1lc3NhZ2UubWVzc2FnZXMpIHtcbiAgICAgIG9iai5tZXNzYWdlcyA9IG1lc3NhZ2UubWVzc2FnZXMubWFwKChlKSA9PlxuICAgICAgICBlID8gV2FrdU1lc3NhZ2UudG9KU09OKGUpIDogdW5kZWZpbmVkXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBvYmoubWVzc2FnZXMgPSBbXTtcbiAgICB9XG4gICAgbWVzc2FnZS5wYWdpbmdJbmZvICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIChvYmoucGFnaW5nSW5mbyA9IG1lc3NhZ2UucGFnaW5nSW5mb1xuICAgICAgICA/IFBhZ2luZ0luZm8udG9KU09OKG1lc3NhZ2UucGFnaW5nSW5mbylcbiAgICAgICAgOiB1bmRlZmluZWQpO1xuICAgIG1lc3NhZ2UuZXJyb3IgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgKG9iai5lcnJvciA9IGhpc3RvcnlSZXNwb25zZV9FcnJvclRvSlNPTihtZXNzYWdlLmVycm9yKSk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbChvYmplY3Q6IERlZXBQYXJ0aWFsPEhpc3RvcnlSZXNwb25zZT4pOiBIaXN0b3J5UmVzcG9uc2Uge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSB7IC4uLmJhc2VIaXN0b3J5UmVzcG9uc2UgfSBhcyBIaXN0b3J5UmVzcG9uc2U7XG4gICAgbWVzc2FnZS5tZXNzYWdlcyA9IFtdO1xuICAgIGlmIChvYmplY3QubWVzc2FnZXMgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QubWVzc2FnZXMgIT09IG51bGwpIHtcbiAgICAgIGZvciAoY29uc3QgZSBvZiBvYmplY3QubWVzc2FnZXMpIHtcbiAgICAgICAgbWVzc2FnZS5tZXNzYWdlcy5wdXNoKFdha3VNZXNzYWdlLmZyb21QYXJ0aWFsKGUpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG9iamVjdC5wYWdpbmdJbmZvICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnBhZ2luZ0luZm8gIT09IG51bGwpIHtcbiAgICAgIG1lc3NhZ2UucGFnaW5nSW5mbyA9IFBhZ2luZ0luZm8uZnJvbVBhcnRpYWwob2JqZWN0LnBhZ2luZ0luZm8pO1xuICAgIH0gZWxzZSB7XG4gICAgICBtZXNzYWdlLnBhZ2luZ0luZm8gPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmIChvYmplY3QuZXJyb3IgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuZXJyb3IgIT09IG51bGwpIHtcbiAgICAgIG1lc3NhZ2UuZXJyb3IgPSBvYmplY3QuZXJyb3I7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1lc3NhZ2UuZXJyb3IgPSAwO1xuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmNvbnN0IGJhc2VIaXN0b3J5UlBDOiBvYmplY3QgPSB7IHJlcXVlc3RJZDogJycgfTtcblxuZXhwb3J0IGNvbnN0IEhpc3RvcnlSUEMgPSB7XG4gIGVuY29kZShcbiAgICBtZXNzYWdlOiBIaXN0b3J5UlBDLFxuICAgIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKClcbiAgKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2UucmVxdWVzdElkICE9PSAnJykge1xuICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2UucmVxdWVzdElkKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UucXVlcnkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgSGlzdG9yeVF1ZXJ5LmVuY29kZShtZXNzYWdlLnF1ZXJ5LCB3cml0ZXIudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5yZXNwb25zZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBIaXN0b3J5UmVzcG9uc2UuZW5jb2RlKFxuICAgICAgICBtZXNzYWdlLnJlc3BvbnNlLFxuICAgICAgICB3cml0ZXIudWludDMyKDI2KS5mb3JrKClcbiAgICAgICkubGRlbGltKCk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogSGlzdG9yeVJQQyB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IHsgLi4uYmFzZUhpc3RvcnlSUEMgfSBhcyBIaXN0b3J5UlBDO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbWVzc2FnZS5yZXF1ZXN0SWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBtZXNzYWdlLnF1ZXJ5ID0gSGlzdG9yeVF1ZXJ5LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBtZXNzYWdlLnJlc3BvbnNlID0gSGlzdG9yeVJlc3BvbnNlLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihvYmplY3Q6IGFueSk6IEhpc3RvcnlSUEMge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSB7IC4uLmJhc2VIaXN0b3J5UlBDIH0gYXMgSGlzdG9yeVJQQztcbiAgICBpZiAob2JqZWN0LnJlcXVlc3RJZCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5yZXF1ZXN0SWQgIT09IG51bGwpIHtcbiAgICAgIG1lc3NhZ2UucmVxdWVzdElkID0gU3RyaW5nKG9iamVjdC5yZXF1ZXN0SWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBtZXNzYWdlLnJlcXVlc3RJZCA9ICcnO1xuICAgIH1cbiAgICBpZiAob2JqZWN0LnF1ZXJ5ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnF1ZXJ5ICE9PSBudWxsKSB7XG4gICAgICBtZXNzYWdlLnF1ZXJ5ID0gSGlzdG9yeVF1ZXJ5LmZyb21KU09OKG9iamVjdC5xdWVyeSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1lc3NhZ2UucXVlcnkgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmIChvYmplY3QucmVzcG9uc2UgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QucmVzcG9uc2UgIT09IG51bGwpIHtcbiAgICAgIG1lc3NhZ2UucmVzcG9uc2UgPSBIaXN0b3J5UmVzcG9uc2UuZnJvbUpTT04ob2JqZWN0LnJlc3BvbnNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbWVzc2FnZS5yZXNwb25zZSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgdG9KU09OKG1lc3NhZ2U6IEhpc3RvcnlSUEMpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2UucmVxdWVzdElkICE9PSB1bmRlZmluZWQgJiYgKG9iai5yZXF1ZXN0SWQgPSBtZXNzYWdlLnJlcXVlc3RJZCk7XG4gICAgbWVzc2FnZS5xdWVyeSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAob2JqLnF1ZXJ5ID0gbWVzc2FnZS5xdWVyeVxuICAgICAgICA/IEhpc3RvcnlRdWVyeS50b0pTT04obWVzc2FnZS5xdWVyeSlcbiAgICAgICAgOiB1bmRlZmluZWQpO1xuICAgIG1lc3NhZ2UucmVzcG9uc2UgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgKG9iai5yZXNwb25zZSA9IG1lc3NhZ2UucmVzcG9uc2VcbiAgICAgICAgPyBIaXN0b3J5UmVzcG9uc2UudG9KU09OKG1lc3NhZ2UucmVzcG9uc2UpXG4gICAgICAgIDogdW5kZWZpbmVkKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsKG9iamVjdDogRGVlcFBhcnRpYWw8SGlzdG9yeVJQQz4pOiBIaXN0b3J5UlBDIHtcbiAgICBjb25zdCBtZXNzYWdlID0geyAuLi5iYXNlSGlzdG9yeVJQQyB9IGFzIEhpc3RvcnlSUEM7XG4gICAgaWYgKG9iamVjdC5yZXF1ZXN0SWQgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QucmVxdWVzdElkICE9PSBudWxsKSB7XG4gICAgICBtZXNzYWdlLnJlcXVlc3RJZCA9IG9iamVjdC5yZXF1ZXN0SWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1lc3NhZ2UucmVxdWVzdElkID0gJyc7XG4gICAgfVxuICAgIGlmIChvYmplY3QucXVlcnkgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QucXVlcnkgIT09IG51bGwpIHtcbiAgICAgIG1lc3NhZ2UucXVlcnkgPSBIaXN0b3J5UXVlcnkuZnJvbVBhcnRpYWwob2JqZWN0LnF1ZXJ5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgbWVzc2FnZS5xdWVyeSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKG9iamVjdC5yZXNwb25zZSAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5yZXNwb25zZSAhPT0gbnVsbCkge1xuICAgICAgbWVzc2FnZS5yZXNwb25zZSA9IEhpc3RvcnlSZXNwb25zZS5mcm9tUGFydGlhbChvYmplY3QucmVzcG9uc2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICBtZXNzYWdlLnJlc3BvbnNlID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmRlY2xhcmUgdmFyIHNlbGY6IGFueSB8IHVuZGVmaW5lZDtcbmRlY2xhcmUgdmFyIHdpbmRvdzogYW55IHwgdW5kZWZpbmVkO1xudmFyIGdsb2JhbFRoaXM6IGFueSA9ICgoKSA9PiB7XG4gIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCcpIHJldHVybiBnbG9iYWxUaGlzO1xuICBpZiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnKSByZXR1cm4gc2VsZjtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSByZXR1cm4gd2luZG93O1xuICBpZiAodHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcpIHJldHVybiBnbG9iYWw7XG4gIHRocm93ICdVbmFibGUgdG8gbG9jYXRlIGdsb2JhbCBvYmplY3QnO1xufSkoKTtcblxuY29uc3QgYXRvYjogKGI2NDogc3RyaW5nKSA9PiBzdHJpbmcgPVxuICBnbG9iYWxUaGlzLmF0b2IgfHxcbiAgKChiNjQpID0+IGdsb2JhbFRoaXMuQnVmZmVyLmZyb20oYjY0LCAnYmFzZTY0JykudG9TdHJpbmcoJ2JpbmFyeScpKTtcbmZ1bmN0aW9uIGJ5dGVzRnJvbUJhc2U2NChiNjQ6IHN0cmluZyk6IFVpbnQ4QXJyYXkge1xuICBjb25zdCBiaW4gPSBhdG9iKGI2NCk7XG4gIGNvbnN0IGFyciA9IG5ldyBVaW50OEFycmF5KGJpbi5sZW5ndGgpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGJpbi5sZW5ndGg7ICsraSkge1xuICAgIGFycltpXSA9IGJpbi5jaGFyQ29kZUF0KGkpO1xuICB9XG4gIHJldHVybiBhcnI7XG59XG5cbmNvbnN0IGJ0b2E6IChiaW46IHN0cmluZykgPT4gc3RyaW5nID1cbiAgZ2xvYmFsVGhpcy5idG9hIHx8XG4gICgoYmluKSA9PiBnbG9iYWxUaGlzLkJ1ZmZlci5mcm9tKGJpbiwgJ2JpbmFyeScpLnRvU3RyaW5nKCdiYXNlNjQnKSk7XG5mdW5jdGlvbiBiYXNlNjRGcm9tQnl0ZXMoYXJyOiBVaW50OEFycmF5KTogc3RyaW5nIHtcbiAgY29uc3QgYmluOiBzdHJpbmdbXSA9IFtdO1xuICBmb3IgKGNvbnN0IGJ5dGUgb2YgYXJyKSB7XG4gICAgYmluLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShieXRlKSk7XG4gIH1cbiAgcmV0dXJuIGJ0b2EoYmluLmpvaW4oJycpKTtcbn1cblxudHlwZSBCdWlsdGluID1cbiAgfCBEYXRlXG4gIHwgRnVuY3Rpb25cbiAgfCBVaW50OEFycmF5XG4gIHwgc3RyaW5nXG4gIHwgbnVtYmVyXG4gIHwgYm9vbGVhblxuICB8IHVuZGVmaW5lZDtcbmV4cG9ydCB0eXBlIERlZXBQYXJ0aWFsPFQ+ID0gVCBleHRlbmRzIEJ1aWx0aW5cbiAgPyBUXG4gIDogVCBleHRlbmRzIEFycmF5PGluZmVyIFU+XG4gID8gQXJyYXk8RGVlcFBhcnRpYWw8VT4+XG4gIDogVCBleHRlbmRzIFJlYWRvbmx5QXJyYXk8aW5mZXIgVT5cbiAgPyBSZWFkb25seUFycmF5PERlZXBQYXJ0aWFsPFU+PlxuICA6IFQgZXh0ZW5kcyB7fVxuICA/IHsgW0sgaW4ga2V5b2YgVF0/OiBEZWVwUGFydGlhbDxUW0tdPiB9XG4gIDogUGFydGlhbDxUPjtcblxuZnVuY3Rpb24gbG9uZ1RvTnVtYmVyKGxvbmc6IExvbmcpOiBudW1iZXIge1xuICBpZiAobG9uZy5ndChOdW1iZXIuTUFYX1NBRkVfSU5URUdFUikpIHtcbiAgICB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcignVmFsdWUgaXMgbGFyZ2VyIHRoYW4gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVInKTtcbiAgfVxuICByZXR1cm4gbG9uZy50b051bWJlcigpO1xufVxuXG5pZiAoX20wLnV0aWwuTG9uZyAhPT0gTG9uZykge1xuICBfbTAudXRpbC5Mb25nID0gTG9uZyBhcyBhbnk7XG4gIF9tMC5jb25maWd1cmUoKTtcbn1cbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdGxvYWRlZDogZmFsc2UsXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuXHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbi8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBfX3dlYnBhY2tfbW9kdWxlc19fO1xuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmFtZE8gPSB7fTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm5tZCA9IChtb2R1bGUpID0+IHtcblx0bW9kdWxlLnBhdGhzID0gW107XG5cdGlmICghbW9kdWxlLmNoaWxkcmVuKSBtb2R1bGUuY2hpbGRyZW4gPSBbXTtcblx0cmV0dXJuIG1vZHVsZTtcbn07IiwiLy8gbm8gYmFzZVVSSVxuXG4vLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuLy8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4vLyBbcmVzb2x2ZSwgcmVqZWN0LCBQcm9taXNlXSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbnZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG5cdDIwNDogMFxufTtcblxuLy8gbm8gY2h1bmsgb24gZGVtYW5kIGxvYWRpbmdcblxuLy8gbm8gcHJlZmV0Y2hpbmdcblxuLy8gbm8gcHJlbG9hZGVkXG5cbi8vIG5vIEhNUlxuXG4vLyBubyBITVIgbWFuaWZlc3RcblxuX193ZWJwYWNrX3JlcXVpcmVfXy5PLmogPSAoY2h1bmtJZCkgPT4gKGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9PT0gMCk7XG5cbi8vIGluc3RhbGwgYSBKU09OUCBjYWxsYmFjayBmb3IgY2h1bmsgbG9hZGluZ1xudmFyIHdlYnBhY2tKc29ucENhbGxiYWNrID0gKHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uLCBkYXRhKSA9PiB7XG5cdHZhciBbY2h1bmtJZHMsIG1vcmVNb2R1bGVzLCBydW50aW1lXSA9IGRhdGE7XG5cdC8vIGFkZCBcIm1vcmVNb2R1bGVzXCIgdG8gdGhlIG1vZHVsZXMgb2JqZWN0LFxuXHQvLyB0aGVuIGZsYWcgYWxsIFwiY2h1bmtJZHNcIiBhcyBsb2FkZWQgYW5kIGZpcmUgY2FsbGJhY2tcblx0dmFyIG1vZHVsZUlkLCBjaHVua0lkLCBpID0gMDtcblx0aWYoY2h1bmtJZHMuc29tZSgoaWQpID0+IChpbnN0YWxsZWRDaHVua3NbaWRdICE9PSAwKSkpIHtcblx0XHRmb3IobW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcblx0XHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XG5cdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX18ubVttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmKHJ1bnRpbWUpIHZhciByZXN1bHQgPSBydW50aW1lKF9fd2VicGFja19yZXF1aXJlX18pO1xuXHR9XG5cdGlmKHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uKSBwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbihkYXRhKTtcblx0Zm9yKDtpIDwgY2h1bmtJZHMubGVuZ3RoOyBpKyspIHtcblx0XHRjaHVua0lkID0gY2h1bmtJZHNbaV07XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGluc3RhbGxlZENodW5rcywgY2h1bmtJZCkgJiYgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdKSB7XG5cdFx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF1bMF0oKTtcblx0XHR9XG5cdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRzW2ldXSA9IDA7XG5cdH1cblx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18uTyhyZXN1bHQpO1xufVxuXG52YXIgY2h1bmtMb2FkaW5nR2xvYmFsID0gdGhpc1tcIndlYnBhY2tDaHVua2pzd2FrdVwiXSA9IHRoaXNbXCJ3ZWJwYWNrQ2h1bmtqc3dha3VcIl0gfHwgW107XG5jaHVua0xvYWRpbmdHbG9iYWwuZm9yRWFjaCh3ZWJwYWNrSnNvbnBDYWxsYmFjay5iaW5kKG51bGwsIDApKTtcbmNodW5rTG9hZGluZ0dsb2JhbC5wdXNoID0gd2VicGFja0pzb25wQ2FsbGJhY2suYmluZChudWxsLCBjaHVua0xvYWRpbmdHbG9iYWwucHVzaC5iaW5kKGNodW5rTG9hZGluZ0dsb2JhbCkpOyIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgZGVwZW5kcyBvbiBvdGhlciBsb2FkZWQgY2h1bmtzIGFuZCBleGVjdXRpb24gbmVlZCB0byBiZSBkZWxheWVkXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18uTyh1bmRlZmluZWQsIFsyMTZdLCAoKSA9PiAoX193ZWJwYWNrX3JlcXVpcmVfXyg2MzYwNykpKVxuX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18uTyhfX3dlYnBhY2tfZXhwb3J0c19fKTtcbiJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJ0aGlzIiwiZGVmZXJyZWQiLCJnZXQiLCJnZXRCb290c3RyYXBOb2RlcyIsIldha3UiLCJEZWZhdWx0UHViU3ViVG9waWMiLCJXYWt1TWVzc2FnZSIsImdlbmVyYXRlUHJpdmF0ZUtleSIsImdlbmVyYXRlU3ltbWV0cmljS2V5IiwiZ2V0UHVibGljS2V5IiwiV2FrdUxpZ2h0UHVzaCIsIkxpZ2h0UHVzaENvZGVjIiwiUHVzaFJlc3BvbnNlIiwiV2FrdVJlbGF5IiwiUmVsYXlDb2RlY3MiLCJQYWdlRGlyZWN0aW9uIiwiV2FrdVN0b3JlIiwiU3RvcmVDb2RlYyIsImRiZyIsImdldFBzZXVkb1JhbmRvbVN1YnNldCIsInZhbHVlcyIsIndhbnRlZE51bWJlciIsImxlbmd0aCIsInNodWZmbGUiLCJzbGljZSIsImFzeW5jIiwicGF0aCIsInVybCIsIm5vZGVzIiwiaGVhZGVycyIsImRhdGEiLCJwcm9wIiwidW5kZWZpbmVkIiwiSlNPTiIsInN0cmluZ2lmeSIsIkFycmF5IiwiaXNBcnJheSIsIk9iamVjdCIsInBlZXJzIiwiTWF0aCIsInJvdW5kIiwicmFuZG9tIiwibGlicDJwIiwicHJvdG9jb2wiLCJmcm9tIiwicGVlclN0b3JlIiwiZmlsdGVyIiwicGVlciIsInByb3RvY29scyIsImluY2x1ZGVzIiwiaGV4VG9CdWYiLCJoZXgiLCJCdWZmZXIiLCJyZXBsYWNlIiwiYnVmIiwidG9TdHJpbmciLCJhIiwiYiIsImFCdWYiLCJiQnVmIiwiY29tcGFyZSIsIndlYnNvY2tldHNUcmFuc3BvcnRLZXkiLCJwcm90b3R5cGUiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsIkRlZmF1bHRQaW5nS2VlcEFsaXZlVmFsdWVTZWNzIiwiRGVmYXVsdFJlbGF5S2VlcEFsaXZlVmFsdWVTZWNzIiwib3B0aW9ucyIsInN0b3JlIiwibGlnaHRQdXNoIiwicmVsYXkiLCJwdWJzdWIiLCJwaW5nS2VlcEFsaXZlVGltZXJzIiwicmVsYXlLZWVwQWxpdmVUaW1lcnMiLCJwaW5nS2VlcEFsaXZlIiwicmVsYXlLZWVwQWxpdmUiLCJjb25uZWN0aW9uTWFuYWdlciIsIm9uIiwiY29ubmVjdGlvbiIsInN0YXJ0S2VlcEFsaXZlIiwicmVtb3RlUGVlciIsInN0b3BLZWVwQWxpdmUiLCJkZWNyeXB0aW9uS2V5cyIsImZvckVhY2giLCJhZGREZWNyeXB0aW9uS2V5Iiwic3RhdGljIiwibGlicDJwT3B0cyIsImFzc2lnbiIsImNvbmZpZyIsInRyYW5zcG9ydCIsImFsbCIsInB1YlN1YlRvcGljIiwibW9kdWxlcyIsInN0cmVhbU11eGVyIiwiY29ubkVuY3J5cHRpb24iLCJOb2lzZSIsInN0YXRpY05vaXNlS2V5IiwiYm9vdHN0cmFwIiwibGlzdCIsInBlZXJEaXNjb3ZlcnkiLCJ0YWciLCJlbmFibGVkIiwiZSIsImNyZWF0ZSIsIndha3VTdG9yZSIsIndha3VMaWdodFB1c2giLCJzdGFydCIsImRpYWxQcm90b2NvbCIsImNvbmNhdCIsImFkZFBlZXJUb0FkZHJlc3NCb29rIiwicGVlcklkIiwibXVsdGlhZGRycyIsImNyZWF0ZUZyb21CNThTdHJpbmciLCJhZGRyZXNzZXMiLCJtYXAiLCJhZGRyIiwibXVsdGlhZGRyIiwiYWRkcmVzc0Jvb2siLCJzZXQiLCJzdG9wIiwia2V5IiwiZGVsZXRlRGVjcnlwdGlvbktleSIsImdldExvY2FsTXVsdGlhZGRyV2l0aElEIiwibG9jYWxNdWx0aWFkZHIiLCJmaW5kIiwibWF0Y2giLCJ0b0I1OFN0cmluZyIsImRlc2lyZWRQcm90b2NvbHMiLCJQcm9taXNlIiwiZGVzaXJlZFByb3RvY29sVmVyc2lvbnMiLCJwcm90byIsImdldFBlZXJzRm9yUHJvdG9jb2wiLCJwdXNoIiwicmVzb2x2ZSIsImNvbm5lY3RlZFBlZXJQcm90b2NvbHMiLCJkZXNpcmVkUHJvdG8iLCJwaW5nUGVyaW9kU2VjcyIsInJlbGF5UGVyaW9kU2VjcyIsInBlZXJJZFN0ciIsInNldEludGVydmFsIiwiZnJvbUJ5dGVzIiwiVWludDhBcnJheSIsIlJlbGF5UGluZ0NvbnRlbnRUb3BpYyIsInRoZW4iLCJ3YWt1TXNnIiwic2VuZCIsImNsZWFySW50ZXJ2YWwiLCJjb25zdHJ1Y3RvciIsIm1lc3NhZ2UiLCJvcHRzIiwicmFuZG9tUGVlciIsImlkIiwic3RyZWFtIiwibmV3U3RyZWFtIiwicXVlcnkiLCJQdXNoUlBDIiwiY3JlYXRlUmVxdWVzdCIsInJlcyIsImVuY29kZSIsImRlY29kZSIsInJlc3BvbnNlIiwiY29uc29sZSIsImxvZyIsImVyciIsInNlbGVjdFJhbmRvbVBlZXIiLCJyZXF1ZXN0SWQiLCJyZXF1ZXN0IiwiYnl0ZXMiLCJSZWFkZXIiLCJmaW5pc2giLCJfc2lnbmF0dXJlUHVibGljS2V5IiwiX3NpZ25hdHVyZSIsInV0ZjgiLCJjb250ZW50VG9waWMiLCJwYXlsb2FkIiwidGltZXN0YW1wIiwiZW5jUHVibGljS2V5Iiwic3ltS2V5Iiwic2lnUHJpdktleSIsIkRhdGUiLCJzaWciLCJfcGF5bG9hZCIsInZlcnNpb24iLCJlbmMiLCJ2ZXJzaW9uXzEiLCJjbGVhckVuY29kZSIsImVuY3J5cHRBc3ltbWV0cmljIiwiZW5jcnlwdFN5bW1ldHJpYyIsInZhbHVlT2YiLCJwdWJsaWNLZXkiLCJzaWduYXR1cmUiLCJwcm90b0J1ZiIsImRlY29kZVByb3RvIiwic2lnbmF0dXJlUHVibGljS2V5IiwiaXNEZWZpbmVkIiwiZGVjIiwiZGVjb2RlZFJlc3VsdHMiLCJwcml2YXRlS2V5IiwiZGVjcnlwdFN5bW1ldHJpYyIsImRlY3J5cHRBc3ltbWV0cmljIiwiY2xlYXJEZWNvZGUiLCJwYXlsb2FkQXNVdGY4IiwiY3J5cHRvIiwid2luZG93IiwibXNDcnlwdG8iLCJzdWJ0bGUiLCJ3ZWJraXRTdWJ0bGUiLCJBbGdvcml0aG0iLCJuYW1lIiwiRXJyb3IiLCJpdiIsImNsZWFyVGV4dCIsImltcG9ydEtleSIsImNyeXB0b0tleSIsImVuY3J5cHQiLCJjaXBoZXJUZXh0IiwiZGVjcnlwdCIsIkl2U2l6ZSIsImdldFJhbmRvbVZhbHVlcyIsIlN5bW1ldHJpY0tleVNpemUiLCJUYWdTaXplIiwic3ltbWV0cmljIiwibW9kIiwiY2F0Y2giLCJlQnJvd3NlciIsImVOb2RlIiwiY2lwaGVyIiwiY3JlYXRlQ2lwaGVyaXYiLCJ1cGRhdGUiLCJmaW5hbCIsImdldEF1dGhUYWciLCJ0YWdTdGFydCIsImRlY2lwaGVyIiwiY3JlYXRlRGVjaXBoZXJpdiIsInNldEF1dGhUYWciLCJyYW5kb21CeXRlcyIsInNlY3AyNTZrMSIsInB1YmxpY0tleUNyZWF0ZSIsImdldFNpemVPZlBheWxvYWRTaXplRmllbGQiLCJzIiwiaSIsImFycmF5IiwiUHJpdmF0ZUtleVNpemUiLCJtZXNzYWdlUGF5bG9hZCIsImVudmVsb3BlIiwibXNnIiwiZmllbGRTaXplIiwiZmllbGQiLCJhbGxvYyIsIndyaXRlVUludDMyTEUiLCJhZGRQYXlsb2FkU2l6ZUZpZWxkIiwicmF3U2l6ZSIsInBhZGRpbmdTaXplIiwicGFkIiwiZXhwZWN0ZWRTaXplIiwidmFsdWUiLCJlcXVhbHMiLCJoYXNoIiwia2VjY2FrMjU2IiwiZWNkc2FTaWduIiwicmVjaWQiLCJzaXplT2ZQYXlsb2FkU2l6ZUZpZWxkIiwicmVhZFVJbnRMRSIsInBheWxvYWRTaXplIiwiaXNTaWduZWQiLCJnZXRTaWduYXR1cmUiLCJnZXRIYXNoIiwibWVzc2FnZUhhc2giLCJyZWNvdmVyeSIsInJlYWRJbnRCRSIsImVjZHNhUmVjb3ZlciIsImVjUmVjb3ZlclB1YktleSIsImVjaWVzIiwicHJpdktleSIsImdlbmVyYXRlSXYiLCJpdlN0YXJ0Iiwic2Vjb25kIiwibWludXRlIiwiUmVsYXlHb3NzaXBGYWN0b3IiLCJSZWxheUhlYXJ0YmVhdEluaXRpYWxEZWxheSIsIlJlbGF5SGVhcnRiZWF0SW50ZXJ2YWwiLCJSZWxheVBydW5lUGVlcnMiLCJSZWxheVBydW5lQmFja29mZiIsIlJlbGF5RmFub3V0VFRMIiwiUmVsYXlPcHBvcnR1bmlzdGljR3JhZnRUaWNrcyIsIlJlbGF5T3Bwb3J0dW5pc3RpY0dyYWZ0UGVlcnMiLCJSZWxheU1heElIYXZlTGVuZ3RoIiwicm91dGVyIiwidG9waWMiLCJjb3VudCIsInBlZXJzSW5Ub3BpYyIsInRvcGljcyIsIlNldCIsInBlZXJTdHJlYW1zIiwic3VwZXIiLCJnbG9iYWxTaWduYXR1cmVQb2xpY3kiLCJTaWduYXR1cmVQb2xpY3kiLCJTdHJpY3ROb1NpZ24iLCJoZWFydGJlYXQiLCJSZWxheUhlYXJ0YmVhdCIsIm9ic2VydmVycyIsIm11bHRpY29kZWNzIiwiY29uc3RhbnRzIiwic3Vic2NyaWJlIiwicHVibGlzaCIsImFkZCIsImRlbGV0ZSIsImFkZE9ic2VydmVyIiwiY2FsbGJhY2siLCJjb250ZW50VG9waWNzIiwiZGVsZXRlT2JzZXJ2ZXIiLCJnZXRQZWVycyIsImdldFJlbGF5UGVlcnMiLCJfb3B0aW9ucyIsIkQiLCJzY29yZSIsInNjb3JlVGhyZXNob2xkcyIsInB1Ymxpc2hUaHJlc2hvbGQiLCJldmVudCIsImNhbGxiYWNrRm4iLCJqb2luIiwic3RhcnRlZCIsImZhbm91dFBlZXJzIiwiZmFub3V0Iiwic2l6ZSIsImhhcyIsImRpcmVjdCIsIm1lc2giLCJsYXN0cHViIiwiX3NlbmRHcmFmdCIsInJlY2VpdmVkRnJvbSIsImRlbGl2ZXJNZXNzYWdlIiwiZ29zc2lwVHJhY2VyIiwibXNnSUQiLCJnZXRNc2dJZCIsIm1zZ0lkU3RyIiwibWVzc2FnZUlkVG9TdHJpbmciLCJzZWVuQ2FjaGUiLCJwdXQiLCJtZXNzYWdlQ2FjaGUiLCJ0b1NlbmQiLCJ0b3BpY0lEcyIsIm1lc2hQZWVycyIsIl9ub3ciLCJycGMiLCJjcmVhdGVHb3NzaXBScGMiLCJ1dGlscyIsIm5vcm1hbGl6ZU91dFJwY01lc3NhZ2UiLCJfc2VuZFJwYyIsIl9lbWl0R29zc2lwIiwiZXhjbHVkZSIsIm1lc3NhZ2VJRHMiLCJnZXRHb3NzaXBJRHMiLCJwZWVyc1RvR29zc2lwIiwidG9waWNQZWVycyIsImdvc3NpcFRocmVzaG9sZCIsInRhcmdldCIsIkRsYXp5IiwiZmFjdG9yIiwicGVlck1lc3NhZ2VJRHMiLCJfcHVzaEdvc3NpcCIsInRvcGljSUQiLCJfbWFrZVBydW5lIiwiZG9QWCIsImJhY2tvZmYiLCJweCIsInhpZCIsInAiLCJwZWVySUQiLCJ0b0J5dGVzIiwic2lnbmVkUGVlclJlY29yZCIsIl9saWJwMnAiLCJnZXRSYXdFbnZlbG9wZSIsIkhlYXJ0YmVhdCIsImdvc3NpcHN1YiIsIl9oZWFydGJlYXRUaW1lciIsIl9oZWFydGJlYXQiLCJiaW5kIiwidGltZW91dCIsInNldFRpbWVvdXQiLCJydW5QZXJpb2RpY2FsbHkiLCJfaW50ZXJ2YWxJZCIsImZuIiwicGVyaW9kIiwiY2FuY2VsIiwiY2xlYXJUaW1lb3V0IiwiRGxvIiwiRGhpIiwiRHNjb3JlIiwiRG91dCIsImhlYXJ0YmVhdFRpY2tzIiwic2NvcmVzIiwiTWFwIiwiZ2V0U2NvcmUiLCJ0b0dyYWZ0IiwidG9QcnVuZSIsIm5vUFgiLCJfY2xlYXJCYWNrb2ZmIiwicGVlcmhhdmUiLCJjbGVhciIsImlhc2tlZCIsIl9hcHBseUl3YW50UGVuYWx0aWVzIiwiX2RpcmVjdENvbm5lY3QiLCJwcnVuZVBlZXIiLCJwcnVuZSIsIl9hZGRCYWNrb2ZmIiwiZ3JhZnRQZWVyIiwiZ3JhZnQiLCJpbmVlZCIsInBlZXJzQXJyYXkiLCJzb3J0Iiwib3V0Ym91bmQiLCJyb3RhdGUiLCJqIiwiaWhhdmUiLCJwZWVyc0xpc3QiLCJtZWRpYW5JbmRleCIsImZsb29yIiwibWVkaWFuU2NvcmUiLCJvcHBvcnR1bmlzdGljR3JhZnRUaHJlc2hvbGQiLCJub3ciLCJfc2VuZEdyYWZ0UHJ1bmUiLCJfZmx1c2giLCJzaGlmdCIsImVtaXQiLCJIaXN0b3J5UlBDIiwicGFyYW1zIiwiZGlyZWN0aW9uIiwicGFnZURpcmVjdGlvbiIsIkJBQ0tXQVJEIiwiUGFnaW5nSW5mb19EaXJlY3Rpb24iLCJESVJFQ1RJT05fQkFDS1dBUkRfVU5TUEVDSUZJRUQiLCJGT1JXQVJEIiwiRElSRUNUSU9OX0ZPUldBUkQiLCJkaXJlY3Rpb25Ub1Byb3RvIiwicGFnaW5nSW5mbyIsInBhZ2VTaXplIiwiY3Vyc29yIiwiY29udGVudEZpbHRlcnMiLCJzdGFydFRpbWUiLCJlbmRUaW1lIiwiRGVmYXVsdFBhZ2VTaXplIiwidGltZUZpbHRlciIsImdldFRpbWUiLCJtZXNzYWdlcyIsInF1ZXJ5T3B0cyIsImhpc3RvcnlScGNRdWVyeSIsImNyZWF0ZVF1ZXJ5IiwicmVtb3RlQWRkciIsImVycm9yIiwiSGlzdG9yeVJlc3BvbnNlX0Vycm9yIiwiRVJST1JfSU5WQUxJRF9DVVJTT1IiLCJwYWdlTWVzc2FnZXMiLCJwcm90b01zZyIsImFib3J0IiwiQm9vbGVhbiIsInJlc3BvbnNlUGFnZVNpemUiLCJxdWVyeVBhZ2VTaXplIiwiSW5kZXgiLCJQYWdpbmdJbmZvIiwiQ29udGVudEZpbHRlciIsIkhpc3RvcnlRdWVyeSIsIkhpc3RvcnlSZXNwb25zZSIsInByb3RvYnVmUGFja2FnZSIsImJhc2VQdXNoUmVxdWVzdCIsIlB1c2hSZXF1ZXN0Iiwid3JpdGVyIiwiV3JpdGVyIiwidWludDMyIiwic3RyaW5nIiwiZm9yayIsImxkZWxpbSIsImlucHV0IiwicmVhZGVyIiwiZW5kIiwibGVuIiwicG9zIiwic2tpcFR5cGUiLCJmcm9tSlNPTiIsIm9iamVjdCIsIlN0cmluZyIsInRvSlNPTiIsIm9iaiIsImZyb21QYXJ0aWFsIiwiYmFzZVB1c2hSZXNwb25zZSIsImlzU3VjY2VzcyIsImluZm8iLCJib29sIiwiYmFzZVB1c2hSUEMiLCJ1dGlsIiwiTG9uZyIsImNvbmZpZ3VyZSIsImJhc2VXYWt1TWVzc2FnZSIsImRvdWJsZSIsImI2NCIsImJpbiIsImF0b2IiLCJhcnIiLCJjaGFyQ29kZUF0IiwiYnl0ZXNGcm9tQmFzZTY0IiwiTnVtYmVyIiwiYnl0ZSIsImZyb21DaGFyQ29kZSIsImJ0b2EiLCJiYXNlNjRGcm9tQnl0ZXMiLCJnbG9iYWxUaGlzIiwic2VsZiIsImciLCJwYWdpbmdJbmZvX0RpcmVjdGlvbkZyb21KU09OIiwiVU5SRUNPR05JWkVEIiwicGFnaW5nSW5mb19EaXJlY3Rpb25Ub0pTT04iLCJoaXN0b3J5UmVzcG9uc2VfRXJyb3JGcm9tSlNPTiIsIkVSUk9SX05PTkVfVU5TUEVDSUZJRUQiLCJoaXN0b3J5UmVzcG9uc2VfRXJyb3JUb0pTT04iLCJiYXNlSW5kZXgiLCJyZWNlaXZlZFRpbWUiLCJzZW5kZXJUaW1lIiwiZGlnZXN0IiwiYmFzZVBhZ2luZ0luZm8iLCJ1aW50NjQiLCJpbnQzMiIsImxvbmdUb051bWJlciIsImJhc2VDb250ZW50RmlsdGVyIiwiYmFzZUhpc3RvcnlRdWVyeSIsInYiLCJiYXNlSGlzdG9yeVJlc3BvbnNlIiwiYmFzZUhpc3RvcnlSUEMiLCJsb25nIiwiZ3QiLCJNQVhfU0FGRV9JTlRFR0VSIiwidG9OdW1iZXIiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJsb2FkZWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiY2FsbCIsIm0iLCJhbWRPIiwiTyIsInJlc3VsdCIsImNodW5rSWRzIiwicHJpb3JpdHkiLCJub3RGdWxmaWxsZWQiLCJJbmZpbml0eSIsImZ1bGZpbGxlZCIsImtleXMiLCJldmVyeSIsInNwbGljZSIsInIiLCJkIiwiZGVmaW5pdGlvbiIsIm8iLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJGdW5jdGlvbiIsImhhc093blByb3BlcnR5Iiwibm1kIiwicGF0aHMiLCJjaGlsZHJlbiIsImluc3RhbGxlZENodW5rcyIsImNodW5rSWQiLCJ3ZWJwYWNrSnNvbnBDYWxsYmFjayIsInBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uIiwibW9yZU1vZHVsZXMiLCJydW50aW1lIiwic29tZSIsImNodW5rTG9hZGluZ0dsb2JhbCIsIl9fd2VicGFja19leHBvcnRzX18iXSwic291cmNlUm9vdCI6IiJ9